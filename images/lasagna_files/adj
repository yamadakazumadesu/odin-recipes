




var __IntegralASDiagnosticCall = (function() {
	try {
		var alreadySent = {};
		return function(code, err, config) {
			try {
				var gen = function(code, err, config) {
					var url = '//diag.adsafeprotected.com/js?';
					try {
						var errMsg = err && err.message ? encodeURIComponent(err.message.replace(/ /g, '-')).substring(0, 200) : '';
						url += 'code:fwjs-diag-' + code;
						url += '&err:' + errMsg;
						url += '&codeanderr:' + code + '_' + errMsg;
						if (config) {
							
							url += '&version:' + config.version || '';
							url += '&server:' + config.mn || '';
							url += '&region:' + config.region || '';
							url += '&mode:' + config.mode || '';
							url += '&forceAppend:' + config.forceAppend || '';
							url += '&asid:' + config.asid || '';
							url += '&anId:' + config.anId || '';
							url += '&advEntityId:' + config.advEntityId || '';
							url += '&pubEntityId:' + config.pubEntityId || '';
							url += '&mobOrTab:' + config.mobOrTab || '';
							url += '&app:' + config.app || '';
							url += '&mobAppWebview:' + config.mobAppWebview || '';
						}
						url += '&domless:' + __IASScope.isDomless;
					} catch (e) {
						url += '&diagx:' + (e && e.message ? e.message.toString().replace(/ /g, '-') : '');
					}
					return url;
				};

				var send = function(url) {
					if (__IASScope.isDomless && __IASOmidVerificationClient && __IASOmidVerificationClient.sendUrl) {
						__IASOmidVerificationClient.sendUrl(url);
					} else {
						var img = new Image();
						img.src = url;
					}
				};
				if (!alreadySent[code] && Math.random() < 0.01) {
					alreadySent[code] = true;
					send(gen(code, err, config));
				}
			} catch (e) {}
		};
	} catch (e) {
		return function() {};
	}
})();





try {

	var __IntegralASConfig = {
		jsDoSplit: false,
		debug: "false",
		jsDiag: 'true',
		version: '19.8.343',
		exchList: {'e1':'nqzryq','e2':'tbbtyrnqf.t.qbhoyrpyvpx','e3':'ehovpbacebwrpg','e4':'chozngvp','e5':'bcrak','e6':'nqoevgr.pbz','e7':'tynz.pbz','e8':'lvryqznantre.pbz','e9':'yvwvg','e10':'nqakf','p11':'ghea.pbz','p12':'zngugnt','p13':'vaivgrzrqvn','p14':'qngnkh','n15':'zrqvn6qrterrf','n16':'dhnagfreir','n17':'esvuho.arg','a18':'napubeserr','a19':'eff2frnepu','a20':'mgfgngvp.pbz','n21':'ovq.npr.nqiregvfvat','e22':'wnfba','v23':'fcbgkpqa','v24':'ogeyy','v25':'yvirenvy','v26':'nqncgi','v27':'nqnc.gi','n29':'qbzqrk.pbz','n30':'ernyih.arg','d31':'cvengronl','d32':'cebklonl','d33':'onlcebkl','d34':'cvengrcebkl','d35':'cebklcvengr','d36':'onlcvengr','n37':'tjnyyrg','p39':'j55p.arg','p40':'c0l.pa','p41':'vcvalbh.pbz','p42':'c0lwferaqre'},
		sp_cdnDomain: 'cdn.adsafeprotected.com',
		sp_cdnScripts: {xsca: "static.adsafeprotected.com/xsca.17.4.85.js", sca: "static.adsafeprotected.com/sca.17.5.12.js", main: "static.adsafeprotected.com/main.19.8.343.js"},
		protocol: 'https',
		jsref: "https:\/\/1e2b55a9655b788fc3fbb70b0915216f.safeframe.googlesyndication.com\/",
		asid: "a0b74709-19c9-11ed-8400-a69a3d0ae6a7",
		allowViewability: "true",
		jsFeatures: "viewabilityready,rattie,exch,usedtdomain,resolution,usetpl,idMap,offscreen,everySecond:1,slid,fm2:1,largeAd,chromeNativeIO,ios,ancestor,avmm,avgrn,swapids,pIntervals:10,usesca,bustediframe,impFailSafe,yieldmo,sfdetect,pmdetect,novidnodeerr:5,viewabilityOptimization,usehaps,customMetric,sizmek,celtra,groupmCM,avidPropertiesInImpression,abcAudit,mrcAudit:1,bbs,bas,spg,exitOASRSEarly:1,encodeInvalidUrlChars,recoverOmidLostTime,forceKeepGoogleAdNode",
		minimizeCalls: "false",
		adWidth: "728",
		adHeight: "90",
		forceAppend: "false",
		sp_imp_maxLength: 10000,
		sp_imp_jsInfo_minLength: 200,
		_onInViewMRC15: __IntegralASConfig && __IntegralASConfig.onInViewMRC15,
		_onInViewMRC: __IntegralASConfig && __IntegralASConfig.onInViewMRC,
		_onMeasurable: __IntegralASConfig && __IntegralASConfig.onMeasurable,
		_onAPIResult: __IntegralASConfig && __IntegralASConfig.onAPIResult,
		_onInViewFull: __IntegralASConfig && __IntegralASConfig.onInViewFull,
		_onSuspicious: __IntegralASConfig && __IntegralASConfig.onSuspicious,
		_onInViewMRC5: __IntegralASConfig && __IntegralASConfig.onInViewMRC5,
		reqquery: "",
		mode: "rjss",
		requrl: "",
		dtBaseURL: "https:\/\/dt.adsafeprotected.com\/dt?advEntityId=1118560",
		adsafeSrc: "https:\/\/fw.adsafeprotected.com\/rfw\/bgd\/1118560\/64759630\/xbbe\/creative\/adj?p=APEucNVT-4_Wfad4Hh1jPO2xE5gAlEntYkrOtBZya99A02ikJ17me_0&d=CokBAKAmf-ALMuUESe8d9pt4MsS69bfr3Wzhl9gx7LJQGZ0_U9gAlyEoOez5Dg2YPGVrd0YbdW_ILYkLVopsLDlosj1xE32p3gqcXRwUr6wSJuuT1gxYzDIxa4w5nCxZc0HVtAcWybr3EFbi52QDIPi1XQ63xGXwxoOOWbBRhmPMQ7DBAo6pnYw5Jx8S-RUAoCZ_4K1w1lFDL1tYV3ha_tYWLOZ-AtVVDskraFw-xiYSF_ox7WjuJpByIoISJvoMkossTgl20RMdbq-npbTSe20befagFNNepaZRO7r5oxXB6NYPDMmeWp54irRKczBvwe1olk-IDwnUuPrGIKEnGmQCwEyEnwofw93FhgtdItcHUz-Hq2ZY7uPZJhk3MFJHLlN3S7kogTnBulHuOHzVJX8-aFccRL48ohsDLSawDhlJEvY-sL3fbnCtQPtvg2_pxf8BadKiYiLgTJvl_NOdkTHczPik9NF-9XgcEmWQJEGAilmiR2wGAtN1NCTaFKusPHY22bISayLhQFpbWvRDIKAMZvLIscoCtzQLPrTJUPYKBPwUybn89vx3seQgVEmRw1kY_9jSij4wGiJWhsmEgBHQiW5Z83luS0tmbERL6Go-tSAd8Qc5rOsUD_idFZ-_zmiGhrMdl5YNmBhand0K2SsXFudbqw9foFsso4_TtGQNZAHqcaqnB9dlGfEDxFksxKaDCr1oF5QUlY1WIVAD-MEUKJ_KIgZhbb9mZ3WrmG8gaXzIFZ9oUswIk2cvqSFNddaB2Oqn2smmWqdPrbgFDQnV_vgOuGRMweWI9zkhnkXpPHp1ETjYiAWm6eos8tHcOnqYeRlJf_DSklMvyEXXSHADnoFkeRyxG_wOFHINDeAcHx03Q0D_5OVAYXYFD3jIBgTJG-oCGlotbbtMbAr-pdSuVXta49U6RJ5tBawJdttmgSsKASgH09ZVSL4DW4a1Kxjm1VESZ1SeyKvmxFobZ_f8tN8yy67TbXYbwe2NwrAJVTTU2S3fte-b7Ae3Q69S3uvdrPEdU65X-pir4iiojzUTfxfIzAyG46aMfJsn7yQggIrfOZ_tsEhV2BdyiXbCo3yriC4kPP84Mb7Z7EEy6tTg_twQkEHRqFOQMMlA7KiIdfrBXJeUWUFdM1tLJkv_VmeDbIFfiArg2a02LvhT5QIwtabtuUjc6ZSAl-vHyOWvUV6iaOR_7vGljYQAs07jH7d2uZYYJMr-j5ZWKR5k_kRnUPwTyjMLXZ2EnBdSOnAuStTjNa0DTWWsMBIu_epdyB5BDwatbMJL-cQgrfrX6fH6cRrm37c6DzgaokRMDDK_HwvvvNAv2Ta4mn8Qd0kkRej6VyOIl7Gi765HofbWRugZp9qhkxODeJqTgh3NmFSYMS5twwgge7Y_zBnsPYKar2S4nejV64eQ1xKLQHga7CrpcMHKSn6TlctQd0MDNHkOx--RCR8fEhaLf45MEPanCJxpbmoKXMAaa6YhPau2a4sX6q8xN5wzO2VOrHCnUfmvaMHq7R9Pg3yeegUmcMm0iEalgnfbeK4Cf3MwtQnitvA5dtsuJVYaR76akIMosnV9hyLCjJ8WORNBgtXJnNrlvPBxVdmrDoJip9Ceb0w9-Cr9SDKIIXAIr3mbR3jtRtSTRFpvL2cGxbOmyANrDh2jbXlYdOY7GghHfpNf2x1vkEL5oxM8PZWdw3qjRunCuJH45UeMDo0NufxPxTRFmdMm8-fyEi3U3sI9y3w5tYGJpgM52IOVbl3FCXuANtz-qFlp8CYSKuHXuDwmkXAM8WEzS5GEXnU14c2gM_9O35a2tUobJM0uPJnvlSY3xRTqpHIdLcXX_QPqzVJDMEB2jD_kVBkmVZwV-HXmBMmlovyN6700dmYikTXs_CqeFwcxbwtvXcw5CXjcVTBdKOpzaBujst00XViKKPqc4qCwg9_itif6VuuGEqpbtJZUlHV93P1-fz-2mjD1czA6CiKFCm7AuvGwEjV9l0lpxp1tthn4Ml3NZt_jHLBELfhtmCqJ5-i_kndjwsVn5sfcgpnFNNZWmY3_8XVkKYZaYWdLPL-j0pVVjFGxa6mzkzbUPwNhnIECEZzrDwcAojF4zjFK0W9jbRdAZW8xdNLzYD17nAibEYL6bF4ULnaQC5YwIVEeWG6_uri91FwtkZNyElK8DbW1hzwldRNd56vb-bNL4DsUBgj4tap4BhHPmddxvLUFTe7HPG0GElzGwHevisgrdtW31gVrCK0keHqpMtFNIDdHkGwh1ZoYNLEqCA4NX1N1ZFZfVzlsMrcpG0_Gi55e-ReLkffQ_oYx9nZHw-PN1i9cktEH_6Ao4WQ4b100qujI2_AvUjgD72-OyRAIaGD2QLh9R9EXGavnvsLLUnCRewNlvox5D5K43tVU454ckcACAnbUdqkNNRWmjVlITA89E8sSy5_PSqWE5jWhL4J17aazDw-UeJAzi7yZcR0R0_GdncF0zqr_JXjUv29eqc9o0ElP-d31bdGh1uTdWpvhtIU572tOoTl6bBjw-rpZFFzl0UsiNbzc65DJSBk2syXBPn3qtfIUhhO4B-K4f351IXxoExrDF4ftJPQophluEZIjboV1MGxSCqjZMLtTHFAJRkk4pa51UrQejYj3h3f3UOLALrZzFlghd9EIxyNuNRKN8pAA0PasvDZqht8g2N7nLKq18y-hsZYpdgikWkLFsTIH3gJStixDKpO-4NQ2AgBCE86VDsAv8AjoAgNu7IlAo38PlIjagdXEi422YfstBycnEKjSUUn2lAZgQPREVYwQ-mVE_6JAuWUUieljseU59AAPDqb4selYGA-emzNg9EsepExg4_pFF-OL2TCbqnxmXaeuaLCSlkDedajOld4TLaJz8HtopXAsnR31_9v8CUm_gdQvxPBxqu-1_AfYo4bavFfldc0QxSmeWGdIKaW6uR3LNsyJ_yIVBg5Nr4C-CNZY92KKBKGPs5k6K5GteO3iseu06A-NJyd6b5WBvP5BfrSoKnOBlwqhLje-CNtruhoB9WrYsI8i-OhY_7hy2byerT44oW-RxpmkbNzzrfXUeQ1Ydci1C-gG6m9JLquScPSztGsWwzGWl_hLOPE8NU81G6jWl2k6-PD4uMFD2goP_POhVtX0UuYgGXNTtM18xMHBR-_9-s4o_jXO92I9B_NrmLrFDYzDTmcKN5DERuN8SmngcP5UGAdCPlYDdD5d2gGJu4M4oDnrQtlcPpmBqOcqfAqoBGQXxHTDyI8PsUHlcLYliPUtFXGYMPlfGhc3G9qYhdpUmTyrZAvjuwKkBfsQViBLcRsPdywBVIl4fki9K2k1Rp5LcgI3Nqwqv0AXeaDqKjiu0DBt9YIrapNAs2FYXy_suuPYiOnOSfc-B_QGI-asW9DTMBAGUbF1IwxQ11N5GKrwrFjJ9y7R2dOWNTUuZEPQqnAptiDWHY7Gnzxy5Gvfn3NGOqIf20NYhfgANvMzlIcJnVKbs3fsat92TT2YZRXPSNpzI2FzASrEL4nbHZwjB5uEOgm7ZtMboAigVR4QjrlodLhLHITt1k-gVlwEOXkndn48vw_-JoYZbLzzAhtQCdWksk2OBMvPK63dENFgEsyZ3uVgnNhBm22QmYl1_AiIGqJyIK0PkpPhYfmGMR-Y-qifGu-5S5gO7n53O7tRa0K-OFXYpaguRkYVMRmMcbmPJmefk0MDZ_bf5f_Bvy359nfzEH3Ohr6l0rWB_bBru-slaLbcD8ecMwhCp1PZP99gdEa7v-7j59LpOQbqOHB3tEExS1dGNLIICOrmoe7OAYGQXjXCk2gEoE27_WQWdsDDHIQDShMBxf-Juxwcto-HkNTB2Zx1s-YljzR43vnSi-_I_E1J5W-vLGjuQtwWtyF0XsUCemSvmlbyL1fMsJGKmrpVoPzWcuoRaaxPNl77QqRqjxeXq8uWGn0IAxJ5AKVIWHc46V72I118mJhZkaglDbNceplG-j040Pq_8PpzShbrYnkk-QP0vty-odhU1i2vhMjHDu08QQlthD13GucYwXuSlfKtaq7a3r6lczsTpmAB7H7qCJxk0PzcKNMILDECx8L76eRkMjob79_xfwAFaFWxxlG4LGAB&cry=1&ias_dspID=3&ias_campId=1008650389&ias_pubId=pub-0978064532142215&ias_chanId=1&ias_placementId=17872969369&bidurl=https:\/\/www.allrecipes.com\/recipe\/257156\/enchilada-lasagna\/&ias_dealId=&adsafe_par&ias_impId=v4~~ABAjH0i9EuUOI-Gxiv0HjqlQWKi0",
		tpiLookupURL: "",
		getTpl: "false",
		use100v: false,
		useBapiCallback: "",
		useViewabilityNotification: "",
		scriptUrl: "https:\/\/fw.adsafeprotected.com\/rjss\/bgd\/1118560\/64759630\/xbbe\/creative\/adj?p=APEucNVT-4_Wfad4Hh1jPO2xE5gAlEntYkrOtBZya99A02ikJ17me_0&d=CokBAKAmf-ALMuU",
		accountForSadImps: '',
		fwMonitoring: 'false',
		mn: "jsserver-primary-84b5b656cc-vrknz",
		mobOrTab: false,
		app: false,
		mobAppWebview: false,
		mobFwUrl: "https:\/\/mobile.adsafeprotected.com\/internal\/blocking\/app\/initial\/1118560\/64759630?redirectUrl=https%3A%2F%2Fbid.g.doubleclick.net%2Fxbbe%2Fcreative%2Fadj%3Fp%3DAPEucNVT-4_Wfad4Hh1jPO2xE5gAlEntYkrOtBZya99A02ikJ17me_0%26d%3DCokBAKAmf-ALMuUESe8d9pt4MsS69bfr3Wzhl9gx7LJQGZ0_U9gAlyEoOez5Dg2YPGVrd0YbdW_ILYkLVopsLDlosj1xE32p3gqcXRwUr6wSJuuT1gxYzDIxa4w5nCxZc0HVtAcWybr3EFbi52QDIPi1XQ63xGXwxoOOWbBRhmPMQ7DBAo6pnYw5Jx8S-RUAoCZ_4K1w1lFDL1tYV3ha_tYWLOZ-AtVVDskraFw-xiYSF_ox7WjuJpByIoISJvoMkossTgl20RMdbq-npbTSe20befagFNNepaZRO7r5oxXB6NYPDMmeWp54irRKczBvwe1olk-IDwnUuPrGIKEnGmQCwEyEnwofw93FhgtdItcHUz-Hq2ZY7uPZJhk3MFJHLlN3S7kogTnBulHuOHzVJX8-aFccRL48ohsDLSawDhlJEvY-sL3fbnCtQPtvg2_pxf8BadKiYiLgTJvl_NOdkTHczPik9NF-9XgcEmWQJEGAilmiR2wGAtN1NCTaFKusPHY22bISayLhQFpbWvRDIKAMZvLIscoCtzQLPrTJUPYKBPwUybn89vx3seQgVEmRw1kY_9jSij4wGiJWhsmEgBHQiW5Z83luS0tmbERL6Go-tSAd8Qc5rOsUD_idFZ-_zmiGhrMdl5YNmBhand0K2SsXFudbqw9foFsso4_TtGQNZAHqcaqnB9dlGfEDxFksxKaDCr1oF5QUlY1WIVAD-MEUKJ_KIgZhbb9mZ3WrmG8gaXzIFZ9oUswIk2cvqSFNddaB2Oqn2smmWqdPrbgFDQnV_vgOuGRMweWI9zkhnkXpPHp1ETjYiAWm6eos8tHcOnqYeRlJf_DSklMvyEXXSHADnoFkeRyxG_wOFHINDeAcHx03Q0D_5OVAYXYFD3jIBgTJG-oCGlotbbtMbAr-pdSuVXta49U6RJ5tBawJdttmgSsKASgH09ZVSL4DW4a1Kxjm1VESZ1SeyKvmxFobZ_f8tN8yy67TbXYbwe2NwrAJVTTU2S3fte-b7Ae3Q69S3uvdrPEdU65X-pir4iiojzUTfxfIzAyG46aMfJsn7yQggIrfOZ_tsEhV2BdyiXbCo3yriC4kPP84Mb7Z7EEy6tTg_twQkEHRqFOQMMlA7KiIdfrBXJeUWUFdM1tLJkv_VmeDbIFfiArg2a02LvhT5QIwtabtuUjc6ZSAl-vHyOWvUV6iaOR_7vGljYQAs07jH7d2uZYYJMr-j5ZWKR5k_kRnUPwTyjMLXZ2EnBdSOnAuStTjNa0DTWWsMBIu_epdyB5BDwatbMJL-cQgrfrX6fH6cRrm37c6DzgaokRMDDK_HwvvvNAv2Ta4mn8Qd0kkRej6VyOIl7Gi765HofbWRugZp9qhkxODeJqTgh3NmFSYMS5twwgge7Y_zBnsPYKar2S4nejV64eQ1xKLQHga7CrpcMHKSn6TlctQd0MDNHkOx--RCR8fEhaLf45MEPanCJxpbmoKXMAaa6YhPau2a4sX6q8xN5wzO2VOrHCnUfmvaMHq7R9Pg3yeegUmcMm0iEalgnfbeK4Cf3MwtQnitvA5dtsuJVYaR76akIMosnV9hyLCjJ8WORNBgtXJnNrlvPBxVdmrDoJip9Ceb0w9-Cr9SDKIIXAIr3mbR3jtRtSTRFpvL2cGxbOmyANrDh2jbXlYdOY7GghHfpNf2x1vkEL5oxM8PZWdw3qjRunCuJH45UeMDo0NufxPxTRFmdMm8-fyEi3U3sI9y3w5tYGJpgM52IOVbl3FCXuANtz-qFlp8CYSKuHXuDwmkXAM8WEzS5GEXnU14c2gM_9O35a2tUobJM0uPJnvlSY3xRTqpHIdLcXX_QPqzVJDMEB2jD_kVBkmVZwV-HXmBMmlovyN6700dmYikTXs_CqeFwcxbwtvXcw5CXjcVTBdKOpzaBujst00XViKKPqc4qCwg9_itif6VuuGEqpbtJZUlHV93P1-fz-2mjD1czA6CiKFCm7AuvGwEjV9l0lpxp1tthn4Ml3NZt_jHLBELfhtmCqJ5-i_kndjwsVn5sfcgpnFNNZWmY3_8XVkKYZaYWdLPL-j0pVVjFGxa6mzkzbUPwNhnIECEZzrDwcAojF4zjFK0W9jbRdAZW8xdNLzYD17nAibEYL6bF4ULnaQC5YwIVEeWG6_uri91FwtkZNyElK8DbW1hzwldRNd56vb-bNL4DsUBgj4tap4BhHPmddxvLUFTe7HPG0GElzGwHevisgrdtW31gVrCK0keHqpMtFNIDdHkGwh1ZoYNLEqCA4NX1N1ZFZfVzlsMrcpG0_Gi55e-ReLkffQ_oYx9nZHw-PN1i9cktEH_6Ao4WQ4b100qujI2_AvUjgD72-OyRAIaGD2QLh9R9EXGavnvsLLUnCRewNlvox5D5K43tVU454ckcACAnbUdqkNNRWmjVlITA89E8sSy5_PSqWE5jWhL4J17aazDw-UeJAzi7yZcR0R0_GdncF0zqr_JXjUv29eqc9o0ElP-d31bdGh1uTdWpvhtIU572tOoTl6bBjw-rpZFFzl0UsiNbzc65DJSBk2syXBPn3qtfIUhhO4B-K4f351IXxoExrDF4ftJPQophluEZIjboV1MGxSCqjZMLtTHFAJRkk4pa51UrQejYj3h3f3UOLALrZzFlghd9EIxyNuNRKN8pAA0PasvDZqht8g2N7nLKq18y-hsZYpdgikWkLFsTIH3gJStixDKpO-4NQ2AgBCE86VDsAv8AjoAgNu7IlAo38PlIjagdXEi422YfstBycnEKjSUUn2lAZgQPREVYwQ-mVE_6JAuWUUieljseU59AAPDqb4selYGA-emzNg9EsepExg4_pFF-OL2TCbqnxmXaeuaLCSlkDedajOld4TLaJz8HtopXAsnR31_9v8CUm_gdQvxPBxqu-1_AfYo4bavFfldc0QxSmeWGdIKaW6uR3LNsyJ_yIVBg5Nr4C-CNZY92KKBKGPs5k6K5GteO3iseu06A-NJyd6b5WBvP5BfrSoKnOBlwqhLje-CNtruhoB9WrYsI8i-OhY_7hy2byerT44oW-RxpmkbNzzrfXUeQ1Ydci1C-gG6m9JLquScPSztGsWwzGWl_hLOPE8NU81G6jWl2k6-PD4uMFD2goP_POhVtX0UuYgGXNTtM18xMHBR-_9-s4o_jXO92I9B_NrmLrFDYzDTmcKN5DERuN8SmngcP5UGAdCPlYDdD5d2gGJu4M4oDnrQtlcPpmBqOcqfAqoBGQXxHTDyI8PsUHlcLYliPUtFXGYMPlfGhc3G9qYhdpUmTyrZAvjuwKkBfsQViBLcRsPdywBVIl4fki9K2k1Rp5LcgI3Nqwqv0AXeaDqKjiu0DBt9YIrapNAs2FYXy_suuPYiOnOSfc-B_QGI-asW9DTMBAGUbF1IwxQ11N5GKrwrFjJ9y7R2dOWNTUuZEPQqnAptiDWHY7Gnzxy5Gvfn3NGOqIf20NYhfgANvMzlIcJnVKbs3fsat92TT2YZRXPSNpzI2FzASrEL4nbHZwjB5uEOgm7ZtMboAigVR4QjrlodLhLHITt1k-gVlwEOXkndn48vw_-JoYZbLzzAhtQCdWksk2OBMvPK63dENFgEsyZ3uVgnNhBm22QmYl1_AiIGqJyIK0PkpPhYfmGMR-Y-qifGu-5S5gO7n53O7tRa0K-OFXYpaguRkYVMRmMcbmPJmefk0MDZ_bf5f_Bvy359nfzEH3Ohr6l0rWB_bBru-slaLbcD8ecMwhCp1PZP99gdEa7v-7j59LpOQbqOHB3tEExS1dGNLIICOrmoe7OAYGQXjXCk2gEoE27_WQWdsDDHIQDShMBxf-Juxwcto-HkNTB2Zx1s-YljzR43vnSi-_I_E1J5W-vLGjuQtwWtyF0XsUCemSvmlbyL1fMsJGKmrpVoPzWcuoRaaxPNl77QqRqjxeXq8uWGn0IAxJ5AKVIWHc46V72I118mJhZkaglDbNceplG-j040Pq_8PpzShbrYnkk-QP0vty-odhU1i2vhMjHDu08QQlthD13GucYwXuSlfKtaq7a3r6lczsTpmAB7H7qCJxk0PzcKNMILDECx8L76eRkMjob79_xfwAFaFWxxlG4LGAB%26cry%3D1&ias_campId=1008650389&ias_pubId=pub-0978064532142215&ias_placementId=17872969369&ias_chanId=1&ias_dealId=&ias_impId=v4~~ABAjH0i9EuUOI-Gxiv0HjqlQWKi0&ias_dspId=3",
		anId: '',
		advEntityId: '1118560',
		pubEntityId: '64759630',
		videoId: '',
		rts: {},
		customViewability: [{ "id":"grpm1", "tiv": 1, "minunit":1, "thresholds": [{"piv":100, "ub": 242499}, {"piv": 50, "lb": 242500}], "mediaTypes":["display"], "deviceGroups":["desktop"], "distributionChannels":["web","app"], "rts":"_onInViewGroupM" },{ "id":"grpm2", "tiv": "15|50%", "minunit":1, "sound": "on", "soundExcl": "groupm_native", "thresholds": [{"piv":100, "ub": 299999},{"piv":80, "lb": 300000} ], "mediaTypes":["video"], "deviceGroups":["desktop"], "distributionChannels":["web","app"] },{ "id":"grpm3", "tiv": 1, "minunit":1, "thresholdType":"grpmMobPassThru","thresholds": [{"piv":100}], "mediaTypes":["display"], "deviceGroups":["mobile"], "distributionChannels":["web","app"], "rts":"_onInViewGroupM" },{ "id":"grpm4", "tiv": "15|50%", "minunit":1, "sound": "on", "soundExcl": "groupm_native", "thresholdType":"grpmMobPassThru","thresholds": [{"piv":100} ], "mediaTypes":["video"], "deviceGroups":["mobile"], "distributionChannels":["web","app"] }],
		serverSideAppDetection: [],
		groupm_native_publisher: false,
		integration: null,
		staticServer: '\/\/static.adsafeprotected.com\/',
		passback: 'https:\/\/static.adsafeprotected.com\/passback_728x90.js',
		iasProxyPartnerDomain: '',
		region: 'sg'
	};

try {


	

	__IASScope = typeof window !== "undefined" ? window : this;
	
	__IntegralASConfig.isResolved = !!__IntegralASConfig.jsFeatures;
	__IntegralASConfig.staticMode = !__IntegralASConfig.isResolved;
	__IntegralASConfig.birthdate = new Date().getTime();
	__IntegralASConfig.perfBirth = (typeof __IASScope.performance !== "undefined" && typeof __IASScope.performance.now === 'function') ? __IASScope.performance.now() : null;




;(function(omidGlobal, factory, exports) {
	// CommonJS support
	if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {
		factory(omidGlobal, exports);

		// If neither AMD nor CommonJS are used, export to a versioned name in the
		// global context.
	} else {
		var exports = {};
		var versions = ['1.3.25-iab3167'];
		var additionalVersionString = '';
		if (!!additionalVersionString) {
			versions.push(additionalVersionString);
		}

		factory(omidGlobal, exports);

		function deepFreeze(object) {
			for (var key in object) {
				if (object.hasOwnProperty(key)) {
					object[key] = deepFreeze(object[key]);
				}
			}
			return Object.freeze(object);
		}

		// Inject and freeze the exported components of omid.
		for (var key in exports) {
			if (exports.hasOwnProperty(key)) {
				if (Object.getOwnPropertyDescriptor(omidGlobal, key) == null) {
					// Define the top level property in the global scope
					Object.defineProperty(omidGlobal, key, {
//						value: {},       Removed trailing comma for build
						value: {}
					});
				}
				versions.forEach(function(version) {
					if (Object.getOwnPropertyDescriptor(omidGlobal[key], version) == null) {
						var frozenObject = deepFreeze(exports[key]);
						// Define the object exports keyed-off versions
						Object.defineProperty(omidGlobal[key], version, {
							get: function () {
								return frozenObject;
							},
//							enumerable: true,       Removed trailing comma for build
							enumerable: true
						});
					}
				});
			}
		}
	}
}(typeof global === 'undefined' ? this : global, function(omidGlobal, omidExports) {
	'use strict';
	var $jscomp = $jscomp || {};
	$jscomp.scope = {};
	$jscomp.arrayIteratorImpl = function(a) {
		var b = 0;
		return function() {
			return b < a.length ? {done:!1, value:a[b++]} : {done:!0};
		};
	};
	$jscomp.arrayIterator = function(a) {
		return {next:$jscomp.arrayIteratorImpl(a)};
	};
	$jscomp.makeIterator = function(a) {
		var b = "undefined" != typeof Symbol && Symbol.iterator && a[Symbol.iterator];
		return b ? b.call(a) : $jscomp.arrayIterator(a);
	};
	$jscomp.arrayFromIterator = function(a) {
		for (var b, c = []; !(b = a.next()).done;) {
			c.push(b.value);
		}
		return c;
	};
	$jscomp.arrayFromIterable = function(a) {
		return a instanceof Array ? a : $jscomp.arrayFromIterator($jscomp.makeIterator(a));
	};
	$jscomp.ASSUME_ES5 = !1;
	$jscomp.ASSUME_NO_NATIVE_MAP = !1;
	$jscomp.ASSUME_NO_NATIVE_SET = !1;
	$jscomp.SIMPLE_FROUND_POLYFILL = !1;
	$jscomp.objectCreate = $jscomp.ASSUME_ES5 || "function" == typeof Object.create ? Object.create : function(a) {
		var b = function() {
		};
		b.prototype = a;
		return new b;
	};
	$jscomp.underscoreProtoCanBeSet = function() {
		var a = {a:!0}, b = {};
		try {
			return b.__proto__ = a, b.a;
		} catch (c) {
		}
		return !1;
	};
	$jscomp.setPrototypeOf = "function" == typeof Object.setPrototypeOf ? Object.setPrototypeOf : $jscomp.underscoreProtoCanBeSet() ? function(a, b) {
		a.__proto__ = b;
		if (a.__proto__ !== b) {
			throw new TypeError(a + " is not extensible");
		}
		return a;
	} : null;
	$jscomp.inherits = function(a, b) {
		a.prototype = $jscomp.objectCreate(b.prototype);
		a.prototype.constructor = a;
		if ($jscomp.setPrototypeOf) {
			var c = $jscomp.setPrototypeOf;
			c(a, b);
		} else {
			for (c in b) {
				if ("prototype" != c) {
					if (Object.defineProperties) {
						var d = Object.getOwnPropertyDescriptor(b, c);
						d && Object.defineProperty(a, c, d);
					} else {
						a[c] = b[c];
					}
				}
			}
		}
		a.superClass_ = b.prototype;
	};
	var module$exports$omid$common$constants = {AdEventType:{IMPRESSION:"impression", LOADED:"loaded", GEOMETRY_CHANGE:"geometryChange", SESSION_START:"sessionStart", SESSION_ERROR:"sessionError", SESSION_FINISH:"sessionFinish", MEDIA:"media", VIDEO:"video", START:"start", FIRST_QUARTILE:"firstQuartile", MIDPOINT:"midpoint", THIRD_QUARTILE:"thirdQuartile", COMPLETE:"complete", PAUSE:"pause", RESUME:"resume", BUFFER_START:"bufferStart", BUFFER_FINISH:"bufferFinish", SKIPPED:"skipped", VOLUME_CHANGE:"volumeChange",
			PLAYER_STATE_CHANGE:"playerStateChange", AD_USER_INTERACTION:"adUserInteraction", STATE_CHANGE:"stateChange"}, MediaEventType:{LOADED:"loaded", START:"start", FIRST_QUARTILE:"firstQuartile", MIDPOINT:"midpoint", THIRD_QUARTILE:"thirdQuartile", COMPLETE:"complete", PAUSE:"pause", RESUME:"resume", BUFFER_START:"bufferStart", BUFFER_FINISH:"bufferFinish", SKIPPED:"skipped", VOLUME_CHANGE:"volumeChange", PLAYER_STATE_CHANGE:"playerStateChange", AD_USER_INTERACTION:"adUserInteraction"}, ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",
			UNSPECIFIED:"unspecified", LOADED:"loaded", BEGIN_TO_RENDER:"beginToRender", ONE_PIXEL:"onePixel", VIEWABLE:"viewable", AUDIBLE:"audible", OTHER:"other"}, ErrorType:{GENERIC:"generic", VIDEO:"video", MEDIA:"media"}, AdSessionType:{NATIVE:"native", HTML:"html", JAVASCRIPT:"javascript"}, EventOwner:{NATIVE:"native", JAVASCRIPT:"javascript", NONE:"none"}, AccessMode:{FULL:"full", DOMAIN:"domain", LIMITED:"limited"}, AppState:{BACKGROUNDED:"backgrounded", FOREGROUNDED:"foregrounded"}, Environment:{APP:"app",
			WEB:"web"}, InteractionType:{CLICK:"click", INVITATION_ACCEPT:"invitationAccept"}, CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript", HTML_DISPLAY:"htmlDisplay", NATIVE_DISPLAY:"nativeDisplay", VIDEO:"video", AUDIO:"audio"}, MediaType:{DISPLAY:"display", VIDEO:"video"}, Reason:{NOT_FOUND:"notFound", HIDDEN:"hidden", BACKGROUNDED:"backgrounded", VIEWPORT:"viewport", OBSTRUCTED:"obstructed", CLIPPED:"clipped", UNMEASURABLE:"unmeasurable", NO_WINDOW_FOCUS:"noWindowFocus"}, SupportedFeatures:{CONTAINER:"clid",
			VIDEO:"vlid"}, VideoPosition:{PREROLL:"preroll", MIDROLL:"midroll", POSTROLL:"postroll", STANDALONE:"standalone"}, VideoPlayerState:{MINIMIZED:"minimized", COLLAPSED:"collapsed", NORMAL:"normal", EXPANDED:"expanded", FULLSCREEN:"fullscreen"}, NativeViewKeys:{X:"x", LEFT:"left", Y:"y", TOP:"top", WIDTH:"width", HEIGHT:"height", AD_SESSION_ID:"adSessionId", IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor", CLIPS_TO_BOUNDS:"clipsToBounds", CHILD_VIEWS:"childViews", END_X:"endX", END_Y:"endY",
			OBSTRUCTIONS:"obstructions", OBSTRUCTION_CLASS:"obstructionClass", OBSTRUCTION_PURPOSE:"obstructionPurpose", OBSTRUCTION_REASON:"obstructionReason", PIXELS:"pixels", HAS_WINDOW_FOCUS:"hasWindowFocus"}, MeasurementStateChangeSource:{CONTAINER:"container", CREATIVE:"creative"}, ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"}, CommunicationType:{NONE:"NONE", DIRECT:"DIRECT", POST_MESSAGE:"POST_MESSAGE"}, OmidImplementer:{OMSDK:"omsdk"}};
	var module$contents$omid$common$InternalMessage_GUID_KEY = "omid_message_guid", module$contents$omid$common$InternalMessage_METHOD_KEY = "omid_message_method", module$contents$omid$common$InternalMessage_VERSION_KEY = "omid_message_version", module$contents$omid$common$InternalMessage_ARGS_KEY = "omid_message_args", module$exports$omid$common$InternalMessage = function(a, b, c, d) {
		this.guid = a;
		this.method = b;
		this.version = c;
		this.args = d;
	};
	module$exports$omid$common$InternalMessage.isValidSerializedMessage = function(a) {
		return !!a && void 0 !== a[module$contents$omid$common$InternalMessage_GUID_KEY] && void 0 !== a[module$contents$omid$common$InternalMessage_METHOD_KEY] && void 0 !== a[module$contents$omid$common$InternalMessage_VERSION_KEY] && "string" === typeof a[module$contents$omid$common$InternalMessage_GUID_KEY] && "string" === typeof a[module$contents$omid$common$InternalMessage_METHOD_KEY] && "string" === typeof a[module$contents$omid$common$InternalMessage_VERSION_KEY] && (void 0 === a[module$contents$omid$common$InternalMessage_ARGS_KEY] ||
			void 0 !== a[module$contents$omid$common$InternalMessage_ARGS_KEY]);
	};
	module$exports$omid$common$InternalMessage.deserialize = function(a) {
		return new module$exports$omid$common$InternalMessage(a[module$contents$omid$common$InternalMessage_GUID_KEY], a[module$contents$omid$common$InternalMessage_METHOD_KEY], a[module$contents$omid$common$InternalMessage_VERSION_KEY], a[module$contents$omid$common$InternalMessage_ARGS_KEY]);
	};
	module$exports$omid$common$InternalMessage.prototype.serialize = function() {
		var a = {};
		a = (a[module$contents$omid$common$InternalMessage_GUID_KEY] = this.guid, a[module$contents$omid$common$InternalMessage_METHOD_KEY] = this.method, a[module$contents$omid$common$InternalMessage_VERSION_KEY] = this.version, a);
		void 0 !== this.args && (a[module$contents$omid$common$InternalMessage_ARGS_KEY] = this.args);
		return a;
	};
	var module$exports$omid$common$Communication = function(a) {
		this.to = a;
		this.communicationType_ = module$exports$omid$common$constants.CommunicationType.NONE;
	};
	module$exports$omid$common$Communication.prototype.sendMessage = function(a, b) {
	};
	module$exports$omid$common$Communication.prototype.handleMessage = function(a, b) {
		if (this.onMessage) {
			this.onMessage(a, b);
		}
	};
	module$exports$omid$common$Communication.prototype.serialize = function(a) {
		return JSON.stringify(a);
	};
	module$exports$omid$common$Communication.prototype.deserialize = function(a) {
		return JSON.parse(a);
	};
	module$exports$omid$common$Communication.prototype.isDirectCommunication = function() {
		return this.communicationType_ === module$exports$omid$common$constants.CommunicationType.DIRECT;
	};
	module$exports$omid$common$Communication.prototype.isCrossOrigin = function() {
	};
	var module$exports$omid$common$logger = {error:function(a) {
			for (var b = [], c = 0; c < arguments.length; ++c) {
				b[c - 0] = arguments[c];
			}
			module$contents$omid$common$logger_executeLog(function() {
				throw new (Function.prototype.bind.apply(Error, [null, "Could not complete the test successfully - "].concat($jscomp.arrayFromIterable(b))));
			}, function() {
				return console.error.apply(console, $jscomp.arrayFromIterable(b));
			});
		}, debug:function(a) {
			for (var b = [], c = 0; c < arguments.length; ++c) {
				b[c - 0] = arguments[c];
			}
			module$contents$omid$common$logger_executeLog(function() {
			}, function() {
				return console.error.apply(console, $jscomp.arrayFromIterable(b));
			});
		}};
	function module$contents$omid$common$logger_executeLog(a, b) {
		"undefined" !== typeof jasmine && jasmine ? a() : "undefined" !== typeof console && console && console.error && b();
	}
	;var module$exports$omid$common$eventTypedefs = {};
	var module$exports$omid$common$version = {ApiVersion:"1.0", Version:"1.3.25-iab3167"};
	var module$exports$omid$common$argsChecker = {assertTruthyString:function(a, b) {
			if (!b) {
				throw Error("Value for " + a + " is undefined, null or blank.");
			}
			if ("string" !== typeof b && !(b instanceof String)) {
				throw Error("Value for " + a + " is not a string.");
			}
			if ("" === b.trim()) {
				throw Error("Value for " + a + " is empty string.");
			}
		}, assertNotNullObject:function(a, b) {
			if (null == b) {
				throw Error("Value for " + a + " is undefined or null");
			}
		}, assertNumber:function(a, b) {
			if (null == b) {
				throw Error(a + " must not be null or undefined.");
			}
			if ("number" !== typeof b || isNaN(b)) {
				throw Error("Value for " + a + " is not a number");
			}
		}, assertNumberBetween:function(a, b, c, d) {
			(0,module$exports$omid$common$argsChecker.assertNumber)(a, b);
			if (b < c || b > d) {
				throw Error("Value for " + a + " is outside the range [" + c + "," + d + "]");
			}
		}, assertFunction:function(a, b) {
			if (!b) {
				throw Error(a + " must not be truthy.");
			}
		}, assertPositiveNumber:function(a, b) {
			(0,module$exports$omid$common$argsChecker.assertNumber)(a, b);
			if (0 > b) {
				throw Error(a + " must be a positive number.");
			}
		}};
	var module$exports$omid$common$VersionUtils = {}, module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER = 3;
	module$exports$omid$common$VersionUtils.isValidVersion = function(a) {
		return /\d+\.\d+\.\d+(-.*)?/.test(a);
	};
	module$exports$omid$common$VersionUtils.versionGreaterOrEqual = function(a, b) {
		a = a.split("-")[0].split(".");
		b = b.split("-")[0].split(".");
		for (var c = 0; c < module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER; c++) {
			var d = parseInt(a[c], 10), e = parseInt(b[c], 10);
			if (d > e) {
				break;
			} else {
				if (d < e) {
					return !1;
				}
			}
		}
		return !0;
	};
	var module$exports$omid$common$ArgsSerDe = {}, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION = "1.0.3";
	module$exports$omid$common$ArgsSerDe.serializeMessageArgs = function(a, b) {
		return (0,module$exports$omid$common$VersionUtils.isValidVersion)(a) && (0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(a, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION) ? b : JSON.stringify(b);
	};
	module$exports$omid$common$ArgsSerDe.deserializeMessageArgs = function(a, b) {
		return (0,module$exports$omid$common$VersionUtils.isValidVersion)(a) && (0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(a, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION) ? b ? b : [] : b && "string" === typeof b ? JSON.parse(b) : [];
	};
	var module$exports$omid$common$guid = {generateGuid:function() {
			return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(a) {
				var b = 16 * Math.random() | 0;
				a = "y" === a ? (b & 3 | 8).toString(16) : b.toString(16);
				return a;
			});
		}};
	var module$exports$omid$common$OmidGlobalProvider = {};
	function module$contents$omid$common$OmidGlobalProvider_getOmidGlobal() {
		if ("undefined" !== typeof omidGlobal && omidGlobal) {
			return omidGlobal;
		}
		if ("undefined" !== typeof global && global) {
			return global;
		}
		if ("undefined" !== typeof window && window) {
			return window;
		}
		if ("undefined" !== typeof globalThis && globalThis) {
			return globalThis;
		}
		var a = Function("return this")();
		if (a) {
			return a;
		}
		throw Error("Could not determine global object context.");
	}
	module$exports$omid$common$OmidGlobalProvider.omidGlobal = module$contents$omid$common$OmidGlobalProvider_getOmidGlobal();
	var module$exports$omid$common$exporter = {};
	function module$contents$omid$common$exporter_getOmidExports() {
		return "undefined" === typeof omidExports ? null : omidExports;
	}
	function module$contents$omid$common$exporter_getOrCreateName(a, b) {
		return a && (a[b] || (a[b] = {}));
	}
	module$exports$omid$common$exporter.packageExport = function(a, b, c) {
		if (c = void 0 === c ? module$contents$omid$common$exporter_getOmidExports() : c) {
			a = a.split("."), a.slice(0, a.length - 1).reduce(module$contents$omid$common$exporter_getOrCreateName, c)[a[a.length - 1]] = b;
		}
	};
	var module$exports$omid$common$windowUtils = {};
	function module$contents$omid$common$windowUtils_isValidWindow(a) {
		return null != a && "undefined" !== typeof a.top && null != a.top;
	}
	module$exports$omid$common$windowUtils.isCrossOrigin = function(a) {
		if (a === module$exports$omid$common$OmidGlobalProvider.omidGlobal) {
			return !1;
		}
		try {
			if ("undefined" === typeof a.location.hostname) {
				return !0;
			}
			module$contents$omid$common$windowUtils_isSameOriginForIE(a);
		} catch (b) {
			return !0;
		}
		return !1;
	};
	function module$contents$omid$common$windowUtils_isSameOriginForIE(a) {
		return "" === a.x || "" !== a.x;
	}
	module$exports$omid$common$windowUtils.resolveGlobalContext = function(a) {
		"undefined" === typeof a && "undefined" !== typeof window && window && (a = window);
		return module$contents$omid$common$windowUtils_isValidWindow(a) ? a : module$exports$omid$common$OmidGlobalProvider.omidGlobal;
	};
	module$exports$omid$common$windowUtils.resolveTopWindowContext = function(a) {
		return module$contents$omid$common$windowUtils_isValidWindow(a) ? a.top : module$exports$omid$common$OmidGlobalProvider.omidGlobal;
	};
	module$exports$omid$common$windowUtils.isTopWindowAccessible = function(a) {
		try {
			return a.top.location.href ? !0 : !1;
		} catch (b) {
			return !1;
		}
	};
	module$exports$omid$common$windowUtils.evaluatePageUrl = function(a) {
		if (!module$contents$omid$common$windowUtils_isValidWindow(a)) {
			return null;
		}
		try {
			var b = a.top;
			return (0,module$exports$omid$common$windowUtils.isCrossOrigin)(b) ? null : b.location.href;
		} catch (c) {
			return null;
		}
	};
	var module$exports$omid$common$DirectCommunication = function(a) {
		module$exports$omid$common$Communication.call(this, a);
		this.communicationType_ = module$exports$omid$common$constants.CommunicationType.DIRECT;
		this.handleExportedMessage = module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage.bind(this);
	};
	$jscomp.inherits(module$exports$omid$common$DirectCommunication, module$exports$omid$common$Communication);
	module$exports$omid$common$DirectCommunication.prototype.sendMessage = function(a, b) {
		b = void 0 === b ? this.to : b;
		if (!b) {
			throw Error("Message destination must be defined at construction time or when sending the message.");
		}
		b.handleExportedMessage(a.serialize(), this);
	};
	module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage = function(a, b) {
		module$exports$omid$common$InternalMessage.isValidSerializedMessage(a) && this.handleMessage(module$exports$omid$common$InternalMessage.deserialize(a), b);
	};
	module$exports$omid$common$DirectCommunication.prototype.isCrossOrigin = function() {
		return !1;
	};
	var module$exports$omid$common$PostMessageCommunication = function(a, b) {
		b = void 0 === b ? module$exports$omid$common$OmidGlobalProvider.omidGlobal : b;
		module$exports$omid$common$Communication.call(this, b);
		var c = this;
		this.communicationType_ = module$exports$omid$common$constants.CommunicationType.POST_MESSAGE;
		a.addEventListener("message", function(a) {
			if ("object" === typeof a.data) {
				var b = a.data;
				module$exports$omid$common$InternalMessage.isValidSerializedMessage(b) && (b = module$exports$omid$common$InternalMessage.deserialize(b), a.source && c.handleMessage(b, a.source));
			}
		});
	};
	$jscomp.inherits(module$exports$omid$common$PostMessageCommunication, module$exports$omid$common$Communication);
	module$exports$omid$common$PostMessageCommunication.isCompatibleContext = function(a) {
		return !!(a && a.addEventListener && a.postMessage);
	};
	module$exports$omid$common$PostMessageCommunication.prototype.sendMessage = function(a, b) {
		b = void 0 === b ? this.to : b;
		if (!b) {
			throw Error("Message destination must be defined at construction time or when sending the message.");
		}
		b.postMessage(a.serialize(), "*");
	};
	module$exports$omid$common$PostMessageCommunication.prototype.isCrossOrigin = function() {
		return this.to ? (0,module$exports$omid$common$windowUtils.isCrossOrigin)(this.to) : !0;
	};
	var module$exports$omid$common$DetectOmid = {OMID_PRESENT_FRAME_NAME:"omid_v1_present", isOmidPresent:function(a) {
			try {
				return a.frames ? !!a.frames[module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME] : !1;
			} catch (b) {
				return !1;
			}
		}, declareOmidPresence:function(a) {
			a.frames && a.document && (module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME in a.frames || (null == a.document.body && module$exports$omid$common$DetectOmid.isMutationObserverAvailable_(a) ? module$exports$omid$common$DetectOmid.registerMutationObserver_(a) : a.document.body ? module$exports$omid$common$DetectOmid.appendPresenceIframe_(a) : a.document.write('<iframe style="display:none" id="' + (module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME + '" name="') + (module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME +
				'"></iframe>'))));
		}, appendPresenceIframe_:function(a) {
			var b = a.document.createElement("iframe");
			b.id = module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME;
			b.name = module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME;
			b.style.display = "none";
			a.document.body.appendChild(b);
		}, isMutationObserverAvailable_:function(a) {
			return "MutationObserver" in a;
		}, registerMutationObserver_:function(a) {
			var b = new MutationObserver(function(c) {
				c.forEach(function(c) {
					"BODY" === c.addedNodes[0].nodeName && (module$exports$omid$common$DetectOmid.appendPresenceIframe_(a), b.disconnect());
				});
			});
			b.observe(a.document.documentElement, {childList:!0});
		}};
	var module$exports$omid$common$serviceCommunication = {}, module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME = ["omid", "v1_SessionServiceCommunication"], module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME = ["omid", "v1_VerificationServiceCommunication"], module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME = ["omidVerificationProperties", "serviceWindow"];
	function module$contents$omid$common$serviceCommunication_getValueForKeypath(a, b) {
		return b.reduce(function(a, b) {
			return a && a[b];
		}, a);
	}
	function module$contents$omid$common$serviceCommunication_startServiceCommunication(a, b, c, d) {
		if (!(0,module$exports$omid$common$windowUtils.isCrossOrigin)(b)) {
			try {
				var e = module$contents$omid$common$serviceCommunication_getValueForKeypath(b, c);
				if (e) {
					return new module$exports$omid$common$DirectCommunication(e);
				}
			} catch (f) {
			}
		}
		return d(b) ? new module$exports$omid$common$PostMessageCommunication(a, b) : null;
	}
	function module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, b, c, d) {
		b = $jscomp.makeIterator(b);
		for (var e = b.next(); !e.done; e = b.next()) {
			if (e = module$contents$omid$common$serviceCommunication_startServiceCommunication(a, e.value, c, d)) {
				return e;
			}
		}
		return null;
	}
	module$exports$omid$common$serviceCommunication.startSessionServiceCommunication = function(a, b, c) {
		c = void 0 === c ? module$exports$omid$common$DetectOmid.isOmidPresent : c;
		var d = [a, (0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(a)];
		b && d.unshift(b);
		return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, d, module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME, c);
	};
	module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication = function(a, b) {
		b = void 0 === b ? module$exports$omid$common$DetectOmid.isOmidPresent : b;
		var c = [], d = module$contents$omid$common$serviceCommunication_getValueForKeypath(a, module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME);
		d && c.push(d);
		c.push((0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(a));
		return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, c, module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME, b);
	};
	var module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION = module$exports$omid$common$version.Version, module$contents$omid$verificationClient$VerificationClient_EventCallback;
	function module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid() {
		var a = module$exports$omid$common$OmidGlobalProvider.omidGlobal.omid3p;
		return a && "function" === typeof a.registerSessionObserver && "function" === typeof a.addEventListener ? a : null;
	}
	var module$exports$omid$verificationClient$VerificationClient = function(a) {
		if (this.communication = a || (0,module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication)((0,module$exports$omid$common$windowUtils.resolveGlobalContext)())) {
			this.communication.onMessage = this.handleMessage_.bind(this);
		} else {
			if (a = module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid()) {
				this.omid3p = a;
			}
		}
//----------this.remoteIntervals_ = this.remoteTimeouts_ = 0;
		this.callbackMap_ = {};
		this.imgCache_ = [];
		this.injectionId_ = (a = module$exports$omid$common$OmidGlobalProvider.omidGlobal.omidVerificationProperties) ? a.injectionId : void 0;
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.isSupported = function() {
		return !(!this.communication && !this.omid3p);
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.injectionSource = function() {
		var a = module$exports$omid$common$OmidGlobalProvider.omidGlobal.omidVerificationProperties;
		if (a && a.injectionSource) {
			return a.injectionSource;
		}
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.registerSessionObserver = function(a, b) {
		(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute", a);
		this.omid3p ? this.omid3p.registerSessionObserver(a, b, this.injectionId_) : this.sendMessage_("addSessionListener", a, b, this.injectionId_);
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.addEventListener = function(a, b) {
		(0,module$exports$omid$common$argsChecker.assertTruthyString)("eventType", a);
		(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute", b);
		this.omid3p ? this.omid3p.addEventListener(a, b) : this.sendMessage_("addEventListener", b, a);
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.sendUrl = function(a, b, c) {
		(0,module$exports$omid$common$argsChecker.assertTruthyString)("url", a);
		module$exports$omid$common$OmidGlobalProvider.omidGlobal.document && module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement ? this.sendUrlWithImg_(a, b, c) : this.sendMessage_("sendUrl", function(a) {
			a && b ? b() : !a && c && c();
		}, a);
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.sendUrlWithImg_ = function(a, b, c) {
		var d = this, e = module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement("img");
		this.imgCache_.push(e);
		var f = function(a) {
			var b = d.imgCache_.indexOf(e);
			0 <= b && d.imgCache_.splice(b, 1);
			a && a();
		};
		e.addEventListener("load", f.bind(this, b));
		e.addEventListener("error", f.bind(this, c));
		e.src = a;
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.injectJavaScriptResource = function(a, b, c) {
		var d = this;
		(0,module$exports$omid$common$argsChecker.assertTruthyString)("url", a);
		module$exports$omid$common$OmidGlobalProvider.omidGlobal.document ? this.injectJavascriptResourceUrlInDom_(a, b, c) : this.sendMessage_("injectJavaScriptResource", function(e, f) {
			e ? (d.evaluateJavaScript_(f, a), b()) : (module$exports$omid$common$logger.error("Service failed to load JavaScript resource."), c());
		}, a);
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.injectJavascriptResourceUrlInDom_ = function(a, b, c) {
		var d = module$exports$omid$common$OmidGlobalProvider.omidGlobal.document, e = d.body;
		d = d.createElement("script");
		d.onload = b;
		d.onerror = c;
		d.src = a;
		d.type = "application/javascript";
		e.appendChild(d);
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.evaluateJavaScript_ = function(a, b) {
		try {
			eval(a);
		} catch (c) {
			module$exports$omid$common$logger.error('Error evaluating the JavaScript resource from "' + b + '".');
		}
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.setTimeout = function(a, b) {
		(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute", a);
		(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeInMillis", b);
		if (this.hasTimeoutMethods_()) {
			return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout(a, b);
		}
//----------var c = this.remoteTimeouts_++;
		var c = ((new Date()).getTime() * 1000000) + (Math.floor(Math.random() * 1000000));
		this.sendMessage_("setTimeout", a, c, b);
		return c;
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.clearTimeout = function(a) {
		(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeoutId", a);
		this.hasTimeoutMethods_() ? module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout(a) : this.sendOneWayMessage_("clearTimeout", a);
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.setInterval = function(a, b) {
		(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute", a);
		(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeInMillis", b);
		if (this.hasIntervalMethods_()) {
			return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval(a, b);
		}
//----------var c = this.remoteIntervals_++;
		var c = ((new Date()).getTime() * 1000000) + (Math.floor(Math.random() * 1000000));
		this.sendMessage_("setInterval", a, c, b);
		return c;
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.clearInterval = function(a) {
		(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("intervalId", a);
		this.hasIntervalMethods_() ? module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval(a) : this.sendOneWayMessage_("clearInterval", a);
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.hasTimeoutMethods_ = function() {
		return "function" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout && "function" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout;
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.hasIntervalMethods_ = function() {
		return "function" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval && "function" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval;
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.handleMessage_ = function(a, b) {
		b = a.method;
		var c = a.guid;
		a = a.args;
		if ("response" === b && this.callbackMap_[c]) {
			var d = (0,module$exports$omid$common$ArgsSerDe.deserializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION, a);
			this.callbackMap_[c].apply(this, d);
		}
		"error" === b && window.console && module$exports$omid$common$logger.error(a);
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.sendOneWayMessage_ = function(a, b) {
		for (var c = [], d = 1; d < arguments.length; ++d) {
			c[d - 1] = arguments[d];
		}
		this.sendMessage_.apply(this, [a, null].concat($jscomp.arrayFromIterable(c)));
	};
	module$exports$omid$verificationClient$VerificationClient.prototype.sendMessage_ = function(a, b, c) {
		for (var d = [], e = 2; e < arguments.length; ++e) {
			d[e - 2] = arguments[e];
		}
		this.communication && (e = (0,module$exports$omid$common$guid.generateGuid)(), b && (this.callbackMap_[e] = b), d = new module$exports$omid$common$InternalMessage(e, "VerificationService." + a, module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION, (0,module$exports$omid$common$ArgsSerDe.serializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION, d)), this.communication.sendMessage(d));
	};
	(0,module$exports$omid$common$exporter.packageExport)("OmidVerificationClient", module$exports$omid$verificationClient$VerificationClient);

}, typeof exports === 'undefined' ? undefined : exports));



} catch(e) {
	__IntegralASDiagnosticCall('thirdparty', e);
}





	
	__IASScope.isDomless = typeof window === "undefined";
	__IASOmidVerificationClient = { isSupported: function () { return false; } };

	if (typeof __IASScope.OmidVerificationClient !== 'undefined') {
		try {
			__IASOmidVerificationClient = new __IASScope.OmidVerificationClient['1.3.25-iab3167'](); //try standard in-browser instantiation
		}
		catch(e) {
			try {
				__IASOmidVerificationClient = new __IASScope.OmidVerificationClient(); //try domless version which has no version
			}
			catch(e) {
			}
		}
	}

	__IntegralASConfig.useFIF = (__IASScope && !!__IASScope.__IntegralASUseFIF) && __IntegralASConfig.mode === 'jload';
	__IntegralASConfig.adRefreshThreshold = __IASScope && __IASScope.__IntegralASAdRefreshThreshold;




__IntegralASConfig.getContextNode = function(win, topWin) {
	'use strict';

	if (__IASScope.isDomless) {
		return;
	}
	if (__IntegralASConfig.useFIF) {
		return __IASScope.frameElement; // Early exit if using FIF
	}

	if (document.currentScript) {
		return document.currentScript;
	}
	
	var tempScript,
		scripts = document.getElementsByTagName('script'),
		result = scripts[scripts.length - 1],
		scriptIndex = scripts.length,
		scriptUrl = __IntegralASConfig.scriptUrl;

	try {
		
		while (--scriptIndex >= 0) {
			tempScript = scripts[scriptIndex];
			if (
				tempScript.src &&
				tempScript.src.indexOf(scriptUrl) === 0 &&
				tempScript.getAttribute('data-ias-script-tag') === null
			) {
				result = tempScript;
				tempScript.setAttribute('data-ias-script-tag', 'found');
				break;
			}
		}
	} catch (e) {} // TODO: maybe a jsDiagnostic?

	return result;
};

__IntegralASConfig.contextNode = __IASScope.isDomless ? undefined : __IntegralASConfig.getContextNode(window, top);





__IntegralASConfig.perfFactory = function() {
	'use strict';

	var _marks = {};
	var START_CODE = 'A';
	var END_CODE = 'Z';

	function _addMark(codeName, time) {
		
		_marks[codeName] = time;
	}

	function mark(codeName) {
		_addMark(codeName, Math.round(__IASScope.performance.now()));
	}

	function markStart(baseName) {
		mark(baseName + START_CODE);
	}

	function markEnd(baseName) {
		mark(baseName + END_CODE);
	}

	function markResource(baseName, url) {
		var entry, entries;
		entries = __IASScope.performance.getEntriesByName(url);
		if (entries && entries.length) {
			entry = entries[entries.length - 1];
			if (entry.startTime > 0 && entry.responseEnd > 0) {
				_addMark(baseName + START_CODE, Math.round(entry.startTime));
				
				_addMark(baseName + END_CODE, Math.round(entry.responseEnd));
			}
		}
	}

	function getData() {
		return _marks;
	}

	function getStart(baseName) {
		return _marks[baseName + START_CODE];
	}

	function getEnd(baseName) {
		return _marks[baseName + END_CODE];
	}

	function noop() {}

	function setNoops() {
		_addMark = noop;
		mark = noop;
		markStart = noop;
		markEnd = noop;
		markResource = noop;
	}

	function isFunc(obj) {
		return typeof obj === 'function';
	}

	function _init() {
		var canUsePerformanceAPIs = false;
		var PERF_MARK_BOOTSTRAPPER_EXECUTION = 'be';
		var PERF_MARK_BOOTSTRAPPER_SCRIPT_DOWNLOAD = 'bd';
		var PERF_MARK_MAIN_SCRIPT_DOWNLOAD = 'md'; // note: this code is intentionally the same as the one in globalConstants.js
		var downloadMark;

		try {
			canUsePerformanceAPIs =
				__IASScope.performance &&
				isFunc(__IASScope.performance.getEntriesByName) &&
				isFunc(__IASScope.performance.now) &&
				__IntegralASConfig.perfBirth !== null; // initialized to null or a time in jsAddOns1-birthdate.js

			if (canUsePerformanceAPIs) {
				downloadMark = __IntegralASConfig.jsDoSplit
					? PERF_MARK_BOOTSTRAPPER_SCRIPT_DOWNLOAD
					: PERF_MARK_MAIN_SCRIPT_DOWNLOAD;

				markResource(downloadMark, __IntegralASConfig.scriptUrl); // in split mode, this captures download time for the bootstrapper script, in bundled mode, the bundled/main script
				_addMark(PERF_MARK_BOOTSTRAPPER_EXECUTION + START_CODE, Math.round(__IntegralASConfig.perfBirth)); // put the birthdate that we already captured into our list of marks
				markEnd(PERF_MARK_BOOTSTRAPPER_EXECUTION); // roughly the end time of execution for the bootstrapper script in split mode, in bundled mode, end of the bootstrapper part of the script and start of the module definition part
			} else {
				setNoops();
			}
		} catch (err) {
			// TODO: remove if we never get here?
			setNoops();
			if (isFunc(__IASScope.__IntegralASDiagnosticCall)) {
				__IASScope.__IntegralASDiagnosticCall('perf', err, __IntegralASConfig);
			}
		}
	}

	_init();

	return {
		mark: mark,
		markStart: markStart,
		markEnd: markEnd,
		markResource: markResource,
		getData: getData,
		getStart: getStart,
		getEnd: getEnd
	};
};
__IntegralASConfig.perf = __IntegralASConfig.perfFactory();





} catch(err) {
	__IntegralASConfig = {};
	__IntegralASDiagnosticCall('bootstrapper', err);
}
__IntegralASConfig.initialize=function(e,t,n){var r={};if(Object.assign)e=Object.assign({},e);else{for(var i in e)r[i]=e[i];e=r}function o(){"use strict";var t,n;e.executedContinueMain||(e.executedContinueMain=!0,e.perf.markStart(m),O(e).verifyContextNode(),t=function(t,n,r,i,o,a,u,c,d,g,p){var m,h;e.perf.markStart(v),e.b11="1"===e.adHeight&&"1"===e.adWidth?"true":"false",e.cnod=e.contextNode?"true":"false",f.getAggregator().trigger("addOutputItem",{output:e.mainBirthdate},"mtim",{type:l.IMPRESSION_EVENT});var E=e.hasOwnProperty("origMobOrTab")?e.origMobOrTab:e.mobOrTab;f.getAggregator().trigger("addOutputItem",{output:E?"1":"0"},"mot",{type:l.IMPRESSION_EVENT}),f.getAggregator().trigger("addOutputItem",{output:e.app?"1":"0"},"app",{type:l.IMPRESSION_EVENT}),f.getAggregator().trigger("addOutputItem",{output:e.mobAppWebview?"1":"0"},"maw",{type:l.IMPRESSION_EVENT});var I="undefined"!=typeof navigator?navigator.userAgent:"",A=d.bootstrapOn("app"),S=f.getAggregator().request("mobileApp"),T=S&&S.excludedByUserAgent();S&&S.isMobileAppEnvironment&&S.isMobileAppEnvironment()||T||!(I.indexOf("IMDb-flg")>-1||A)||(f.getAggregator().trigger("addOutputItem",{output:"1"},"mapp",{type:"impression"}),f.getAggregator().trigger("addOutputItem",{output:A?"a_appt":"a_imdb"},"drul",{type:"impression"}));s(r,i,d,o);try{a.isApplicable(u,d,g)&&a.start(),h=c.detectTopURL(),d.on("exch")&&(new me).createInstance(o,i).parse(h),(m=Rr()).isApplicable(d)&&m.start(d),g.usesGroupMCustomMetric()&&C(),p.start()}catch(e){o.add(l.ERROR_CODES.IMPRESSION_LEADUP)}return e.perf.markEnd(v),h}((n=function(){var t,n,r,i,o,a,s,u,c,g,p,m={};e.perf.markStart(h);var v=f.getAggregator();(function(){var t,n,r;r=f.getAggregator().request("omidAdSessionContext"),t=r.app&&r.isDisplay&&!r.isWeb,(n=e.mobFwUrl&&e.mobFwUrl.indexOf("/blocking/")>-1)&&r.isLimitedSandbox&&"1"===e.adWidth&&"1"===e.adHeight&&(r.isLimitedSandbox=!1);t&&n&&(r.delayingViewabilityEvents=!0);"app"!==r.environment&&!0!==e.mobAppWebview||(e.origMobOrTab=e.mobOrTab,e.mobOrTab=!0)})(),m.mFeatures=v.request("features"),m.mFeatures||(m.mFeatures=v.provide("features",Ee()));e.integration&&m.mFeatures.setReportedBootstrapFeatures("intblk","integration");e.autotagSizeSet&&m.mFeatures.setReportedBootstrapFeatures("ats","autotagSizeSet");e.encodeInvalidUrlChars=!ue.isDomless()&&m.mFeatures.on("encodeInvalidUrlChars"),v.provide("mobileApp",(function(){return t=t||new Gn(m.mFeatures)})),v.provide("context",ue),m.mBrowser=v.provide("browser",(new te).createInstance()),m.mErrors=v.request("mErrors"),m.mIds=v.provide("ids",Ae()),m.iOutput=G(v),v.request("mJsonp"),m.mComm=v.request("mComm"),m.viewabilityMeasurement=new _t(Rt(m.mIds),m.mFeatures,m.mBrowser).create(),function(e,t){if(e&&e.queuedOutputItems)for(var n=0;n<e.queuedOutputItems.length;n++)t.trigger("addOutputItem",{output:e.queuedOutputItems[n].value},e.queuedOutputItems[n].code,{type:"impression"})}(v.request("omidAdSessionContext"),v),m.mFeatures.on("swapids")&&(e.oid=e.asid,e.asid=m.mIds.unq);return m.mAdTalk=(new Je).createInstance(m.mFeatures),n=M(),r=Fe(v),i=v.provide("mPage",(new _e).createInstance()),m.mAncestorOrigins=Z(),m.mPageUrls=v.provide("pageUrls",(new Ce).createInstance(m.mAncestorOrigins,Ne)),o=v.provide("mScreenEvents",Pe()),a=Ie(m.mBrowser),p=function(t,n){return!ue.isVideo()||ue.isOmid()||ue.isInMobiMraidVideo()?{}:sr(e.videoId,t,n)}(m.mFeatures,o),m.mVideo=v.provide("video",p),fr(pr.build()),s=(new xn).createInstance(m.mErrors,a,m.mFeatures),u=(new H).createInstance(s,m.mErrors,i,ue),c=v.provide("jobFactory",De()),m.mDataTransfer=ge(s,m.mErrors,m.mFeatures,m.mIds,m.iOutput,m.mBrowser,o,n),g=ee(m.mErrors,m.mFeatures,v,r),m.mMode=we(g,m.mFeatures,m.viewabilityMeasurement.isImmediate()),m.mViewability=v.provide("viewability",un(F(),m.viewabilityMeasurement,m.mBrowser,m.mDataTransfer,m.mFeatures,v,m.iOutput,u,o,m.mVideo)),function(t,n,r,i){var o=function(t){var n=new Xt(t,ue),r=new zt,i=new Qt(t,ue),o=Jt(t,ue),a=new $t(e,ue,t).resolve(),s=[n],u=[];o.applies()&&s.push(o);i.applies()&&s.push(i);r.applies(t,ue)&&s.push(r);d(a).each((function(e,t){s.push(new Zt(t,ue)),u.push(t.id)})),u.length>0&&(f.getAggregator().trigger("addOutputItem",{output:u.join(".")},"scm",{type:l.IMPRESSION_EVENT}),f.getAggregator().trigger("addOutputItem",{output:u},"metricIdList",{type:l.DT_CODES.UNLOAD,asION:!0}));return s}(t);f.getAggregator().provide("viewabilityDefinitions",o),d(o).map(function(e,t,n,r){return function(i,o){var a,s,u,c=sn(o,t),d=Kt(n,e,o.rts).getCallbacks(),g=x(r.createPingJobs(o.type,o.timeInViewThresholds,d,o.metricId));return o.sendOtherwiseInViewSignal&&(u=sn(o,t,o.sendOtherwiseInViewSignal),s=x(r.createPingJobs(o.type,o.timeInViewThresholds,d,o.metricId,o.sendOtherwiseInViewSignal))),o.rtsCallbacks=d,o.thresholdType===l.GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE?a=an(c,o,g,ue.isVideo()):(a=on(c,z(o.minUnit),g),o.sendOtherwiseInViewSignal&&on(u,z(o.minUnit),s,o.sendOtherwiseInViewSignal).start()),a.start(),a}}(t,n,r,i))}(m.mFeatures,m.mViewability,r,c),m.loopDelay=dt(),m.renderDetector=N(),m.mDataTransfer.setViewabilityMod(m.mViewability),e.perf.markEnd(h),m}()).mDataTransfer,n.mViewability,n.mAdTalk,n.iOutput,n.mErrors,n.mAncestorOrigins,n.mBrowser,n.mPageUrls,n.mFeatures,ue,n.renderDetector),function(t,n,r,i,o,a,s,u,c){try{Dr(t,n,r,i,o,a,s).send(u),d.isFunction(c.triggerInitializationEvents)&&c.triggerInitializationEvents()}catch(t){__IntegralASDiagnosticCall("impsend",t,e)}}(n.mErrors,n.mFeatures,n.mIds,n.mMode,n.iOutput,n.mBrowser,n.mViewability,t,n.mVideo),function(t,n,r,i,o,s,u,c,d,g,p,m,h){try{e.perf.markStart(E),(v=cr()).start(),v.addFieldTypes([l.DT_SLOT.IM,l.DT_SLOT.FF,l.DT_SLOT.ENVIRONMENT,l.DT_SLOT.FF_EXP]),function(e,t,n,r){var i=pt(e,t,n);i.isApplicable(r)&&i.start()}(t,n,r,i),function(e,t,n,r,i,o){e.bootstrapOn("getTpl")&&e.on("usetpl")&&$(t,n,r,i,o).init()}(i,o,s,u,n,c),function(t,n,r,i,o,s,u,c,d){var g;"true"!==e.minimizeCalls&&(g=(new Date).getTime(),Ne.execAtEndOfThread((function(){a(t,n,r,i,g,o,s,u,c,d)})))}(c,d,g,u,i,o,s,n,m),function(e){e&&e.start&&e.start()}(p),function(e,t){if(!e.isDomless()){Mr().start(["sca","xsca","rsrch"],t)}}(h,i),J(),f.runTier(l.TIERS.VIEWABILITY),function(t){var n=dr();n.isApplicable(t)&&(n.start(),hr.recordBlockingTime(),e.perf.mark(I),hr.setupOnLoadTracking(),hr.setupBrowserDelayTracking())}(i),e.perf.markEnd(E)}catch(e){u.add(l.ERROR_CODES.POST_IMPRESSION)}var v}(n.mBrowser,n.mIds,n.mViewability,n.mFeatures,n.mComm,n.mDataTransfer,n.mErrors,n.iOutput,n.loopDelay,n.mAdTalk,n.viewabilityMeasurement,n.mAncestorOrigins,ue),e.perf.markEnd(m))}function a(t,n,r,i,o,a,s,u,c,g){try{if(e.perf.markStart(A),e.tpiLookupURL)Se(s,u).init(e.tpiLookupURL);ue.isDomless()||g.isStarted()&&g.sendOriginList(),f.runAll(),Ne.execAtEndOfThread((function(){!function(t,n,r,i,o,a){var s;try{e.perf.markStart(S),s={output:(new Date).getTime()-o},t.addItem(s,"sinceFw",{type:l.DT_CODES.ADTALK}),d.isDef(n.loopStarted())&&t.addItem({output:n.loopStarted()},"readyFired",{type:l.DT_CODES.ADTALK}),e.perf.markEnd(S),e.isSplitMode&&(c=e.protocol+"://"+e.sp_cdnScripts.main,e.perf.markResource(T,c)),e.impUrl&&e.perf.markResource(D,e.impUrl),u=e.perf.getData(),f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.IM,"prf",d(u).toION()),r.isApplicable(ue)&&r.sendAdTalkCall()}catch(e){i.add(l.ERROR_CODES.ADTALK_DELAY)}var u,c}(t,n,r,i,o)})),e.perf.markEnd(A)}catch(e){i.add(l.ERROR_CODES.EVENT_LOOP_ONE)}}function s(e,t,n,r){var i;try{e.isApplicable(ue)&&(e.start(),t.addItem(e.getFrameMap(),"fm"),n.on("fm2")&&t.addItem(e.getFrameMapIncludingPeerCase(),"fm2"),n.on("idMap")&&(i=e.getIdMap())&&t.addItem(i,"idMap"))}catch(e){r.add(l.ERROR_CODES.ADTALK_GENERAL)}}function u(t){var n=t&&t.sca,r=t&&t.xsca,i=t&&t.w,a=t&&t.h;return function(t){var s="string"==typeof t?JSON.parse(t):t;if(Object.assign)Object.assign(e,s);else for(var u in s)e[u]=s[u];e.isResolved=!0,e.sp_cdnScripts={sca:n,xsca:r},i&&a&&(e.adWidth=i,e.adHeight=a,e.autotagSizeSet=!0),o()}}function c(t){e.isResolved?o():function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}var n=function(e){var t="https://jsconfig.adsafeprotected.com",n={37103:"https://vfw.amazon-adsystem.com/ias/j"},r=e&&e.config,i=/iasProxyPartnerId=([\d]+)/g.exec(r),o=i&&i[1];return e&&e.host||n[o]||t}(t),r=t&&t.config,i=t&&t.contentType;try{var o=e.contextNode.src;-1!==o.indexOf("fw.js")&&-1!==o.indexOf("?")&&(e.staticFwjsMacros=o.split("?")[1])}catch(e){}if(r){var a=n+"/jsconfig"+r+(e.adSessionId?"&adSessionId="+e.adSessionId:"");"application/json"===i?f.getAggregator().trigger("getJSON",a,u(t)):f.getAggregator().trigger("jsonp",a,u(t),!1,"cbName")}}(t)}var d=function(e){"use strict";return new g(e)},g=function(e){"use strict";this.iterable=e};g.prototype.isObj=function(e){"use strict";var t="object"==typeof this.iterable,n=null===this.iterable,r=t&&!n,i=!this.isArray()&&r;return e?r:i},g.prototype.isArray=function(){"use strict";return this.iterable instanceof Array},g.prototype.isEmpty=function(e){"use strict";return 0===this.keys(e).length},g.prototype.each=function(e,t){"use strict";var n=this.iterable;if(n.length===+n.length)for(var r=0,i=n.length;r<i;++r)e(r,n[r]);else for(var o in n)(n.hasOwnProperty(o)||t)&&e(o,n[o])},g.prototype.map=function(e,t){"use strict";var n=[];return this.each((function(r,i){var o=e(r,i);(void 0!==o||t)&&(n[n.length]=o)})),n},g.prototype.stringify=function(e,t){"use strict";t=t||",";var n=[];return this.each((function(t,r){var i=e(t,r);d.isDef(i)&&n.push(i)})),n.join(t)},g.prototype.toION=function(e,t){"use strict";this.iterable;var n,r="[",i="]";return t=t||0,e=e||{},++t>4?"object":!this.isObj(!0)||this.iterable.hasOwnProperty("toString")?""+this.iterable:(this.isArray()?n=this.map((function(n,r){return d(r).toION(e,t)})):(r="{",i="}",n=this.map((function(n,r){var i="string"==typeof n&&-1!==n.indexOf("NULL"),o=d(r).toION(e,t);return i?o:(e[n]||n)+":"+o}))),r+n.join(",")+i)},g.prototype.compareTo=function(e){"use strict";var t=!1;return this.each((function(n,r){e[n]!==r&&(t||(t={}),t[n]=r)})),t},g.prototype.toParams=function(e){"use strict";return this.stringify((function(e,t){return"string"==typeof e&&-1!==e.indexOf("NULL")?t:e+":"+t}),e)},g.prototype._privateMixin=function(e,t,n){"use strict";var r;for(r in t)d.isDef(t[r])&&(n||t.hasOwnProperty(r))&&(e[r]=t[r]);return e},g.prototype.mapToObj=function(e){"use strict";var t={},n=this;return this.each((function(r,i){var o=e(r,i);d(o).isObj()&&n._privateMixin(t,o)})),t},g.prototype.invert=function(){"use strict";return this.mapToObj((function(e,t){var n={};return n[t]=e,n}))},g.prototype.mixin=function(e,t){"use strict";return this._privateMixin(this.iterable,e,t)},g.prototype.find=function(e){"use strict";var t;return this.each((function(n,r){e(n,r)&&(t=r)})),t},g.prototype.findFirst=function(e){"use strict";var t,n;return this.each((function(r,i){!n&&e(r,i)&&(t=i,n=!0)})),t},g.prototype.keys=function(e){"use strict";var t=[];return this.each((function(e){t.push(e)}),e),t},g.prototype.asStrings=function(){"use strict";var e={};return this.each((function(t,n){e[t]=""+n})),e},g.prototype.selectProperties=function(e){"use strict";var t={},n=this;return d(e).each((function(e,r){d.isDef(n.iterable[r])&&(t[r]=n.iterable[r])})),t},g.prototype.filter=function(e,t){"use strict";return this.map((function(t,n){var r;return(d.isUndef(e)||d.resolve(e,t,n))&&(r=n),r}),t)},g.prototype.toArray=function(){"use strict";return this.map((function(e,t){return t}))},g.prototype.JSONStringify=function(){"use strict";var e,n,r=!1;return t.Prototype&&t.Prototype.Version&&-1===t.Prototype.Version.indexOf("1.7")&&(r=!0),r&&(n=Array.prototype.toJSON,delete Array.prototype.toJSON),e=JSON.stringify(this.iterable),r&&(Array.prototype.toJSON=n),e},g.prototype.contains=function(e){"use strict";var t=d(this.iterable).findFirst((function(t,n){return e===n}));return d.isDef(t)},d.toBase=function(e,t){"use strict";var n,r=e<0,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),o=[];e=r?-e:e;do{n=e%t,o.push(i[n]),e=(e-n)/t}while(e>0);return o=o.reverse().join(""),r?"-"+o:o},d.isDef=function(e){"use strict";return void 0!==e},d.isUndef=function(e){"use strict";return!d.isDef(e)},d.isBool=function(e){"use strict";return"boolean"==typeof e},d.noop=function(){},d.identity=function(e){"use strict";return e},d.isFunction=function(e){"use strict";return"function"==typeof e},d.isStr=function(e){"use strict";return"string"==typeof e},d.useIfDef=function(e){"use strict";return!!d.isDef(e)&&e},d.stringifyTriState=function(e){"use strict";return!0===e?1:!1===e?0:"na"},d.getNum=function(e){"use strict";var t=parseInt(e);return isFinite(t)||(t=-1),t},d.resolve=function(e){"use strict";var t=d(arguments).toArray();return t.shift(),d.isFunction(e)?e.apply({},t):e},d.flatJSONParse=function(e){"use strict";for(var t,n,r,i=/"(\w+)":(\d+|(?:"([^"]*)"))/g,o={},a=i.exec(e);a;)t=a[1],n=a[3],r=a[2],o[t]=n||+r,a=i.exec(e);return o},d.debounce=function(e,n,r){"use strict";var i,o=r||t;return function(){var t=this,r=arguments,a=function(){i=null,e.apply(t,r)};o.clearTimeout(i),i=o.setTimeout(a,n)}},d.last=function(e){"use strict";return e[e.length-1]},d.collapseArgsIntoHash=function(e,t){"use strict";var n={};return t?n[e]=t:n=e,n},d.fromBoolToNum=function(e){"use strict";return e?1:0},d.isNumeric=function(e){"use strict";return d.isDef(e)&&null!==e&&!isNaN(e)},d.fromNodeListToArray=function(e){"use strict";return Array.prototype.slice.call(e)},d.encodeInvalidUrlChars=function(e,t){"use strict";var n={$:"%24","[":"%5B","]":"%5D","{":"%7B","}":"%7D","|":"%7C"},r=e;return t&&"string"==typeof e&&(r=(r=e.replace(/%(?![0-9A-F][0-9A-F])/gi,"%25")).replace(/\$|\[|\]|\{|\}|\|/gi,(function(e){return n[e]}))),r};var f=function(){"use strict";var e,t={},n=[],r=[],i=function(){var e={},t=d(arguments).toArray();return t.unshift(e),r.push(t),e},o=function(r,i,o,a,s){var u,c,g,f=function(){if(!u){var t=[];u=!0,i=["features","browser","context"],0===n.length&&(n=d(i).map((function(t,n){return e.request(n)}))),s.emits&&(r.events=new F),s.applies&&!s.applies.apply(s,n)||(c=!0,(t=d(o).map((function(t,n){return e.request(n)}),!0)).push(r),d(r).mixin(a.apply({},t)))}var i};return g=(s=s||{}).tier,d.isDef(g)&&(t[g]=t[g]||new L,t[g].push(f)),e.provide(i,(function(){var e;return f(),c&&(e=r),e})),r};return i.runAll=function(){var e=d(t).keys().sort((function(e,t){return e-t}));d(e).each((function(e,t){i.runTier(t)}))},i.runTier=function(e){t[e].run(),delete t[e]},i.startSystem=function(){e=e||new V,d(r).each((function(e,t){o.apply({},t)}))},i.getAggregator=function(){return e},i}();const l={MRC_LARGE_AD_SIZE:242500,IN_VIEW:"inView",OUT_OF_VIEW:"outOfView",PARTIAL_VIEW_PLUS:"partialViewPlus",PARTIAL_VIEW_MINUS:"partialViewMinus",NA:"na",PIV_NA:-1,DT_CODES:{ADTALK:"a",DIAGNOSTIC:"b",PERFORMANCE:"e",THIRD_PARTY:"i",LARGE_BILLABLE:"l",VIDEO_EVENTS:"m",PING:"p",FULLY_INVIEW:"pf",QUARTILE_FULLY_INVIEW:"qf",SCA:"s",POS_INVIEW:"t",UNLOAD:"u",VIEWABILITY_READY:"v",EXTERNAL:"x",CUSTOM:"c",XSCA:"xs"},DT_SLOT:{IM:"im",FF:"sca",FF_EXP:"xsca",ENVIRONMENT:"env"},DETECTION_METHODS:{AD_PLACEHOLDER:"s",AD_HUNT:"a",IFRAME:"i",VIDEO:"v",MRAID:"m",OMID:"o1",MUTATION:"c",SPECIFIED_AD:"sp",SPECIFIED_AD_COMPOUND:"spc",BUSTED_IFRAME_FLASHTALKING:"bf",BUSTED_IFRAME_YIELDMO:"by",BUSTED_IFRAME_SIZMEK:"bs",VENDOR_CELTRA:"vc"},OUT_OF_VIEW_REASONS:{GEOM:"l",OBSTRUCTION:"o",FOCUS:"f",COLLAPSED:"c",HIDDEN:"h",RENDER:"r",VIDEO:"v",WINDOW:"w"},PERF_TIMELINE_TRACKER_CONFIG:{VANS:{TYPE:"vans",COUNT:4},WRAPPERS:{JS:{TYPE:"jswrapper",COUNT:15},AS:{TYPE:"flwrapper",COUNT:9}},RENDER:{TYPE:"render",COUNT:2,CODE:"tdr"}},ERROR_CODES:{GET_AD_DIMENSIONS:"a",AD_SLOT_ID:"A",BAPI_CALLBACK:"b",BROWSER_NOT_HTML5_COMPATIBLE:"B",ADTALK_GENERAL:"c",COCOA_GONE:"C",GET_SCREEN_LOC_GET_DIMENSIONS:"d",ADTALK_DUBIOUS:"D",IMPRESSION_PERFORMANCE:"e",POST_IMPRESSION:"E",ADTALK_DELAY:"f",VIDEO_IN_IFRAME_DIMS_CALC:"F",GDPR:"g",INIT_ADS_MANAGER:"G",PHONE_HOME:"h",FEATURE_SCRIPT:"H",HIDDEN:"H1",HIDDEN2:"H2",UID_GENERATION:"i",IMPRESSION_URLS:"I",NOT_VPAID_EVENT_OBJECT:"j",JSINFO:"J",KILL_IT:"k",NO_RESPONSE_XML:"K",LOCATION_DETAILS:"l",IMPRESSION_LEADUP:"L",MESSAGE_LISTENER:"m",MOBILE_APP:"M",AT_INIT:"N",AUTOPLAY_DETECTION:"n",ANCESTOR_ORIGINS:"o",EVENT_LOOP_ONE:"O",GET_SCREEN_LOC_PIV_CALC:"p",PLUGIN_PARSING:"P",NO_ORIGINAL_VAST:"q",AD_REFRESH:"r",AD_ERROR:"R",GET_ELEM_STYLE:"s",AT_SEND:"S",ADS_MANAGER_START_AD:"t",NO_COMPANION_AD_XML:"T",NO_VIDEO_AD_INTERFACE:"u",UNRECOGNIZED_EVENT_TYPE:"U",ENVIRONMENT:"v",CHECK_SCREEN_LOC:"V",GET_WIN_DIMENSIONS:"w",AC_WATCHER:"W",EXCHANGE_PARSING:"x",SCA:"X",BUSTED_IFRAME_IN_IO:"y",FLASH_API_ACCESS:"z",XSCA:"Z"},BROWSERS:{WEBKIT:"w",OPERA:"o",GECKO:"g",CHROME:"c",MSEDGE:"e"},MEDIA_TYPE_CODE:"mtp",MEDIA_TYPE:{DISPLAY:"display",DISPLAY_CODE:"d",VIDEO:"video",VIDEO_CODE:"v"},MEASUREMENT_STRATEGY:{DISPLAY:"display",VIDEO:"video"},TIERS:{PRE_IMPRESSION_FRAUD:4,VIEWABILITY:7,ENVIRONMENT:8},IMPRESSION_EVENT:"impression",AD_IDENTIFIER:"data-integralas-id",IAS_DETECTOR:"iasdetector",CONTAINER_GEOMETRY_MEASUREMENT_CHANGED:"containerGeometryMeasurementChanged",OMID_GEOMETRY_MEASUREMENT_CHANGED:"omidGeometryChanged",VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER:[0,.01,.2,.25,.3,.5,.7,.75,.8,.99,1],VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID:[0,.1,.2,.25,.3,.4,.5,.6,.7,.75,.8,.9,1],GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE:"grpmMobPassThru",REFERRER_POLICY:"no-referrer-when-downgrade",RENDER:{CREATIVE_NODE_TYPES:["CANVAS","EMBED","IMG","OBJECT","PICTURE","SVG","VIDEO"],CONTAINER_NODE_TYPES:["A","DIV","IFRAME","INS"],WIDTH_THRESHOLD:20,HEIGHT_THRESHOLD:20,STATUS:{OTHER:"0",DETECTED:"1"},DETAILS:{ENVIRONMENT:"env",OTHER:"na"},DIAGNOSTIC:{BROKEN_IMAGE:"bi",UNQUALIFIED_SIZE:"us",QUALIFIED_SIZE:"qs",STYLED_NODE:"sn",TEXT_NODE:"tn",DOCUMENT_READY:"dr",LOAD_FIRED:"lf",CONTENT_STYLED:"cs",MRAID_DEFAULT:"md",MRAID_READY:"mr",MRAID_LOADING:"ml",MRAID_UNKNOWN:"mu",OMID_RENDERED:"or",OMID_UNRENDERED:"ou"}},RTS_KEY_FOR_VQ:"qiv",UNIQUE_ID_TOKEN:"[IAS_ASID]"};var p="mf",m="cm",h="in",v="pr",E="po",I="bl",A="lo",S="lt",T="md",D="id";var O=function(e){"use strict";return{verifyContextNode:function(){!(__IASScope.isDomless||e.contextNode&&null!==e.contextNode.parentNode)&&(e.contextNode=function(){var t,r=n.getElementsByTagName("script"),i=r.length,o=r[i-1],a=e.scriptUrl;try{for(;--i>=0;)if((t=r[i]).src&&0===t.src.indexOf(a)&&null===t.getAttribute("data-ias-script-tag")){o=t,t.setAttribute("data-ias-script-tag","found");break}}catch(e){}return o}())}}},y=function(){"use strict";var t,n=["STYLE","SCRIPT","HEAD","META"],r=l.RENDER.CREATIVE_NODE_TYPES.concat(l.RENDER.CONTAINER_NODE_TYPES),i=0,o=e.useFIF&&ue.friendlyIframe||ue.isSpecifiedAd(),a=0,s=[],u=function(t){var n,r,o=t,a=t,s=ue.friendly?Ne.getTop().document.body:e.contextNode.ownerDocument.body;for(;i<3;){if(s&&o===s){a=o,i=3;break}le.isWindow(o)&&(r=void 0,r="["+l.AD_IDENTIFIER+"-"+e.asid+"]",n=le.crossQuerySelector(r),o=d.isDef(n)?n:o),a=o=d.isDef(o)&&o.parentNode||o,i++}return a},c=function(e){var t=function(e){var t,i,o=[],a=e&&e.getElementsByTagName&&e.getElementsByTagName("*"),s=a&&a.length;if(a)for(var u=0;u<s;u++)i=(t=a[u])&&t.nodeName&&t.nodeName.toUpperCase(),!t.children||0!==t.children.length||d(r).contains(i)||d(n).contains(i)||d(o).contains(i)||o.push(i);return o}(e);return r.concat(t)},g=function(t){var n,r=o?u(t):t;return le.isWindow(r)?n=function(t){var n;try{n=t.document}catch(t){n=e.contextNode.ownerDocument}return n}(r):"IFRAME"===le.getNodeName(r)?(s.push(t),n=t.contentWindow.document):n=r,n},p=function(n){var r,i=le.isNodeXDomainIframe(n)||le.isNodeCreative(n),o=!n;if(t=o?e.contextNode.parentNode:n,i||o)(r=s.length)>0&&(a<r?a=r:(a=0,s=[])),f.getAggregator().trigger("evaluateCreativeFinderResult",n);else{var u=g(n),d=c(u);new w(d,s).searchDescendants(u)}};return f.getAggregator().on("creativeFinderBatchCompleted",p),{find:p,getClosestContainerName:function(){return le.getNodeName(t)}}},w=function(t,n){"use strict";var r=t,i=function(e){var t=0,r=null,i=-1;function o(e){if(o=e,a=le.getNodeName(o),s=le.isNodeCreative(o)||"IFRAME"===a,a&&s&&!le.isEmptyFriendlyFrame(e)){var t=le.getNodeArea(e);t>i&&!d(n).contains(e)&&(r=e,i=t)}var o,a,s}e.length&&f.getAggregator().request("useYieldSearch")?function n(){do{o(e[t]),t+=1}while(t%500!=0&&t<e.length);t<e.length?Ne.execAtEndOfThread(n,0):f.getAggregator().trigger("creativeFinderBatchCompleted",r)}():function(){for(;t<e.length;t++)o(e[t]);f.getAggregator().trigger("creativeFinderBatchCompleted",r)}()};return{searchDescendants:function(t){var n=function(e){var t,n,i=[],o=r;for(t=0;t<o.length;t++){var a=o[t].toLowerCase(),s=e.getElementsByTagName&&e.getElementsByTagName(a);if(s&&s.length)for(n=0;n<s.length;n++)i.push(s[n])}return i}(t||e.contextNode.parentNode);i(n)}}},N=function(){"use strict";var e,t=!1,n=!1,r=!1,i={status:l.RENDER.STATUS.OTHER,details:l.RENDER.DETAILS.OTHER},o={status:l.RENDER.STATUS.DETECTED,details:l.RENDER.DETAILS.ENVIRONMENT},a="rend",s="renddet",u="data-ias-rend-bi",c=f.getAggregator().request("omidAdSessionContext"),g=function(){t=!0,r=!0},p=function(e){e&&(e.status=l.RENDER.STATUS.DETECTED),f.getAggregator().trigger("adRendered")},m=function(){var e=!1;return ue.isOmid()&&c&&c.useOMID13Logic&&(e=!0),e},h=function(t){var n=!0,r=d.isDef(t.naturalWidth)?t.naturalHeight*t.naturalWidth:0,i=getComputedStyle(t),o=0===t.src.length&&Le.contains(i.content,"url"),a=t.getAttribute&&t.getAttribute(u);return r>0&&!o&&(n=!1),"false"===a&&(e.save(l.RENDER.DIAGNOSTIC.CONTENT_STYLED),n=!1),o&&!a&&function(t,n){e.save(l.RENDER.DIAGNOSTIC.CONTENT_STYLED);var r=/url(?:\(['"]?)(.*?)(?:['"]?\))/.exec(n.content)[1],i=le.createImage(),o=t;i.onload=function(){i.naturalHeight*i.naturalWidth>0&&o.setAttribute&&o.setAttribute(u,!1)},i.src=r,o.setAttribute(u,!0)}(t,i),n},v=function(e){e===l.RENDER.STATUS.DETECTED&&f.getAggregator().trigger("perfCheckpoint",{type:l.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:Ne.now(),code:l.PERF_TIMELINE_TRACKER_CONFIG.RENDER.CODE})},E=function(n){var r=e.build(),o=n.status||i.status,u=r||i.details;t&&o===l.RENDER.STATUS.DETECTED?function(e,t){v(e),f.getAggregator().trigger("addThrottledOutputItem",a,e),f.getAggregator().trigger("addThrottledOutputItem",s,t)}(o,u):function(e,t){v(e),f.getAggregator().trigger("addOutputItem",{output:e},a),f.getAggregator().trigger("addOutputItem",{output:t},s)}(o,u)},I=function(){f.getAggregator().on("primaryadfound",(function(t){var n,r=i,o=new y,a=!0,s=function(){n?Ne.clearInterval(n):a=!1};f.getAggregator().on("evaluateCreativeFinderResult",(function(t){var n,i,a,u,c,d,g,f;le.isNodeXDomainIframe(t)?(s(),i=t,a={},u="readystatechange",c="load",d=Ne.getDoc(),g="complete"===d.readyState,f=function(t){var n=t&&t.type;(n===u&&"complete"===t.target.readyState||n===c)&&(p(a),e.saveNode(i),"readystatechange"===n?e.save(l.RENDER.DIAGNOSTIC.DOCUMENT_READY):"load"===n&&e.save(l.RENDER.DIAGNOSTIC.LOAD_FIRED),E(a),ce.removeEvent(i,c,f),ce.removeEvent(d,u,f))},g?(p(a),e.saveNode(i),e.save(l.RENDER.DIAGNOSTIC.DOCUMENT_READY)):(ce.addEvent(i,c,f),ce.addEvent(d,u,f)),r=a):t?(function(t){var n=!1,r=le.getRect(t);return t&&"IMG"===le.getNodeName(t)&&h(t)&&(n=!0,e.save(l.RENDER.DIAGNOSTIC.BROKEN_IMAGE)),!n&&r.width>=l.RENDER.WIDTH_THRESHOLD&&r.height>=l.RENDER.HEIGHT_THRESHOLD}(t)&&(p(r),s()),e.saveNode(t)):(n=o.getClosestContainerName()||e.getAdNodeName(t)||r.details,e.save(n)),E(r)}));var u,c,d,g,m,v=function(){var e=t&&t.getAdNode();try{o.find(e)}catch(e){f.getAggregator().trigger("renderdiag",e)}},I=f.getAggregator().request("mobileApp");I&&I.isMobileAppEnvironment&&I.isMobileAppEnvironment()&&ue.isMraid()?(u=Ne.getWindow().mraid,c=u&&u.getState&&u.getState(),d="ready",g=i,m=function(){ce.removeEvent(u,d,m),e.save(l.RENDER.DETAILS.ENVIRONMENT),e.save(l.RENDER.DIAGNOSTIC.MRAID_READY),p(),E({status:l.RENDER.STATUS.DETECTED})},e.save(l.RENDER.DETAILS.ENVIRONMENT),"default"===c?(p(),e.save(l.RENDER.DIAGNOSTIC.MRAID_DEFAULT),g.status=l.RENDER.STATUS.DETECTED):"loading"===c?(ce.addEvent(u,d,m),e.save(l.RENDER.DIAGNOSTIC.MRAID_LOADING)):(ce.addEvent(u,d,m),e.save(l.RENDER.DIAGNOSTIC.MRAID_UNKNOWN)),E(g)):(v(),a&&(n=Ne.setInterval(v,500))),f.getAggregator().trigger("eligiblerender")}))},A=function(){var t=c&&!!c.isVideo,r=!m()||c&&!!c.videoStartArrived,i=!m()||c&&!!c.geometryArrived,a=!c.omidEarlyExit||c.omidImpressionArrived,s=!(c.omidEarlyExit&&m())||c.omidLoadedArrived;return!(n||!i||!a||!s||t&&!r)&&(f.getAggregator().trigger("addOutputItem",{output:ue.getTagTime()},"oren"),f.getAggregator().trigger("eligiblerender"),e.save(l.RENDER.DETAILS.ENVIRONMENT),e.save(l.RENDER.DIAGNOSTIC.OMID_RENDERED),p(),E(o),n=!0,!0)};return{start:function(){var t=!1;f.getAggregator().trigger("perfCheckpoint",{type:l.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:Ne.now(),code:"initial"}),f.getAggregator().on("adRendered",(function(){t=!0})),f.getAggregator().provide("adRenderStatus",(function(){return t})),f.getAggregator().provide("useYieldSearch",(function(){return r})),e=new _,new R,f.getAggregator().on("impressionsent",g),m()||c.omidEarlyExit?A()||(e.save(l.RENDER.DETAILS.ENVIRONMENT),e.save(l.RENDER.DIAGNOSTIC.OMID_UNRENDERED),E(i),f.getAggregator().on("omidrendgeoupdate",(function(){A()})),f.getAggregator().on("omidrendvideostart",(function(){A()})),c.omidEarlyExit&&(f.getAggregator().on("omidimpressionarrived",(function(){A()})),f.getAggregator().on("omidloadedarrived",(function(){A()})))):ue.isOmid()||ue.isVideo()?(f.getAggregator().trigger("eligiblerender"),e.save(o.details),p(),E(o)):(E(i),I())}}},_=function(){"use strict";var e=[],t=[],n=function(e){var t;if(le.isWindow(e))t="WINDOW";else if(le.isNodeXDomainIframe(e))t="XIFRAME";else try{t=le.getNodeName(e)}catch(e){r("nen")}return t},r=function(t){e.push(t)};return{build:function(){var n=[];return d(t).each((function(e,t){n.push(t)})),d(e).each((function(e,t){n.push(t)})),t=[],e=[],n.join(".")},getAdNodeName:n,save:r,saveNode:function(e){try{var i=e&&n(e),o=e&&le.getRect(e),a=e&&le.hasBackgroundImage(e),s=e&&e.children&&0===e.children.length,u=e&&e.innerText&&e.innerText.length>0,c=s&&u,d=o&&o.width>=l.RENDER.WIDTH_THRESHOLD&&o.height>=l.RENDER.HEIGHT_THRESHOLD?l.RENDER.DIAGNOSTIC.QUALIFIED_SIZE:l.RENDER.DIAGNOSTIC.UNQUALIFIED_SIZE;t.push(i),t.push(d),a&&t.push(l.RENDER.DIAGNOSTIC.STYLED_NODE),c&&t.push(l.RENDER.DIAGNOSTIC.TEXT_NODE)}catch(e){r("sne")}}}},R=function(t){"use strict";var n,r=!1,i=!1,o="1",a="0",s=function(){r=!0,c()},u=function(e){n=e,c()},c=function(){f.getAggregator().trigger("addOutputItem",{output:!n&&r?o:a},"rmeas"),n&&n.message&&!i&&(__IntegralASDiagnosticCall("renderloop",n,e),f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.ENVIRONMENT,"rle",1),i=!0)};f.getAggregator().on("eligiblerender",s),f.getAggregator().on("renderdiag",u),c()},b=function(){"use strict";return{applies:function(e,t){var n=f.getAggregator().request("mobileApp");return(e.browserIs(l.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(l.BROWSERS.WEBKIT)||e.browserIs(l.BROWSERS.MSEDGE))&&!n.isMobileAppEnvironment()&&e.hasIntersectionObserver()}}},C=function(){"use strict";var e,t,n=!1,r=f.getAggregator().request("mPage"),i=function(){!n&&t&&e&&!r.isHidden()&&(n=!0,f.getAggregator().trigger("sendDt",l.DT_CODES.LARGE_BILLABLE))};f.getAggregator().on("primaryadfound",(function(t){e=t.getDims().area()>=l.MRC_LARGE_AD_SIZE,i()})),f.getAggregator().on("impressionsent",(function(){t=!0,i()})),r.onHiddenChange(i)},M=function(){"use strict";var e=[],t={},n={percentInView:"piv",sl:"vs",reason:"r",width:"w",height:"h",omidObstructions:"oobs"},r={omidObstructions:["sl","percentInView","reason"]};f.getAggregator().on("newScreenEvent",(function(r){var o=d(r).selectProperties(d(n).keys()),a=d(o).asStrings(),s=d(a).compareTo(t);(s=i(s))&&JSON.stringify(s)!==JSON.stringify({})&&(s.t=ue.getTagTime(),e.push(s)),d(t).mixin(a)}));var i=function(e){return d(r).each((function(t,n){var r=!1;d(n).each((function(t,n){e[n]&&(r=!0)})),!1===r&&delete e[t]})),e};return{toString:function(){return d(e).toION(n)}}},V=function(){"use strict";var e=new B,t=new F;return d(e).mixin(t)};const F=function(){"use strict";const e={},t={},n=function(e,n){t[e]=t[e]||[],t[e].push(n)},r=function(t,n){const r=e[t];r&&r.run.apply({},n)},i=function(e,n,r){let i=t[e];if(i&&0!==i)return r&&(i=i.slice(0,1)),d(i).each((function(e,t){n.apply({},t)})),!0},o=function(t,n,r){e[t]=e[t]||new L,e[t].push(n,r)};return{on:function(e,t){let n={};t?n[e]=t:n=e,d(n).each(o),d(n).each(i)},once:function(e,t){i(e,t,!0)||o(e,t,1)},trigger:function(e){const t=d(arguments).toArray();t.shift(),r(e,t)},persistentTrigger:function(e){const t=d(arguments).toArray();t.shift(),n(e,t),r(e,t)}}};var P=function(){"use strict";var e=function(t,n,r){var i,o,a=n.length,s=le.isWindow(t)?t.frames:le.getChildWindowsOf(t);if(r&&r(t,n),s&&s.length){for(i=0;i<s.length;i++)(o=s[i])&&le.isWindow(o)&&(n[a]=i,e(o,n,r));n.pop()}},t=function(t,n){try{e(n||top,[0],t)}catch(e){}};return{traverse:t,getFrames:function(e,n){var r=[];return t((function(e){le.isWindow(e)&&function(e,t){var n,r=!0;for(n=0;n<e.length;n++)if(e[n]===t){r=!1;break}return r}(r,e)&&r.push(e)}),n),d(r).filter(e)}}};const L=function(){"use strict";const e=[];return{push:function(t,n){let r=0;n=n||Number.MAX_VALUE;e[e.length]=function(){r<n&&(r++,t.apply({},arguments))}},run:function(){const t=arguments;d(e).each((function(e,n){n.apply({},t)}))}}};var x=function(e){"use strict";var t={};return{doEligibleJobs:function(n){d(e).each((function(e,r){var i=r&&r.getTime();d.isDef(i)&&n>=i&&!t[i]&&(r.getTask().call(),t[i]=!0)}))}}},W=function(){"use strict";var e,n=new U;return{listen:function(r,i,o){e=function(e){!function(e,t,r,i){var o,a,s,u;if(JSON&&JSON.parse)try{o=JSON.parse(e.data),a=e.source,u=d.noop,t(o)&&(i&&(s=i(a,o))&&(u=function(){n.send((function(){return s}),a)}),r(e,o,u))}catch(e){o&&f.getAggregator().trigger("error",l.ERROR_CODES.MESSAGE_LISTENER)}}(e,r,i,o)},ce.addEvent(t,"message",e)},stop:function(){e&&ce.removeEvent(t,"message",e),e=null}}},U=function(){"use strict";return{send:function(e,t){if(JSON&&JSON.stringify){var n=function(e){return d(e).isObj()?[e]:(new P).getFrames(e)}(t);d(n).each((function(t,n){var r,i=d.resolve(e,n)||{};i.sentTime=Ne.now(),r=function(e){return d(e).mapToObj((function(e,t){var n;return d.isFunction(t)||((n={})[e]=t),n}))}(i),n.postMessage(d(r).JSONStringify(),"*")}))}}}},G=function(e){"use strict";var t=0,n={},r=function(e,n,r){if(d.isUndef(e.output))throw new Error("item with id "+n+' must have "output" method');this.item=e,this.id=n||++t,this.props=r||{},this.output=function(){var t=d.resolve(e.output);return this.props.asION&&(t=d(t).toION()),t}},i=function(e){var t,r,i=[];for(t in n)n.hasOwnProperty(t)&&(r=e(t,n[t]))&&i.push(r);return i},o=function(e,t,i){i="string"!=typeof(i=i||t)?i:{};var o=d(e.output).isObj()&&!i.asION,a=function(e,t,i){var o=new r(e,t,i);n[o.id]=o};o?d(e.output).each((function(e,t){a({output:t},e,i)})):a(e,t,i)};return e.on("addOutputItem",(function(e,t,n){o(e,t,n)})),{addItem:o,filterOutput:function(e,t){return i((function(n,r){var i,o=r.props;e(o)&&(i=r.output(),o.encode&&(n=encodeURIComponent(n),i=encodeURIComponent(i)),d.isFunction(t)?t(n,i):t[n]=i)}))},iterate:i,cleanup:function(){i((function(e,t){t.props.flagForRemoval&&delete n[e]}))},getItem:function(e){return n[e]}}};const B=function(){"use strict";const e={},t=(t,n)=>{e[t]=n};return{request:function(t){let n;const r=e[t],i=d(arguments).toArray();return i.shift(),d.isUndef(r)||(n=d.isFunction(r)?r.apply({},i):r),n},provide:(e,n)=>(n?t(e,n):d(e).each(t),n)}};var H=function(){"use strict";return{createInstance:function(e,t,n,r){return ue.isDomless()?new j:new k(e,t,n,r)}}},k=function(e,t,n,r){"use strict";var i,o=function(e,t){return{viewState:l.NA,posViewState:l.NA,embedded:ue.embedded,winDimensions:e,adDimensions:t}};return{collect:function(){var t=e.find(),a=t.getOutOfViewReasons(),s=n.isHidden(),u=r.isDeviceTypeGroupMobile()&&i?i:fe(le.calcWinDims()),c=t.getDims();return i=u,t.hasAd()&&u.hasValidDims()&&c.hasValidDims()?(!0===s&&a.push(l.OUT_OF_VIEW_REASONS.FOCUS),{winDimensions:u,adDimensions:c,containerDimensions:t.getContainerDims(),method:t.getDetectionMethod(),viewState:a.length?l.OUT_OF_VIEW:t.getViewState(),viewStateIgnoringRender:t.getViewStateIgnoringRender(),percentInView:t.getPercentInView(),percentInViewIgnoringRender:t.getPercentInViewIgnoringRender(),reason:a.join("."),obstructed:d.stringifyTriState(t.isObstructed()),isHidden:d.stringifyTriState(t.isHidden()),tabHidden:d.stringifyTriState(s),posViewState:t.getViewState(),adCompCount:t.getComponentCount(),sliceStatus:t.getSliceStatus()}):o(u,c)}}},j=function(){"use strict";return{collect:function(){return{}}}},q=function(e){"use strict";e=e||d.identity;var t=[],n=Ne.now(),r=function(){var e=Ne.now();t.length&&(t[t.length-1].duration+=e-n,n=e)};return{clear:function(){r(),t=[]},fastForward:r,get:function(){return t},hasAlwaysBeen:function(e){return 1===t.length&&t[0].state===e},addState:function(n){var i=t[t.length-1],o=e(n);r(),0!==t.length&&o===i.state||t.push({state:o,duration:0})}}};const Y=function(e,t){"use strict";const n=e||1;let r,i=0,o=0,a=0;return{start:()=>{i%n==0&&(r=Ne.now())},stop:()=>{const e=r||t;i%n==0&&(a+=Ne.now()-e,o++),i++},getTime:()=>a,getCount:()=>o}};var K=function(){"use strict";var e,t=0,n=0,r=new F(!0),i=function(){e&&(t++,r.trigger(t),n>t?Ne.execAtEndOfThread(i):o())},o=function(){e=!1,t=0};return{onTick:function(e,t){var i=d.collapseArgsIntoHash(e,t);d(i).each((function(e,t){e=parseInt(e),n=e>n?e:n})),r.on(i)},start:function(){e||(e=!0,Ne.execAtEndOfThread(i))},kill:o,isActive:function(){return e}}},z=function(e){"use strict";var t,n=0,r=ue.getTagTime(),i=0,o=!1;return{getTotalTime:function(){return i},stop:function(){n=0,r=ue.getTagTime(),o=!1},mark:function(){t=o?ue.getTagTime()-r:0,(n+=t)>=e&&(i+=n-t<e?n:t),r=ue.getTagTime(),o=!0}}};const X=function(t,n){"use strict";let r=t||e.adsafeSrc||e.requrl;r&&0===r.indexOf("http")||(r=0===r.indexOf("//")?e.protocol+":"+r:e.protocol+"://"+r);const i=/((http|https):\/\/(([^\/\.]*)\.([^\/]*)))(?:\/(.[^?]*)\??(.+)?)*/.exec(r)||[],o=i[1]?i[1]:"",a=i[2]?i[2]:"",s=i[3]?i[3]:"";let u=i[4]?i[4]:"",c=i[5]?i[5]:"",g=t&&i[6]?i[6]:"",f=i[7]&&n?i[7]:"";const l={},p=function(e){return"string"==typeof e&&(u=e),u},m=function(e){return"string"==typeof e&&(c=e),c},h=function(t,n){const r=t+"="+d(n).toION();return d.encodeInvalidUrlChars(r,e.encodeInvalidUrlChars)},v=function(){const e=d(l).isEmpty()?"":d(l).stringify(h,"&");return"?"+f+(f&&e?"&"+e:e)};f=f?f.replace(/&$/,""):"";return{appendToParamValue:function(e,t){let r,i,o,a;const s=l[e];s?l[e]=s+t:n&&f.length&&(r=f.split(e),a=r.length>1,a&&(i=r[1].split("&")[0],o=[r[0],i].join(e),f=f.replace(o,o+t)))},fullDom:o,hostname:s,sub:p,master:m,setParam:function(e,t){l[e]=l[e]||{},"string"==typeof t||"number"==typeof t?l[e]=t:d(l[e]).mixin(t)},path:function(e){g=e},toString:function(){const e=p()?p()+".":"",t=g?"/"+g:"",n=f||!d(l).isEmpty()?v():"";return a+"://"+e+m()+t+n}}};var J=function(){"use strict";var e=function(e){var t=[];return d(e).each((function(e,n){t.concat(n).join("").length<=400&&t.push(n)})),t},t=function(e){var t=le.getAncestorNodes(e);return d(t).map(n)},n=function(e,t){var n;return t&&t.id&&(n=t.id.replace(/[^\w-_.>\/]/g,"")),n};return function(){var n,r;try{return ue.friendly&&!ue.isMobileApp()&&((n=f.getAggregator().request("adSlotIds"))?r=n:(n=function(){var n,r;return(n=le.getOurNodeInTop())&&(r=t(n)),r&&e(r)}(),n&&(f.getAggregator().trigger("addOutputItem",{output:n},"slid",{type:l.DT_CODES.ADTALK,asION:!0}),f.getAggregator().provide("adSlotIds",n),r=n))),r}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.AD_SLOT_ID)}}()},Q={name:"AdRefreshDetection",dependencies:[],creator:function(){"use strict";var t=[15,30,45,60,90],n={start:function(){var t=this,n=e.asid,r=this.getChanId(),i=e&&e.contextNode&&e.contextNode.nextSibling&&e.contextNode.nextSibling.id;n&&r&&(this.recordAdSlotImpression(n,r,i,(function(e,n){e?f.getAggregator().trigger("error",l.ERROR_CODES.AD_REFRESH):t.sendRefreshSession(n)})),t.registerInternalViewabilityListener(r,i))},adRefreshIntervalIsValid:function(e){return-1!==t.indexOf(e)},getChanId:function(){for(var t,n=e.reqquery.split("&"),r=/(\S+)=(\S+)/g,i=0;i<n.length;i+=1){r.lastIndex=0;var o=r.exec(n[i]);o&&3===o.length&&"chanId"===o[1]&&(t=o[2])}return t},sendRefreshSession:function(e){var t=(0===e.refreshCount?"self":e.refreshSessionId)+"."+e.refreshCount;f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.ENVIRONMENT,"ar",t)},recordAdSlotImpression:function(e,t,n,r){var i=Ne.getTop(),o={requestTop:"recordAdSlotImpression",asid:e,adUnitId:t,cacheId:n};window.addEventListener("message",(function(e){if(/refreshSession/g.test(e.data))try{var t=e&&e.data&&JSON.parse(e.data);r(null,t)}catch(e){r(e)}}),!1),i.postMessage(JSON.stringify(o),"*")},registerInternalViewabilityListener:function(t,n){var r=this,i=e.adRefreshThreshold&&parseInt(e.adRefreshThreshold)||null,o=Ne.getTop();i&&this.adRefreshIntervalIsValid(i)&&f.getAggregator().on("sendDt",(function(e,a){e===l.DT_CODES.PING&&a===i&&(Ne.execAtEndOfThread((function(){o.postMessage(JSON.stringify({requestTop:"refreshAd",adUnitId:t,cacheId:n}),"*")})),r.sendAutoRefreshProp(i))}))},sendAutoRefreshProp:function(e){f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.ENVIRONMENT,"ir",e),f.getAggregator().trigger("adSessionComplete")}};return ue.isRefreshable((function(e,t){var r;if(!e&&t)try{(r=JSON.parse(t)).isRefreshable&&r.adServerName&&n.start()}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.AD_REFRESH)}})),n},settings:{tier:l.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return n.isPossiblyRefreshable()}}},Z=function(){"use strict";var e,t,n=function(e,t){return-1!==t.indexOf("https")&&(t+="*"),t.replace(/^https?:\/\//,"")},r=function(){if(f.getAggregator().request("adNode"))return parseFloat(f.getAggregator().request("videoVersion"))};return{isApplicable:function(e,t,n){return!function(e){return e.isVideo()&&!(e.isMraid()||e.isOmid())&&r()<3.7}(n)&&e.hasAncestorOrigins&&e.hasAncestorOrigins()&&t.on("ancestor")&&n.xDomainIframe},isStarted:function(){return!!t},start:function(){try{e=Ne.getWindow().location.ancestorOrigins,t=!0}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.ANCESTOR_ORIGINS)}},getMyFrameDepth:function(){return e&&e.length||0},getTopDomain:function(){return d.last(e)},sendOriginList:function(){var t;t="ao:"+(e?d(e).map(n).reverse():[]).join(","),f.getAggregator().trigger("addOutputItem",{output:t},"tpiLookup",{type:l.DT_CODES.THIRD_PARTY,standalone:!0,encode:!0}),f.getAggregator().trigger("sendDt",l.DT_CODES.THIRD_PARTY)}}},$=function(t,n,r,i,o){"use strict";var a=function(e,t,n){o.addItem({output:e+"."+t+"."+n},"ctpl")},s=function(e){try{n.diagnostic("c");var o=e.length,s=0,u=0;a(o,0,0),d(e).each((function(e,n){t.send(function(e){return e.replace("%%CBS%%",i.getCacheBustId())}(n),(function(){a(o,s,++u)}),!0),a(o,++s,u)}))}catch(e){r.add(l.ERROR_CODES.AT_SEND)}};return{init:function(){try{var n=(new X).fullDom;"/"!==n.slice(-1)&&(n+="/"),n+="tpl?asId="+e.asid,t.jsonp(n,s)}catch(e){r.add(l.ERROR_CODES.AT_INIT)}}}},ee=function(t,n,r,i){"use strict";return{enabled:"true"===e.useBapiCallback,callback:function(n){r.trigger("sendDiag");try{"true"===e.accountForSadImps&&i.measure(n),e._onAPIResult&&e._onAPIResult(n)}catch(e){t.add(l.ERROR_CODES.BAPI_CALLBACK),r.trigger("sendDiag","bapiClient")}}}},te=function(){"use strict";return{createInstance:function(e,t,n,r){return ue.isDomless()?new re:new ne}}},ne=function(){"use strict";var e=l.BROWSERS,t=function(){var t="u",n=Ne.getWindow();try{d.isDef(n.opera)&&d.isDef(n.opera.buildNumber)?t=e.OPERA:d.isDef(n.mozInnerScreenY)?t=e.GECKO:d.isDef(n.chrome)&&d.isDef(n.chrome.csi)?t=e.CHROME:d.isDef(n.msWriteProfilerMark)&&d.isDef(n.crypto)?t=e.MSEDGE:d.isDef(n.WebKitPoint)&&(t=e.WEBKIT)}catch(e){}return t},n=function(){var e=!1,t=Ne.getWindow();return d.isDef(t.navigator)&&d.isDef(t.navigator.userAgent)&&(e=t.navigator.userAgent),e};return{browserIs:function(e){return t()===e},hasIntersectionObserver:function(){return"function"==typeof IntersectionObserver},hasMutationObserver:function(){return"function"==typeof MutationObserver},hasResizeObserver:function(){return"function"==typeof ResizeObserver},hasAncestorOrigins:function(){var e=Ne.getWindow().location;return!(!e||!e.ancestorOrigins)},hasPostMessage:function(){var e=Ne.getWindow();return!(!e||!d.isFunction(e.postMessage))},getBrowserType:t,getUserAgent:n,params:function(){return{br:t(),an:(e=l.NA,n=Ne.getWindow(),d.isDef(n.navigator)&&d.isDef(n.navigator.appName)&&(e=n.navigator.appName.toLowerCase()[0]),e)};var e,n},isAndroidWebViewBrowser:function(){var e=n();return Le.contains(e,"Android")&&d(["Line","SamsungBrowser","FB_IAB","Silk"]).findFirst((function(t,n){return Le.contains(e,n)}))},getIOSVersion:function(){var e,t,r,i=n();return i&&(e=i.match(/OS\s\d+/))&&e.length>0&&(r=(t=e.toString().match(/\d+/))&&t.length>0&&parseInt(t.toString())),r}}},re=function(){"use strict";var e=function(){return!1};return{getBrowserType:function(){return"u"},getIOSVersion:function(){},params:function(){return{br:"u",an:l.NA}},browserIs:e,getUserAgent:e,hasPostMessage:e,hasAncestorOrigins:e,hasIntersectionObserver:e,hasMutationObserver:e,isAndroidWebViewBrowser:e}},ie=function(){"use strict";return{createInstance:function(e,t){return ue.isDomless()?new se(t):new ae(e,t)}}},oe=function(){"use strict";var t;return{isApplicable:function(e){var n=!(!(t=f.getAggregator().request("omidAdSessionContext")).app||!t.isDisplay||t.isWeb),r=e&&e.indexOf("/blocking/")>-1&&!ue.integratedBlockingApplies(e);return n&&r},deployBlockingScriptIntoIframe:function(n){t=f.getAggregator().request("omidAdSessionContext");var r,i="iasbi"+e.asid,o=function(t,n){var r,i,o,a=e.contextNode.parentNode,s="about:blank",u=e.adWidth&&e.adWidth>0?e.adWidth:0,c=e.adHeight&&e.adHeight>0?e.adHeight:0,d=Ne.getDoc().getElementsByTagName("ins"),g=0,f=0;d&&d.length>0&&(o=d[0],g=parseInt(o.style.width),f=parseInt(o.style.height));var l=g||u||window.innerWidth,p=f||c||window.innerHeight;return"complete"===Ne.getDoc().readyState&&(e.forceAppend="true"),"true"===e.forceAppend?((r=Ne.getDoc().createElement("IFRAME")).id=t,r.src=s,a.appendChild(r)):Ne.getDoc().write('<iframe id="'+t+'" src="'+s+'"></iframe>'),(i=Ne.getDoc().getElementById(t))&&(i.style.width=l+"px",i.style.height=p+"px",i.scrolling="no",i.frameborder=0,i.style.position="absolute",i.style.padding=i.style.margin=i.style.border="0px"),i}(i);o&&(r=o.contentWindow.document)&&(r.open().write(function(e,t){var n,r="",i="",o=Ne.getDoc().getElementsByTagName("ins");if(o&&o.length>0){n=o[0],r="<ins";for(var a=0;a<n.attributes.length;a++)r+=" "+n.attributes[a].nodeName+'="'+n.attributes[a].nodeValue+'"';r+=">",i="</ins>"}return'<!doctype html><html><head></head><body style="margin:0px;border:0px;padding:0px;font-size:0px"><script>var IASid = "'+e+'", largestSize = 0;var IASmonitorDom = function () {  var DOM_MONITOR_PERIOD = 100;  var i, us, thisSize, thisWidth, thisHeight;  var elems = document.body.getElementsByTagName("*");  for (i = 0; i < elems.length; i++) {    if (elems[i].tagName && elems[i].tagName.toLowerCase() === "ins")      continue;    thisWidth = elems[i].offsetWidth;    thisHeight = elems[i].offsetHeight;    thisSize = thisWidth * thisHeight;    if (thisSize > largestSize) {      largestSize = thisSize;      us = parent.document.getElementById(IASid);      if (us) {        us.setAttribute("CreativeLoaded","true");        if (elems[i].style.left !== "") {          us.style.left = elems[i].style.left;          elems[i].style.left = "0px";        }        if (elems[i].style.top !== "") {          us.style.top = elems[i].style.top;          elems[i].style.top = "0px";        }      }    }  }  setTimeout(IASmonitorDom, DOM_MONITOR_PERIOD);};setTimeout(IASmonitorDom,50);<\/script>'+r+'<script src="'+t+'" referrerpolicy="'+l.REFERRER_POLICY+'"><\/script>'+i+"</body></html>"}(i,n)),r.close())}}},ae=function(r,i){"use strict";var o=function(e,t){return"//"+e+encodeURIComponent(t)},a=function(t){var n=!1;return ue.isMSFT()&&(n=!(t&&-1!=t.toString().indexOf("jsconfig.adsafeprotected.com/jsconfig"))&&e.iasProxyPartnerDomain),n},s=function(t,r,i,s){var u,c,d=a(r);d&&(r=o(d,r)),"script"!==t?((c=n.createElement("DIV")).innerHTML=i,u=c.childNodes[0]):((u=n.createElement("SCRIPT")).src=r,s&&(u.onload=s)),e.contextNode.parentNode.appendChild(u)},u=function(r,i,u){var c,d,g,f="",p=function(e){var t=a(e);return t&&(e=o(t,e)),' src="'+e+'"'}(i),m=' referrerpolicy="'+l.REFERRER_POLICY+'"';ue.doesPageAllowAppendedScripts()&&u&&(d="__IntegralASEventLoadHandler_"+e.asid.replace(/-/g,""),t[d]=u,f=function(e){return' onload="'+e+" && "+e+'()"'}(d)),g={script:['<script type="text/javascript"',f,p,m,"><\/script>"],iframe:['<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0"',f,p,m,"></iframe>"],img:["<img",f,p,m,"/>"]}[r].join(""),ue.isOmid()?(c=new oe).isApplicable(i)?c.deployBlockingScriptIntoIframe(i):s(r,i,g,u):("loading"!==Ne.getDoc().readyState&&(e.forceAppend="true"),"true"===e.forceAppend?s(r,i,g,u):n.write(g))},c=function(e,t,n){var r,i=!n&&ce.getXHR2(),s=a(e);s&&(e=o(s,e)),i?(i.open("POST",e),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&t&&t()},i.send()):(r=le.createImage(),t&&(r.onload=t),r.src=e.toString())},g=function(e,t){var n=ce.getXHR2(),r=a(e);r&&(e=o(r,e)),n&&(n.open("GET",e),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status&&t)try{var e=JSON.parse(n.responseText);t(e)}catch(e){return}},n.send())},p=function(t,r,i,s){var u=n.createElement("script");i=i||e.contextNode.parentNode;var c=a(t);c&&(t=o(c,t)),u.type="text/javascript",u.src=t,u.referrerPolicy=l.REFERRER_POLICY,r&&(u.onload=r),s&&(u.setAttribute("defer",""),u.setAttribute("async","")),d.isDef(i)&&i.appendChild(u)},m=function(t){if(d.isFunction(t))t({iasImpId:e.asid});else if(t&&"string"==typeof t){var n=new X(t,!0).toString();c(n,void 0,!0)}},h=function(e,t,n,r){p(i.wrap(e,t,n,r))};return f.getAggregator().on({addNode:u,send:c,exec:p,notify:m,getJSON:g,jsonp:h}),{addNode:u,send:c,exec:p,notify:m,getJSON:g,jsonp:h}},se=function(t){"use strict";var n=function(e,t){t=t||e,e=arguments.length>1?e:"script",t=encodeURI(t);var n=f.getAggregator().request("omidVerificationClient");n["script"===e?"injectJavaScriptResource":"sendUrl"](t,(function(){}))},r=function(e,t){e=encodeURI(e),f.getAggregator().request("omidVerificationClient").sendUrl(e.toString(),t||function(){})},i=function(e,t){var n=f.getAggregator().request("omidVerificationClient");e=encodeURI(e),n.injectJavaScriptResource(e,t||function(){})},o=function(t){if(d.isFunction(t))t({iasImpId:e.asid});else if(t&&"string"==typeof t){var n=new X(t,!0).toString();r(n)}},a=function(e,n,r,o){i(t.wrap(e,n,r,o))};return f.getAggregator().on({addNode:n,send:r,exec:i,notify:o,jsonp:a}),{addNode:n,send:r,exec:i,notify:o,jsonp:a}},ue=function(t){"use strict";var n="undefined"==typeof window,r=function(){return n},i=void 0!==t&&"undefined"!=typeof top&&t!==top,o=function(){var e=!1;if(r())e=!0;else try{e=!!top.document}catch(e){}return e}(),a=function(){return r()||d.isDef(Ne.getWindow().mraid)},s=function(){return!r()&&d.isDef(Ne.getWindow().mraid)},u=function(){var e=!1;if(!r()){var t=Ne.getWindow().inmobi,n=t&&t.IASDocumentVideoBuffer,i=t&&n&&d.isFunction(n.addVideoEventListener);e=s()&&!!i}return e},c=function(){return-1!==e.mode.indexOf("jsvid")||(t=f.getAggregator(),n=t.request("omidVerificationClient"),r=!1,i=t.request("omidAdSessionContext"),n&&i&&(r=i.mediaType===l.MEDIA_TYPE.VIDEO),r)||u();var t,n,r,i},g=function(){return!1===e.fwMonitoring||"false"===e.fwMonitoring},p=function(){return e.mobOrTab},m=function(t){if(!1===d(e.customViewability).isArray())return!1;return d(e.customViewability).filter((function(e,n){return Le.contains(n.id,t)})).length>0},h=function(){return e.use100v},v=function(){return m("grpm")||h()},E=function(){return d.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("bing")};return{embedded:i,friendly:o,isFriendlyToParent:function(e){var t,n;if(r())t=!0;else{try{n=X(e.document.referrer).hostname===e.location.hostname}catch(e){}t=n}return t},friendlyIframe:i&&o,xDomainIframe:i&&!o,getTagTime:function(){return Ne.now()-e.birthdate},getPageTime:function(){var e=l.NA;return!r()&&d.isDef(t.chrome)&&d.isDef(t.chrome.csi)&&d.isFunction(t.chrome.csi)&&(e=Ne.round(t.chrome.csi().pageT)),e},isVideo:c,isMobileApp:a,isSpecifiedAd:function(){var t=!1;if(!r()){var n=d.isFunction(e.contextNode.getAttribute)&&e.contextNode.getAttribute("data-ias-container")||e._cl_adpath;t=n&&d.isStr(n)}return t},isCompoundAd:function(){var t=!1;if(!r()){var n=e._cl_adpath,i=/\[(.*)\]/.exec(n);t=null!==i&&0!==i[1].length&&i[1].split(",").length>1}return t},isOmid:function(){var t=f.getAggregator().request("omidVerificationClient");return t&&t.isSupported()&&!e.videoId},isOmidNative:function(){return(new Ut).accepts()},isOmidSandboxedEnvironment:function(){return(new Ut).accepts()},isOmidForWeb:function(){return(new Dt).accepts()},isDomless:r,isBustedIframe:function(){var e=!1;return r()||(e=void 0!==Tn()),e},isMraid:s,isSafeFrame:function(){var e=!1;return r()||(e=d(Ne.getWindow().$sf).isObj(!1)&&d(Ne.getWindow().$sf.ext).isObj(!1)),e},isInMobiMraidVideo:u,isDeviceTypeGroupMobile:p,usesIASFullyInViewCustomMetric:function(){return m("fiv")||h()||!v()},usesGroupMCustomMetric:v,isCeltra:function(){var e=!1;return r()||(e=On().isApplicable()),e},usesGroupMCustomMetricMobilePassThru:function(){return v()&&p()},usesZeroPivCustomMetric:function(){if(!1===d(e.customViewability).isArray())return!1;return d(e.customViewability).filter((function(e,t){return d(t.thresholds).findFirst((function(e,t){return 0===t.piv}))})).length>0},isRefreshable:function(e){try{var t=Ne.getTop();window.addEventListener("message",(function(t){/isRefreshable/g.test(t.data)&&e(null,t&&t.data)}),!1),t.postMessage(JSON.stringify({requestTop:"isRefreshable"}),"*")}catch(t){e(t)}},isPossiblyRefreshable:function(){return!r()&&!a()&&!c()&&i&&"jload"===e.mode},integratedBlockingApplies:function(t){var n,r,i,o,a=!1;e.contextNode&&d.isFunction(e.contextNode.getAttribute)&&(n=e.contextNode.getAttribute("data-ias-check-tag"),r=e.contextNode.getAttribute("data-ias-check-done"),o=(i=e.contextNode.getAttribute("data-ias-callback"))&&d.isFunction(Ne.getWindow()[i]));var s=d.isDef(JSON)&&d.isFunction(JSON.parse),u=e.integration&&(t.indexOf("skeleton.js")>0||t.indexOf("/internal/")>0),c=!0===e.fwMonitoring||"true"===e.fwMonitoring;return s&&u&&("true"===n&&"true"!==r&&o?(a=!0,c&&f.getAggregator().trigger("addOutputItem",{output:"imgb"},"smm",{type:"impression"})):(a=!1,c||f.getAggregator().trigger("addOutputItem",{output:"ibgm"},"smm",{type:"impression"}))),a},isBlocking:g,isBlockingSizmekTag:function(){return g()&&Le.contains(e.scriptUrl,"bs.serving-sys.com")},isAMZN:function(){return d.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("amazon")},isMSFT:E,isPageOnShadowDomWhitelist:function(){var t=!1;return E()&&(t=!0),d.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("integral.local")&&(t=!0),t},doesPageAllowAppendedScripts:function(){var e=!0;return E()&&(e=!1),e}}}(t),ce={addEvent:function(e,t,n,r){"use strict";d.isDef(e.addEventListener)&&("mouseenter"===t?e.addEventListener("mouseover",ce.mouseEnter(n),r):"mouseleave"===t?e.addEventListener("mouseout",ce.mouseEnter(n),r):e.addEventListener(t,n,r))},removeEvent:function(e,t,n){"use strict";d.isDef(e.removeEventListener)&&("mouseenter"===t?(t="mouseover",n=ce.mouseEnter):"mouseleave"===t&&(t="mouseout",n=ce.mouseEnter),e.removeEventListener(t,n))},mouseEnter:function(e){"use strict";var t=this;return function(n){var r=n.relatedTarget;this===r||t.isAChildOf(this,r)||e.call(this,n)}},isAChildOf:function(e,t){"use strict";if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e},getStyle:function(e,t,r){"use strict";var i,o="";return r=r||"",n.defaultView&&n.defaultView.getComputedStyle?o=(i=n.defaultView.getComputedStyle(e,r))?i.getPropertyValue(t):o:e.currentStyle&&(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),o=e.currentStyle[t]),o},getXHR2:function(e,n){"use strict";var r,i;return d.isDef(t.XMLHttpRequest)?"withCredentials"in(i=new XMLHttpRequest)&&(r=i):d.isDef(XDomainRequest)&&(r=new XDomainRequest),r},whenReady:function(e,t){"use strict";if(ue.isDomless())Ne.setTimeout((function(){e()}),50);else{var r,i,o=t||(ue.xDomainIframe?n:Ne.getTop().document),a=this;r=e,i=function(){r(!0)},d.isFunction(n.addEventListener)?"complete"==o.readyState||"loaded"==o.readyState||"interactive"==o.readyState?Ne.execAtEndOfThread(i):a.addEvent(o,"DOMContentLoaded",i,!1):function(e){var t=Ne.setInterval((function(){o.body&&(Ne.clearInterval(t),e())}),50)}(r)}},isSandboxed:function(e){"use strict";var t,n=Ne.getWindow(),r=!1;if("sandbox"in Ne.getDoc().createElement("iframe")){try{t=n.frameElement}catch(e){}r=t?t.hasAttribute("sandbox"):function(){var t=!1,n=Ne.getDoc();if(e.browserIs(l.BROWSERS.CHROME))try{n.domain="hol@#3+~"}catch(e){/Assignment is forbidden for sandboxed iframes/.test(e.message)&&(t=!0)}return t}()}return r},styleElement:function(e,t){"use strict";if(e&&d(e.style).isObj()&&d(t).isObj()){var n="";d(t).each((function(e,t){n+=e+": "+t+" !important;"})),e.style.cssText=n}},nodeIsAbsolutelyPositioned:function(e){"use strict";return"absolute"===ce.getStyle(e,"position")||e.style&&"absolute"===e.style.position}},de=function(e){"use strict";var t,n,r,i,o,a=de.callTypeCounter,s=[l.DT_CODES.ADTALK],u={UNLOAD:-1,ADTALK:-2,VIEWABILITY_READY:-3,VIDEO_EVENTS:-4,DIAGNOSTIC:-5,THIRD_PARTY:-6,QUARTILE_FULLY_INVIEW:-7,LARGE_BILLABLE:-8,SCA:-10};return i=(t={},n=l.DT_CODES,d(["UNLOAD","ADTALK","VIEWABILITY_READY","VIDEO_EVENTS","DIAGNOSTIC","THIRD_PARTY","QUARTILE_FULLY_INVIEW","LARGE_BILLABLE","SCA"]).each((function(e,r){t[n[r]]=u[r]})),t)[e],o=a&&a[e],d.isDef(o)&&0!==o&&d(s).contains(e)&&(i=i+"."+o),r=a[e],a[e]=d.isDef(r)?r+1:1,{callType:e,enumerator:i}};de.callTypeCounter={};var ge=function(t,n,r,i,o,a,s,u){"use strict";var c=0,g=0,p=!1,m=function(t,n,a,u,m,h){a=a||!r.on("postDts");var v=t===l.DT_CODES.DIAGNOSTIC||t===l.DT_CODES.ADTALK||t===l.DT_CODES.SCA||t===l.DT_CODES.XSCA||t===l.DT_CODES.EXTERNAL||t===l.DT_CODES.LARGE_BILLABLE;if(i.impressionIsIdentifiable()&&(v||"n"!==s.getCurrentLoc()))try{var A=e.dtBaseURL,S=new X(A,!0),T=Ne.now();f.getAggregator().trigger("preSendDt",t),A||(S.path("dt"),r.on("usedtdomain")&&S.sub("dt")),E(S,t,n),m&&m.field&&S.setParam(m.field,m.value),u||I(S,t),f.getAggregator().trigger("send",S,(function(){g+=1,c=Ne.now()-T,d.isFunction(h)&&h()}),a),t===l.DT_CODES.UNLOAD&&(p=!0),o.cleanup()}catch(e){__IntegralASDiagnosticCall("dt-"+t,e),f.getAggregator().trigger("error",l.ERROR_CODES.PHONE_HOME)}},h=function(){if(!p){var e=l.DT_CODES.UNLOAD;m(e,-1,!0)}},v=function(t,n){var i={bapi:"a",bapiClient:"b",jload:"c",jss:"d",jsi:"e"},o=e.mode,a=i[t]||i[o];n=n||o+"Diag",r.on(n)&&a&&m(l.DT_CODES.DIAGNOSTIC,-5,!0,!0,{field:"bkp",value:a})},E=function(t,n,r){var a=new de(n),s=d.isDef(r)?r:a.enumerator;t.setParam("asId",e.asid);var u={c:i.getCacheBustId(),pingTime:s,time:ue.getTagTime(),type:n};o.filterOutput((function(e){var t=e.minDt&&(!e.type||e.type===n);return t&&e.oneTime&&(e.flagForRemoval=!0),t}),u),t.setParam("tv",u)},I=function(t,i){var d,p,m={};o.filterOutput((function(e){return e.standalone&&!e.minDt&&e.type===i}),(function(e,n){t.setParam(e,n.replace(/%3A/g,":"))})),s.fastForward(),function(e){return e===l.DT_CODES.CUSTOM||e===l.DT_CODES.UNLOAD||e===l.DT_CODES.VIDEO_EVENTS||e===l.DT_CODES.FULLY_INVIEW||e===l.DT_CODES.PING||e===l.DT_CODES.VIEWABILITY_READY||e===l.DT_CODES.ADTALK}(i)&&(m.clog=u,ue.isVideo()&&(p=ue.isOmid()?"omidVideoEventsString":"videoEventsString",(d=f.getAggregator().request(p))&&!d.isEmpty()&&(m.ve=d))),i===l.DT_CODES.UNLOAD&&(m.ndt=g),-1!==e.mode.indexOf("jsvid")&&(m.vv=f.getAggregator().request("videoVersion")),m.NULL1=r.output(),m.NULL2=s.stringify(10),m.em=ue.embedded,m.fr=ue.friendly,m.e=n.toString(),m.tt=e.mode,m.dtt=c,o.filterOutput((function(e){var t=!(e.standalone||e.minDt||e.type&&e.type!==i);return t&&e.oneTime&&(e.flagForRemoval=!0),t}),m),t.setParam("tv",m),t.setParam("br",a.getBrowserType())};return f.getAggregator().on({sendDt:function(e,t,n){var r;m(e,d.resolve(t),r,r,r,n)},sendMinDt:function(e,t){m(e,t,void 0,!0)},sendDiag:v,updateDtCount:function(){g++},unload:h}),{send:m,unload:h,diagnostic:v,setViewabilityMod:function(e){e}}},fe=function(e){"use strict";var n,r={},i=!1,o=function(e){return 1===e.nodeType},a=function(){var t=o(e)?le.nodeIsHidden(e):0===e.width||0===e.height;return!i&&t},s=function(){var e={};return d(r).each((function(t,n){e[t]=Ne.round(n)})),e},u=function(e){return d.isNumeric(e)||d.isUndef(e)},c=function(){return Ne.round(r.width)*Ne.round(r.height)};return e!==t.parent&&(o(e)?d.isDef(e.getBoundingClientRect)&&(n=le.getRect(e),d(r).mixin({x:d.useIfDef(n.x)||n.scrX,y:d.useIfDef(n.y)||n.scrY,scrX:n.scrX,scrY:n.scrY,width:n.width,height:n.height})):r=e),{hasValidDims:function(){return u(r.scrX)&&u(r.scrY)&&d.isNumeric(r.width)&&d.isNumeric(r.height)},toString:function(){var e=s();return[e.scrX,e.scrY,e.width,e.height].join(".")},getRounded:s,getRoundedGeometry:function(){var e={};return d(r).each((function(t,n){e[t]="x"===t||"y"===t||"width"===t||"height"===t?Ne.round(n):n})),e},set:function(e,t){r[e]=t},isHidden:a,treatAsPlaceholder:function(){i=!0},area:c,isMrcLarge:function(){return c()>=l.MRC_LARGE_AD_SIZE},isOneByOne:function(){return a()&&c()<=1}}},le={findElementsWithSize:function(e){"use strict";var t=[],n=function(e){le.getNodeArea(e)<1?d(e.children).each((function(e,t){n(t)})):t.push(e)};return n(e),t},nodeIsHidden:function(e){"use strict";var t=this.getRect(e),n=0!==parseInt(ce.getStyle(e,"width"))&&0===t.width,r=0===t.width||0===t.height,i="hidden"===ce.getStyle(e,"visibility");return n||r||i},calcWinDims:function(){"use strict";var e,t,n;try{t=le.browserWindowPosition(),n=le.windowSize(),e={scrX:Ne.round(t.scrX),scrY:Ne.round(t.scrY),width:Ne.round(n.width),height:Ne.round(n.height)}}catch(t){f.getAggregator().trigger("error",l.ERROR_CODES.GET_WIN_DIMENSIONS),e={}}return e},windowSize:function(){"use strict";var e,n,r,i={};if(ue.isDomless())return{width:0,height:0};if(ue.friendly)if(n=(e=top.document).documentElement,r=e.body,d.isDef(top.innerWidth))i.width=top.innerWidth,i.height=top.innerHeight;else if(d.isDef(n.clientWidth))i.width=n.clientWidth,i.height=n.clientHeight;else{if(!d.isDef(r.clientWidth))throw i.width=i.height=0,"";i.width=r.clientWidth,i.height=r.clientHeight}else d.isDef(t.outerWidth)&&(i.width=t.outerWidth,i.height=t.outerHeight);return i},browserWindowPosition:function(){"use strict";var e=0,n=0;e=t.screenX,n=t.screenY;return f.getAggregator().request("browser").browserIs(l.BROWSERS.GECKO)&&-8==e&&-8==n&&(e+=8,n+=8),{scrX:e,scrY:n}},getNodeArea:function(e){"use strict";var t=-1;if(e){var n=le.getRect(e);t=n.width*n.height}return t},getRect:function(e){"use strict";var t={},n=le.browserWindowPosition(),r=e.getBoundingClientRect();return d.isUndef(r.x)&&(t.x=r.left,t.y=r.top),d.isUndef(r.width)&&(t.width=r.right-r.left,t.height=r.bottom-r.top),d(t).mixin(r,!0),t.scrX=n.scrX+t.x,t.scrY=n.scrY+t.y,t},getPlaceholderSpan:function(){"use strict";var e=n.createElement("span");return d(e.style).mixin({width:"0px",height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"}),e.innerHTML=".",e},createImage:function(){"use strict";var e=ue.friendly&&Ne.getTop().Image;return d.isFunction(e)?new e:new Image},createHiddenIframe:function(e){"use strict";var t=Ne.getDoc().createElement("iframe"),n=e?{display:"none"}:{width:"0px",height:"0px",border:"0",position:"absolute",top:"-10000px",left:"-10000px"};return ce.styleElement(t,n),t},tagNameIs:function(e,t){"use strict";return e.tagName.toUpperCase()===t.toUpperCase()},getClippedDimensions:function(e,t){"use strict";var r,i,o,a,s,u=1e4,c=1e4,d=ce.nodeIsAbsolutelyPositioned(e);if(s=!le.tagNameIs(e,"OBJECT"),null!==e.parentNode&&!d&&s&&!le.tagNameIs(t,"BODY")){a=e;do{a=a.parentNode,i=!le.tagNameIs(a,"OBJECT"),o="inline"!==ce.getStyle(a,"display"),i&&o&&(u=(r=le.getRect(a)).width<u?r.width:u,c=r.height<c?r.height:c)}while(a.parentNode!==n&&a!==t)}return{width:Ne.round(u),height:Ne.round(c)}},hasBackgroundImage:function(e){var t=ce.getStyle(e,"background-image");return""!==t&&"none"!==t},isEmptyFriendlyFrame:function(e){try{var t,n=!1;if(e&&e.document){var r=e&&"IFRAME"===e.nodeName&&e.contentDocument;r&&((t=r.body)&&t.childElementCount<1)&&(n=!0)}return n}catch(e){return!1}},findChildWithLargestContent:function(e,t){var n=f.getAggregator().request("mobileApp").isMobileAppEnvironment(),r=f.getAggregator().request("omidAdSessionContext"),i=r&&r.hasOwnProperty("ignoreDivAsCandidate"),o=this.hasBackgroundImage,a=null,s=function(e){var n,r,i,o,a=[],s=t||"iframe,img,a,object,embed,div".split(",");for(n=0,r=s.length;n<r;n++){var u=s[n].toLowerCase(),c=e.getElementsByTagName&&e.getElementsByTagName(u);if(c&&c.length)for(i=0,o=c.length;i<o;i++)a.push(c[i])}return a}(e),u=function(t){var n,r,a,s=null,u=-1;if(t.length)for(n=0,r=t.length;n<r;n++){var c=t[n],d=le.getNodeArea(c),g=!((a=c).parentNode===e&&"DIV"===a.nodeName&&!o(a)&&("0"===ce.getStyle(a,"opacity")||"hidden"===ce.getStyle(a,"visibility")||function(){var e,t,n=a.childNodes;for(e=0;e<n.length;e++)1===n[e].nodeType&&(t=!0);return!t}()));g&&i&&"DIV"===c.nodeName&&(g=!1);var f=le.isEmptyFriendlyFrame(c);d>u&&g&&!f&&(s=c,u=d)}return s&&(s.hasValidSizeForMobileApp=u>1),s}(s);return u&&((a=function(t){for(var r,o,a=t;t.parentNode!==e&&"inline"!==ce.getStyle(t.parentNode,"display");)(!n||(r=t.parentNode,o=void 0,o=!0,("visible"===ce.getStyle(r,"overflow")||"visible"===ce.getStyle(r,"overflowX")&&"visible"===ce.getStyle(r,"overflowY"))&&(o=!1),o&&le.getNodeArea(t.parentNode)>0))&&(n&&i&&"DIV"===t.parentNode.nodeName||(a=t.parentNode)),t=t.parentNode;return a}(u)).hasValidSizeForMobileApp=u.hasValidSizeForMobileApp),a},screenSize:function(){"use strict";if(ue.isDomless())return{width:0,height:0};var e={width:-1,height:-1};try{d.isDef(t.screen)&&(e={width:t.screen.width,height:t.screen.height})}catch(e){}return e},calcMonDims:function(){"use strict";var e=d(le.screenSize()).mixin({scrX:0,scrY:0});return d.isDef(screen.availLeft)&&(e={scrX:t.screen.availLeft,scrY:t.screen.availTop,width:t.screen.availWidth,height:t.screen.availHeight}),e},getOurIFrameInTop:function(){"use strict";for(var e,t=Ne.getTop(),n=Ne.getWindow();n!=t;)n=(e=n).parent;return e},getOurNodeInTop:function(){"use strict";var t,n;return ue.friendly&&(t=ue.embedded?(n=le.getOurIFrameInTop())&&n.frameElement:e.contextNode),t},getAncestorNodes:function(e){"use strict";var t=[],n=e.ownerDocument&&e.ownerDocument.documentElement,r=e;if(n)for(;r.parentNode!==n;)t.push(r),r=r.parentNode;return t},getTagsNamed:function(e,t){"use strict";var n,r=t||Ne.getDoc();try{n=r.getElementsByTagName(e)}catch(e){n=null}return n},containsScriptTagWithSrc:function(e){"use strict";return!!d(le.getTagsNamed("script")).findFirst((function(t,n){var r=n.src;return d.isFunction(e)?e(r):r===e}))},contains:function(e,t){"use strict";var n=!1;try{n=d.isDef(e)&&d.isFunction(e.contains)&&e.contains(t)}catch(e){}return n},querySelector:function(e,t){"use strict";var n;try{n=e.querySelector(t)}catch(e){n=null}return n},nodeIsInWindow:function(e,t){"use strict";return e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow)===t},setAttributeOf:function(e,t,n){"use strict";e&&d.isFunction(e.setAttribute)&&e.setAttribute(t,n)},removeAttributeOf:function(e,t){"use strict";e&&d.isFunction(e.removeAttribute)&&e.removeAttribute(t)},crossQuerySelector:function(t,n){"use strict";var r,i,o=[e.contextNode.parentNode,Ne.getDoc()];if(ue.friendly&&o.push(Ne.getTop().document),n&&ue.embedded)try{o.push(Ne.getWindow().frameElement.ownerDocument)}catch(e){}return d(o).each((function(e,n){try{i=le.querySelector(n,t)}catch(e){}!r&&i&&(r=i)})),r},getNodeName:function(e){"use strict";return e&&e.nodeName},isWindow:function(e){"use strict";var t=!1;try{t=e&&"object"==typeof e&&"setInterval"in e}catch(e){t=!0}return!!t},getChildWindowsOf:function(e){"use strict";var t=[],n=le.getTagsNamed("iframe",e);return n&&(t=d(n).map((function(e,t){return t.contentWindow}))),t},getFrameId:function(){"use strict";var e=Ne.getWindow().frameElement;return e&&e.id},isViewportVisible:function(e,t){"use strict";var n=e.innerWidth,r=e.innerHeight,i=n*r>t.width*t.height,o=n>t.width&&r>t.height;return i&&o},getTagName:function(e){"use strict";return e.tagName.toLowerCase()},getAttribute:function(e,t){"use strict";return e.getAttribute(t)},attributeMatches:function(e,t,n){"use strict";var r=e&&le.getAttribute(e,t);return n.test(r)},isImageTag:function(e){"use strict";return e&&e.src&&le.tagNameIs(e,"img")},getDimensionFromStyle:function(e){"use strict";var t,n=ce.getStyle(e,"width"),r=ce.getStyle(e,"height");return n&&r&&(t={width:d.getNum(n),height:d.getNum(r)}),t},getDimensionFromAttributes:function(e){"use strict";var t,n=le.getAttribute(e,"width"),r=le.getAttribute(e,"height");return n&&r&&(t={width:d.getNum(n),height:d.getNum(r)}),t},traverseAndFindFirstMatchingNode:function e(t,n){"use strict";var r,i,o;if(n(t))i=t;else if(o=t.children)for(r=0;r<o.length&&!(i=e(o[r],n));r++);return i},getFirstChildElement:function(e){"use strict";return e&&e.children&&e.children[0]},isClippable:function(e,t){"use strict";var n=!0,r="fixed"===ce.getStyle(e,"position"),i=!("hidden"===ce.getStyle(t,"overflow"))&&!r;return ue.isSpecifiedAd()&&(r||i)&&(n=!1),n},isNodeCreative:function(e){"use strict";var t=le.getNodeName(e),n=e&&e.children&&0===e.children.length,r=e&&e.innerText&&e.innerText.length>0,i=n&&r,o=t&&-1!==l.RENDER.CREATIVE_NODE_TYPES.indexOf(t.toUpperCase());return!!t&&!!(o||le.hasBackgroundImage(e)||i)},getElementsDocument:function(e){"use strict";return e.ownerDocument||e},getElementsWindow:function(e){"use strict";var t=le.getElementsDocument(e);return t.defaultView||t.parentWindow||e},elementIsEmbedded:function(e){"use strict";return le.getElementsWindow(e)!==Ne.getTop()},getParent:function(e){"use strict";return e.parentNode||e.parent},isNodeXDomainIframe:function(e){"use strict";var t=!1;if(e&&"IFRAME"===le.getNodeName(e))try{t=!e.contentWindow.document}catch(e){t=!0}return t},isElement:function(e){"use strict";return 1===e.nodeType}},pe=function(){"use strict";var e={},t=function(t){d.isDef(e[t])?e[t]++:e[t]=1};return f.getAggregator().on("error",(function(e){var n=d(e).isObj()?e.errorCode:e;t(n)})),{list:e,add:t,toString:function(){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n);return t},hasErrors:function(){for(var t in e)return!0;return!1}}},me=function(){"use strict";return{createInstance:function(e,t){return ue.isDomless()?new ve:new he(e,t)}}},he=function(t,n){"use strict";var r=function(t){var n=[];if(!(t&&t instanceof Array))throw new Error("Unexpected data type in ExchangeParser.getUrlList");return(n=d(t).map((function(e,t){return t.val}))).push(e.adsafeSrc,e.requrl,e.reqquery),n};return{parse:function(i){try{var o,a=r(i),s=a&&a.length&&a.join("|"),u=e.exchList;s&&(o=d(u).map((function(e,t){return s.indexOf(Le.rot(t))>=0?e:void 0}))).length&&n.addItem({output:o.join(".")},"ex",{type:l.IMPRESSION_EVENT})}catch(e){t.add(l.ERROR_CODES.EXCHANGE_PARSING)}}}},ve=function(){"use strict";return{parse:function(e){}}},Ee=function(){"use strict";var t={},n=function(n){var r,i,o,a;return d.isUndef(t[n])&&(r=e.jsFeatures,t[n]=!1,-1!==r.indexOf(n)&&(i=new RegExp(n+"(?=$|,)|"+n+":(?!,|$)(.?\\d*(?=,|$))").exec(r))&&(a=!(o=i[1]),t[n]=a||o>100*Ne.random())),t[n]},r={es:"everySecond",sc:"usesca",ha:"usehaps",fgad:"forceKeepGoogleAdNode"},i={fif:"useFIF",gmnp:"groupm_native_publisher",for:"forceAppend",b11:"b11",cnod:"cnod"},o=function(t){var n=e[t];return d(["integration"]).contains(t)?!!n:!0===n||"true"===n||d.isFunction(n)};d(r).each((function(e,t){n(t)}));return{on:n,bootstrapOn:o,bootstrapperHas:function(t){var n=d.isStr(t)?[t]:t;return d(n).map((function(t,n){if(d.isDef(e[n]))return 1})).length===n.length},getEnabledScriptUrl:function(t){var r=n("use"+t),i=e.sp_cdnScripts&&e.sp_cdnScripts[t];return r&&i},setReportedBootstrapFeatures:function(e,t){i[e]=t},reportedBootstrapFeatures:i,output:function(){return d((e=d(r).mapToObj((function(e,n){var r={};return r[e]=d.fromBoolToNum(t[n]),r})),(n=d(i).mapToObj((function(e,t){var n={};return n[e]=d.fromBoolToNum(o(t)),n}))).gm=d.fromBoolToNum(ue.usesGroupMCustomMetric()),d(e).mixin(n))).toParams();var e,n}}},Ie=function(){"use strict";l.BROWSERS;var e=function(e,t){var n=e.getRounded(),r=t.getRounded(),i=Math.max(n.scrX,r.scrX),o=Math.max(n.scrY,r.scrY),a=Math.min(n.scrX+n.width,r.scrX+r.width)-i,s=Math.min(n.scrY+n.height,r.scrY+r.height)-o;return fe({scrX:i,scrY:o,width:a>0?a:0,height:s>0?s:0})};return{calcInitialViewState:function(e,t){var n,r=l.NA;return n=t?{IN_VIEW:65,OUT_OF_VIEW:25,PARTIAL_VIEW:30}:{IN_VIEW:75,OUT_OF_VIEW:25,PARTIAL_VIEW:50},d.isDef(e)&&e!==l.NA&&e>-1&&(r=e>=n.IN_VIEW?l.IN_VIEW:e<=n.OUT_OF_VIEW?l.OUT_OF_VIEW:e>=n.PARTIAL_VIEW?l.PARTIAL_VIEW_PLUS:l.PARTIAL_VIEW_MINUS),r},calcPercentInView:function(t,n,r,i){var o=0,a=t;return t.hasValidDims()&&!t.isHidden()&&(d([n,r,i]).each((function(t,n){n.hasValidDims()&&(a=e(a,n))})),o=Ne.round(a.area()/t.area()*100)),o}}},Ae=function(){"use strict";var n,r,i,o=!1;r=function(){var e="";try{for(var n,r=t.Uint32Array&&t.crypto&&t.crypto.getRandomValues;e.length<32;)r?(n=new Uint32Array(1),t.crypto.getRandomValues(n),e+=n[0].toString(16)):e+=(16*Ne.random()|0).toString(16);e=e.slice(0,32)}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.UID_GENERATION)}return e}(),(i=[]).push(r.slice(0,8)),i.push(r.slice(8,12)),i.push(r.slice(12,16)),i.push(r.slice(16,20)),i.push(r.slice(20)),n=i.join("-");var a=function(){return e.anId};return{getAsid:function(){return e.asid},getAnId:a,getCacheBustId:function(){var e=new Date,t=Date.parse("Jan 1 "+e.getFullYear()),n=e.getTime()-t;return d.toBase(n,62)},getFwId:function(){return a()||e.advEntityId+"-"+e.pubEntityId},impressionIsIdentifiable:function(e){return e&&(o=!0),o},unq:n}},Se=function(e,t){"use strict";return{init:function(n){e.jsonp(n,(function(e){t.send(l.DT_CODES.THIRD_PARTY,void 0,!1,!0,{field:"tpiLookup",value:e})}),!1,"callback")}}},Te=function(e,t,n,r,i){"use strict";return{getTime:function(){return 1e3*e.getTimeInViewInSeconds()},getTask:function(){return i?function(){var n=f.getAggregator().request("adRenderStatus"),i=r||t,o=e.getTimeInViewInSeconds();n||f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.ENVIRONMENT,"nr_"+i,o)}:function(){var i=e.getTimeInViewInSeconds(),o=e.getTimeInViewForRts();d.isDef(r)&&(f.getAggregator().trigger("addOutputItem",{output:r},"metricId",{type:t}),f.getAggregator().trigger("addOutputItem",{output:"t"},"cmr",{type:t})),f.getAggregator().trigger("sendDt",t,i),n[o]&&n[o]()}}}},De=function(){"use strict";return{createPingJobs:function(e,t,n,r,i){return d(t.getTimeThresholds()).map((function(t,o){return new Te(o,e,n,r,i)}))}}},Oe=function(){var t,n=[],r=function(t){var n="type",r="t",i="timestamp";return{type:t["tp"]||t[n]||"",time:t[r]||t[i]&&t[i]-e.birthdate||""}},i=function(){t||(t=f.getAggregator().request("viewabilityDefinitions")),t&&0==n.length&&d(t).each((function(e,t){t.qivThreshold&&n.push(t)}))},o=function(e,t){f.getAggregator().trigger("addOutputItem",{output:e.metricId},"metricId",{type:l.DT_CODES.CUSTOM}),f.getAggregator().trigger("addOutputItem",{output:"q"},"cmr",{type:l.DT_CODES.CUSTOM}),f.getAggregator().trigger("sendDt",l.DT_CODES.CUSTOM,t),e.rtsCallbacks&&d.isFunction(e.rtsCallbacks[l.RTS_KEY_FOR_VQ])&&e.rtsCallbacks[l.RTS_KEY_FOR_VQ]()};return{init:function(){i(),f.getAggregator().on("videoQuartileEvent",(function(e){var t,a,s,u,c;i(),t=new r(e),s=(a=["_","firstQuartile","midpoint","thirdQuartile","complete"]).indexOf(d(a).findFirst((function(e,n){return-1!==t.type.toLowerCase().indexOf(n.toLowerCase())}))),u=f.getAggregator().request("mScreenEvents").getCurrentEvent(),c=Math.floor(t.time/1e3),d(n).each((function(e,t){var n=t.qivThreshold.indexOf(s);-1!==n&&t.isInView(u)&&t.qivThreshold.length>0&&(t.qivThreshold.splice(n,1),0==t.qivThreshold.length&&o(t,c))}))}))}}},ye=function(){"use strict";var n=function(){var t=e.asid;return"__IntegralAS_"+(t&&t.replace(/\-/g,"")||"")+"_"+Ne.round(1e4*Math.random())};return{wrap:function(e,r,i,o){var a,s,u,c=n();return function(e,t){return new RegExp(t).test(e)}(e=""+e,o=o||"ias_callback")&&(a=function(e,t){return new RegExp("("+t+"=)(.[^&]*)").exec(e)[0]}(e,o),s=a.split("=")[1],u=Le.stringToFn(s),e=function(e,t){return-1!==e.indexOf(t+"&")&&(t+="&"),e.replace(t,"")}(e,a)),t[c]=function(e){r(e),i&&u&&u(e),t[c]=void 0},e=function(e,t,n){var r=e.indexOf("?"),i=t+"="+n;return-1===r?e+"?"+i:(r++,e.slice(0,r)+i+"&"+e.slice(r))}(e,o,c),e},wrapToGlobal:function(e){var r=n();return t[r]=function(n){e(n),t[r]=void 0},r}}},we=function(t,n,r){"use strict";var i=function(t,n){var r,i=t;return n&&(r=","+d(n).stringify((function(e,t){return e+":"+t}),","),(i=X(t,!0)).appendToParamValue("adsafe_jsinfo",d.encodeInvalidUrlChars(r,e.encodeInvalidUrlChars)),i=i.toString()),i},o={jss:{isFW:!0,nodeType:ue.doesPageAllowAppendedScripts()?"script":"img"},rjss:{isFW:!0,onloadCallback:Or,nodeType:ue.doesPageAllowAppendedScripts()?"script":"img"},jsi:{isFW:!0,nodeType:"iframe"},rjsi:{isFW:!0,nodeType:"iframe"},jload:{impressionMethod:function(e){t.enabled?f.getAggregator().trigger("jsonp",e,t.callback,!0):f.getAggregator().trigger("send",e,(function(){Or(),f.getAggregator().trigger("sendDiag")}),!n.on("postMon"))}},bapi:{impressionMethod:function(e){var n=t.enabled?t.callback:d.noop,r=!!t.enabled;f.getAggregator().trigger("jsonp",e,n,r)}},jsapi:{isFW:!0,impressionMethod:function(e){var n=t.enabled?t.callback:d.noop,r=!!t.enabled;f.getAggregator().trigger("jsonp",e,n,r)}},jsvid:{manualDefer:!0,impressionMethod:function(r){f.getAggregator().on("adImpression",(function(o,a){var s;try{s=i(r,a),t.enabled?f.getAggregator().trigger("jsonp",s,t.callback,!0):f.getAggregator().trigger("send",s,d.noop,!n.on("postMon"))}catch(t){__IntegralASDiagnosticCall("jsvidimp",t,e)}}))}},fwjsvid:{isFW:!0,manualDefer:!0,impressionMethod:function(t){var n="false"===e.fwMonitoring;n&&f.getAggregator().trigger("jsonp",function(e){var t;return(t=e.split("/"))[3]="db2",t[4]="video",t.join("/")}(t),(function(e){f.getAggregator().trigger("videoBlockResult",e)})),f.getAggregator().on("adImpression",(function(r,o){var a,s;try{n&&((s=r)&&d.isBool(s.integral_didBlock)&&s.integral_timeToDecision>=0)&&(t=function(e){var n="$1$2,abc:"+(e.integral_didBlock?1:0)+",abct:"+e.integral_timeToDecision;return t.replace(/(adsafe_jsinfo=)([^&]*)/,n)}(r)),a=i(t,o),f.getAggregator().trigger("send",a,d.noop,!0)}catch(t){__IntegralASDiagnosticCall("fwjsvidimp",t,e)}}))}},jspix:{nodeType:"img"}};return new function(){var t=o[e.mode],n=!!t.isFW,i=function(t){var n;return n=f.getAggregator().request("mobileApp").isMobileAppEnvironment()&&e.mobFwUrl?e.mobFwUrl:t?e.adsafeSrc:e.requrl,t||(n+="?"+e.reqquery),n}(n),a=i.indexOf("BEGIN__ADSAFE"),s=-1!==a,u=s?i.slice(a):"";return{isFW:n,baseUrl:s?i.slice(0,a):function(e){var t=-1===e.indexOf("?")?"?":"&";return e+t}(i),macroUrl:u,sendImpression:function(e){var n=function(){t.nodeType?f.getAggregator().trigger("addNode",t.nodeType,e,t.onloadCallback):t.impressionMethod(e)};r||t.manualDefer?n():t.manualDefer||f.getAggregator().on("adImpression",(function(){n()}))}}}},Ne={execAtEndOfThread:function(e){"use strict";Ne.setTimeout(e,0)},now:function(){"use strict";return(new Date).getTime()},random:function(){"use strict";return Math.random()},round:function(e){"use strict";return Math.round(e)},ceil:function(e){"use strict";return Math.ceil(e)},floor:function(e){"use strict";return Math.floor(e)},min:function(){"use strict";return Math.min.apply(null,arguments)},max:function(){"use strict";return Math.max.apply(null,arguments)},getWindow:function(){"use strict";return t},getTimeoutScope:function(){"use strict";return ue.isDomless()&&ue.isOmid()?f.getAggregator().request("omidVerificationClient"):t},setInterval:function(e,t){"use strict";return Ne.getTimeoutScope().setInterval(e,t)},setTimeout:function(e,t){"use strict";return Ne.getTimeoutScope().setTimeout(e,t)},clearInterval:function(e){"use strict";Ne.getTimeoutScope().clearInterval(e)},clearTimeout:function(e){"use strict";Ne.getTimeoutScope().clearTimeout(e)},getMaxNumber:function(){"use strict";return Number.MAX_VALUE},getTop:function(){"use strict";return ue.isDomless(),top},getDoc:function(){"use strict";return ue.isDomless(),n},getIntersectionObserver:function(e,t){"use strict";return ue.isDomless(),new IntersectionObserver(e,t)},getMutationObserver:function(e){"use strict";return ue.isDomless(),new MutationObserver(e)},getResizeObserver:function(e){"use strict";return ue.isDomless(),new ResizeObserver(e)},pow:function(e,t){"use strict";return Math.pow(e,t)}},_e=function(){"use strict";return{createInstance:function(){return ue.isDomless()?new be:new Re}}},Re=function(){"use strict";var e,t,n,r,i=!1,o=!1,a=(f.getAggregator().request("features"),new L),s=function(){return d.isDef(e.prop)?Ne.getDoc()[e.prop]:null};return t="hidden",n="visibilitychange",r=Ne.getDoc(),d.isUndef(r.hidden)?d(["moz","ms","webkit"]).each((function(e,o){var a=o+"Hidden";d.isDef(r[a])&&(t=a,n=o+n,i=!0)})):i=!0,e=i?{prop:t,event:n}:{},{isHidden:s,onHiddenChange:function(t){var n,r;a.push(t),o||(o=!0,n=Ne.getWindow(),r=function(){a.run(s())},ce.addEvent(n,"focus",r,!0),ce.addEvent(n,"blur",r,!0),e.event&&ce.addEvent(Ne.getDoc(),e.event,r,!0))},supportsVisAPI:function(){return i}}},be=function(){"use strict";return{isHidden:function(){return!1},onHiddenChange:function(e){},supportsVisAPI:function(){return!0}}},Ce=function(){"use strict";return{createInstance:function(e,t){return ue.isDomless()?new Ve:new Me(e,t)}}},Me=function(n,r){"use strict";var i,o=function(e,t){var n=[["ab","about%3A"],["da","data%3A"],["js","javascript%3A"],["fi","file%3A"],["uu","uuid-in-package"],["cx","chrome-extension%3A"],["sx","safari-web-extension%3A"],["lo","http%3A%2F%2Flocalhost"],["lo","https%3A%2F%2Flocalhost"],["sc","s%3A%2F%2F"]];if("string"==typeof e&&"null"!==e&&""!==e&&"undefined"!==e){for(var r=0;r<n.length;r++)if(0===e.indexOf(n[r][1]))return f.getAggregator().trigger("addOutputItem",{output:n[r][0]},"baur",{type:"impression"}),"";if(-1===e.indexOf("."))return f.getAggregator().trigger("addOutputItem",{output:e.substring(0,40)},"bunp",{type:"impression"}),""}return e},a=function(){var a={};try{a.a=encodeURIComponent(top.location.href)}catch(e){}try{a.b=encodeURIComponent(parent.location.href)}catch(e){}if(ue.embedded){try{a.c=encodeURIComponent(parent.document.referrer)}catch(e){}try{a.e=encodeURIComponent(t.document.referrer)}catch(e){}}try{"jsi"!==e.mode&&(a.d=encodeURIComponent(t.location.href))}catch(e){}try{a.f=encodeURIComponent(e.jsref)}catch(e){}try{var s=r.getWindow();a.q=encodeURIComponent(s.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href||"")}catch(e){}try{n.isStarted()&&n.getMyFrameDepth()>1&&(a.g=encodeURIComponent(n.getTopDomain()))}catch(e){}var u="not-set";try{if(ue.isSafeFrame()){var c=r.getWindow(),g=c&&c.$sf&&c.$sf.ext&&c.$sf.ext.hostURL,l="function"==typeof g&&g();if("string"==typeof l){u=encodeURIComponent(l);var p=!1;"function"==typeof URL?(new URL(l),p=!0):0===l.indexOf("http")&&(p=!0),p?(a.x=u,f.getAggregator().trigger("addOutputItem",{output:u},"sfhu",{type:"impression"})):f.getAggregator().trigger("addOutputItem",{output:u},"sfiv",{type:"impression"})}}}catch(e){f.getAggregator().trigger("addOutputItem",{output:u},"sfiv",{type:"impression"})}a=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=o(e[t]);(""===n||"null"===n||"undefined"===n||null===n||d.isUndef(n))&&delete e[t]}return e}(a),a=function(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=e[n],d.isUndef(r[t])?r[t]=n:r[t]+=n);var i={};for(n in r)r.hasOwnProperty(n)&&(i[t=r[n]]=n);return i}(a);var m=[];for(var h in a)a.hasOwnProperty(h)&&m.push({key:h,val:a[h]});return m.sort((function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0})),i=m,m};return{detectTopURL:a,getDetectedURLs:function(){return i||a()}}},Ve=function(){"use strict";return{detectTopURL:function(){return[]},getDetectedURLs:function(){return[]}}},Fe=function(t){"use strict";var n=!1;return{measure:function(r){(n=0===r.rsa)&&t.trigger("notify",e._onSuspicious)},skipAsFraudulent:function(){return n}}},Pe=function(){"use strict";var e,t,n,r=[],i={},o={sl:"n"},a=0,s={i:0,o:0,n:0,pp:0,pm:0},u=function(e){var t=f.getAggregator().request("features");if(t&&t.on("recoverOmidLostTime")){var n=s.ri;s.ri=n?n+e:e}},c=function(e,t){var n=new q(t);return i[e]=n,n},g=function(e,t){return(t=t||"")+{inView:"i",outOfView:"o",na:"n",partialViewMinus:"pm",partialViewPlus:"pp"}[e]},p=function(){d(o).each((function(e,t){var i=r.length?n-a:n;s[t]+=i})),a=n},m=function(e){r.length&&p(),d(e).each((function(e,t){var n,r;n=t,(r=o[e])!==n&&"n"===r&&(s[n]+=s.n),o[e]=t})),r.length||p()},h=function(e){l.NA;var r,o=e.adDimensions?e.adDimensions.getRounded():{width:0,height:0},a=function(e){var t,n={},r=e.winDimensions,i=e.adDimensions;return d.isDef(r)&&r.hasValidDims()&&(n.wc=r),d.isDef(i)&&i.hasValidDims()&&(n.ac=i,n.am=e.method,n.cc=e.containerDimensions),d({piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason"}).each((function(t,r){var i=e[r];d.isDef(i)&&(n[t]=i)})),""===(t=d(n).toParams())?"":","+t}(e),s=e.omidObstructions,u={sl:g(e.viewState)};return n=ue.getTagTime(),m(u),u.t=n,r=d({toString:function(){return d(i).each((function(e,t){t.fastForward()})),"{"+d(u).toParams()+this.details+this.breakdowns+"}"},details:a,breakdowns:{piv:[],as:[],toString:function(){var e="",t=function(e,t){return t.duration+"~"+t.state};return e+="piv:["+d(this.piv).stringify(t)+"]",",bkn:{"+(e+=",as:["+d(this.as).stringify(t)+"]")+"}"}}}).mixin(u),d(r).mixin(e),r.width=o.width,r.height=o.height,d.isUndef(r.percentInView)&&(r.percentInView=l.PIV_NA),d.isUndef(r.reason)&&(r.reason=""),d.isDef(s)&&""!==s&&(r.omidObstructions=s),t=r,r};return function(){c("piv",(function(e){var t,n=e.percentInView,r=[1,25,30,50,75];return 100===n||0===n?t=n:(d(r).each((function(e,i){d.isUndef(t)&&n<i&&(t=r[e-1])})),d.isUndef(t)&&(t=r[r.length-1])),t})),c("as",(function(e){var t=l.NA,n=e.adDimensions?e.adDimensions.getRounded():{width:t,height:t};return n.width+"."+n.height}));var e=f.getAggregator().request("omidAdSessionContext");e&&e.recoveredTime>-1&&u(e.recoveredTime)}(),{fastForward:function(){n=ue.getTagTime(),p()},registerLocation:function(t){var n,a=!1;return o.sl==g(t.viewState)&&r.length?(n=new h(t),r[r.length-1].details=n.details):(n=new h(t),r.push(n),e=t.viewState,a=!0),f.getAggregator().trigger("newScreenEvent",n),d(i).each((function(e,t){-1!=="piv|as".indexOf(e)?(a&&t.clear(),t.addState(n),r[r.length-1].breakdowns[e]=t.get()):t.addState(n)})),n},stringify:function(e){var t="";return r.length&&(t=d({slTimes:"{"+d(s).toParams()+"}",slEvents:"["+r.slice(-e).join(",")+"]",slEventCount:r.length}).toParams()),t},createViewabilityTracker:c,getCurrentLoc:function(){return g(e)},getCurrentEvent:function(){return t},setRecoveredTimeInSlTimes:u}},Le={hashCode:function(e){"use strict";var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},rot:function(e){"use strict";return e.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}))},stringToFn:function(e){"use strict";var n,r,i=t,o=e.split(".");for(n=0;n<o.length;n++)if(r=i,i=i[o[n]],d.isUndef(i)||n===o.length-1&&!d.isFunction(i))return!1;return function(){i.apply(r,arguments)}},stringToProp:function(e){"use strict";var t,n=Ne.getWindow(),r=e.split(".");for(t=0;t<r.length&&(n,n=n[r[t]],!d.isUndef(n));t++);return n},contains:function(e,t){"use strict";return!!d.isStr(e)&&-1!==e.indexOf(t)},trim:function(e){"use strict";return d.isFunction(e.trim)?e.trim():e.replace(" ","")}};const xe=function(){"use strict";const e=function(){const e=function(e){return e&&e.width&&e.width>30&&e.height&&e.height>30},t=function(t){const n=le.getDimensionFromAttributes(t);return e(n)};return{hasValidDimensions:function(n){return t(n)||function(t){const n=le.getDimensionFromStyle(t);return e(n)}(n)},hasValidDimentionAttributes:t}}(),t=/GoogleActiveViewElement/,n=/DfaVisibilityIdentifier_/,r=/doubleclick.net\/pcs\/click?/,i=/_blank/,o=function(e){const t=e&&le.tagNameIs(e,"a"),n=le.attributeMatches(e,"href",r),o=le.attributeMatches(e,"target",i);return t&&n&&o},a=function(e){const r=le.tagNameIs(e,"div"),i=le.attributeMatches(e,"class",t),o=le.attributeMatches(e,"id",n);return r&&i&&o};return{getDFPGoogleDiv:function(e){return le.traverseAndFindFirstMatchingNode(e,a)},getClickableImage:function(t){let n,r;const i=le.traverseAndFindFirstMatchingNode(t,o);return i&&(r=le.getFirstChildElement(i),le.isImageTag(r)&&e.hasValidDimentionAttributes(r)&&(n=r)),n},getNodeMatchingMinimumSize:function(t){return le.traverseAndFindFirstMatchingNode(t,e.hasValidDimensions)}}},We=function(){"use strict";const e=xe(),t=function(e,t){t.tag=le.getTagName(e),t.size=le.getDimensionFromAttributes(e)||le.getDimensionFromStyle(e)};return{getDFPValue:function(n){let r;const i=e.getDFPGoogleDiv(n);return r=i?function(n){let r,i;const o={type:0};return n&&(o.type=1,r=e.getClickableImage(n),r?(o.type=2,t(r,o)):(i=e.getNodeMatchingMinimumSize(n),i&&(o.type=3,t(i,o)))),o}(i):function(n){const r={type:0},i=e.getNodeMatchingMinimumSize(n);return i&&(r.type=4,t(i,r)),r}(n),r}}},Ue={name:"hB",dependencies:[],creator:function(){"use strict";try{const e=Ne.getWindow(),t=Ne.getTop(),n=!(!t||!t.document)&&Object.getOwnPropertyNames(t),r={cdcP:d.stringifyTriState(n&&-1!==n.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Promise")),cdcA:d.stringifyTriState(n&&-1!==n.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Array")),cdcS:d.stringifyTriState(n&&-1!==n.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Symbol")),cyp:d.stringifyTriState(n&&-1!==n.indexOf("Cypress")),wd:d.stringifyTriState(d.isDef(e.navigator.webdriver)&&!0===e.navigator.webdriver),uaHC:d.stringifyTriState(e.navigator.userAgent.length>0&&-1!==e.navigator.userAgent.indexOf("HeadlessChrome"))},i=1,o=e=>d(e).contains(i),a=function(e){f.getAggregator().trigger("addThrottledProp","sca","hbs",d(e).toION())};o(r)&&a(r)}catch(e){}},settings:{tier:4,applies:function(e,t,n){"use strict";return!0}}},Ge={name:"viewport",dependencies:[],creator:function(){"use strict";const e={width:4,height:4},t=function(t){return!le.isViewportVisible(t,e)},n=function(e,r){return e!==r&&t(e)?e:e!==r&&ue.isFriendlyToParent(e)?n(e.parent,r):void 0},r=function(){const e=Ne.getWindow();return n(e,Ne.getWindow().top)},i=function(){return void 0!==r()};return{MIN_VISIBLE_DIM:e,isHidden:i,isCurrentIframeTheHiddenFrame:function(){let e;const n=Ne.getWindow();return t(n)?e=!0:i()&&(e=!1),e},getWindowWithHiddenViewport:r}}},Be=function(e){"use strict";let t,n;const r=function(r){t=e.setInterval(r,100),n=e.setTimeout((function(){i()}),42e4)},i=function(){t&&(e.clearInterval(t),t=null),n&&(e.clearTimeout(n),n=null)};return{onResize:function(t){let n=e.innerWidth,o=e.innerHeight,a=!1;r((function(){const r=function(){const t=e.innerWidth,r=e.innerHeight;return t!==n||r!==o}();r&&(a=!0),a&&!r&&(t(),i(),a=!1),n=e.innerWidth,o=e.innerHeight}))}}},He={name:"AS_Finder",dependencies:["viewport"],creator:function(e,t){"use strict";let n;const r=function(){try{!function(r){let i;const o={};r!==n&&(i=d.stringifyTriState(r),o.res1=i,o.ps=i,o.ts=Ne.now(),o.psfr=d.stringifyTriState(e.isCurrentIframeTheHiddenFrame()),t.events.trigger("newState",o)),n=r}(e.isHidden())}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.HIDDEN2)}};return{start:function(){e.isHidden()&&(r(),function(){const t=e.getWindowWithHiddenViewport();t&&Be(t).onResize(r)}())}}},settings:{emits:!0,applies:function(e,t,n){"use strict";return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}},ke={name:"hA",dependencies:["AS_Finder"],creator:function(t){"use strict";let n=0;const r=function(e,t){f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.FF,e,d(t).toION())},i=function(e){n<2&&r("ha1",e),n++};!function(){let n,o;if(ue.embedded)try{o=e.contextNode.parentNode,n=We().getDFPValue(o),r("dfp",function(e){const t={};return t.df=e.type,e.size&&(t.sz=e.size.width+"."+e.size.height),e.tag&&(t.dom=e.tag),t}(n)),n.size&&t&&(t.events.on("newState",i),t.start())}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.HIDDEN)}}()},settings:{tier:l.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){"use strict";return e.on("usehaps")}}},je={name:"thresholdDetector",dependencies:[],creator:function(){"use strict";return{create:(e,t,n)=>{let r;let i=t();const o=()=>{const o=t();o!==i&&!0&&(n(e,o),Ne.clearInterval(r)),i=o};i&&(n(e,i),r=Ne.setInterval(o,50))}}}},qe={name:"invisibleAds",dependencies:["thresholdDetector"],creator:function(t){"use strict";const n={width:4,height:4},r=()=>{const e=ce.getStyle(Ne.getWindow().frameElement,"opacity");return parseFloat(e)<.2},i=()=>"hidden"===ce.getStyle(Ne.getWindow().frameElement,"visibility"),o=(e,t)=>{const n={res1:d.stringifyTriState(t)};f.getAggregator().trigger("addThrottledProp","sca",e,d(n).toION())};try{const a=e.contextNode.parentNode,s=We().getDFPValue(a);le.isViewportVisible(Ne.getWindow(),n)&&2===s.type&&(r()&&t.create("ha2",r,o),i()&&t.create("ha3",i,o))}catch(e){}},settings:{tier:4,applies:function(e,t,n){"use strict";return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}};var Ye=function(e,n,r,i){"use strict";var o,a,s=0,u=0,c=e&&e.body,g=!1,p=function(){if((o=Math.round(le.getNodeArea(e.body)))>=i){for(var t,n,a=o+20*o/100,c=e.querySelectorAll("iframe"),g=d.fromNodeListToArray(c);g.length&&(u<a||s<r);)t=g.shift(),(n=Math.round(le.getNodeArea(t)))>=i&&(s++,u+=n);u>=a&&s>=r&&m()}},m=function(){var e={va:o,bia:u,bin:s};f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.FF,n,d(e).toION()),g=!0};c&&(Ne.execAtEndOfThread(p),!g&&d.isDef(t.MutationObserver)&&(a=new MutationObserver((function(e){g?a.disconnect():Ne.execAtEndOfThread((function(){d(e).each((function(e,t){if(t.addedNodes.length){var n=t.addedNodes[0];n&&le.isElement(n)&&le.tagNameIs(n,"IFRAME")&&d.debounce(p,10)}}))}))}))).observe(e.body,{attributes:!1,childList:!0,characterData:!1}))},Ke={name:"BS_InApp",dependencies:[],creator:function(){"use strict";var e=Ne.getWindow().document,t=e&&e.body;f.getAggregator().request("mobileApp").isMobileAppEnvironment()&&t&&Xe.isValidMobileAdSize(e.body)&&Ye(e,"bs1",3,100)},settings:{tier:l.TIERS.VIEWABILITY,applies:function(e,t,n){"use strict";var r=n.isOmid()||n.isMraid(),i=!n.isDomless()&&n.friendly&&!n.embedded;return e.on("bas")&&r&&i&&e.bootstrapOn("app")}}},ze={name:"BS_Browser",dependencies:[],creator:function(){"use strict";var e=Ne.getWindow().document,t=e.body?Math.round(le.getNodeArea(e.body)):null;!f.getAggregator().request("mobileApp").isMobileAppEnvironment()&&t&&Ye(e,"bs2",10,t)},settings:{tier:l.TIERS.VIEWABILITY,applies:function(e,t,n){"use strict";var r=!e.bootstrapOn("app")&&!n.isDomless();return e.on("bbs")&&n.embedded&&r}}};const Xe={isValidMobileAdSize:e=>{const t=le.getRect(e);return d([{width:320,height:50},{width:300,height:250},{width:336,height:280},{width:300,height:250},{width:728,height:90},{width:468,height:60},{width:336,height:280}]).find(((e,n)=>n.width===t.width&&n.height===t.height))}};var Je=function(){"use strict";return{createInstance:function(e){return ue.isDomless()?new Ze:new Qe(e)}}},Qe=function(e){"use strict";var n,r,i,o=new V,a=new P,s=new nt(o),u=new et,c=new ut,g=new at(o,e),l=function(){return d.isUndef(i)&&(i=new it(o)),i};return{isApplicable:function(e){return d.isDef(t.JSON)&&d.isDef(t.postMessage)&&(!e.isOmidNative()||e.isOmidForWeb())},start:function(){o.provide({frameCollection:function(){return s},adProxy:function(){return c},adTalkMessage:function(e){return new $e(e,o)},adTalkMessageCollection:function(){return u},idMapModule:l,interFrameQuerySelector:function(e){return new ot(e)}}),a.traverse(s.addFrame),g.startListening(),g.sendToKnownFrames(),f.getAggregator().once("stopAdTalk",(function(){g.stopListening()})),f.getAggregator().provide("adTalkEventAggregator",o)},sendAdTalkCall:g.sendAdTalkCall,getFrameMap:function(){return d.isUndef(n)&&(n=new rt(o)),n},getFrameMapIncludingPeerCase:function(){return d.isUndef(r)&&(r=new rt(o,!0)),r},getIdMap:l}},Ze=function(){"use strict";return{isApplicable:function(){return!1},start:function(){}}},$e=function(t,n){"use strict";var r,i=n.request("adProxy").myIdCard,o=n.request("frameCollection").getMe().getStringifiedPosition();r=f.getAggregator().request("features").on("swapids")?e.oid:e.asid;var a,s;return{messageContent:t||{},srcAsid:e.asid,srcTagId:i.tagId,srcIsEmbedded:ue.embedded,srcIsFriendly:ue.friendly,srcBirthdate:e.birthdate,iasCommonId:r.split("-")[2],nodeSelector:ue.friendly?"["+l.AD_IDENTIFIER+"-"+e.asid+"]":'iframe[src*="'+((s=(a=Ne.getWindow()).location&&a.location.href)&&s.replace(/^https?\:\/\//i,""))+'"]',positionStr:o,version:"0.1"}},et=function(){"use strict";var e={};return{add:function(t){var n=t&&t.srcAsid;n&&(e[n]=t)},map:function(t){return d(e).map(t)},has:function(t){var n=t&&t.srcAsid;return e[n]}}},tt=function(n,r,i,o){"use strict";var a,s=n==t;(a={position:r.slice(0),id:r.join("-"),isMe:s,isLeaf:!n.frames.length,adProxies:s?i:[],selfDescription:void 0,unifiedId:e.birthdate,srcIsEmbedded:o?o.srcIsEmbedded:void 0,inbox:o?[o]:[]}).getDomObj=function(){return n},a.getStringifiedPosition=function(){return d(a.position).map((function(e,t){return d.toBase(Number(t)+1,36)})).join("")},a.isValidForMapping=function(){return a.isLeaf||a.isMe||d.isDef(a.selfDescription)};var u=function(e,t){return!d(e).find((function(e,n){return n.adSafeId&&n.adSafeId===t.adSafeId}))};return a.addInformationFromSrc=function(e,t){var n,r,i,o;n=t,r=a.adProxies,i=n.adProxies,o=[],r.length&&i.length?d(i).each((function(e,t){u(r,t)&&o.push(t)})):o=i,a.adProxies=r.concat(o),function(e){d(a.inbox).find((function(t,n){return n.srcAsid&&n.srcAsid===e.srcAsid}))||a.inbox.push(e)}(e),a.srcIsEmbedded=e.srcIsEmbedded,a.selfDescription=t},a},nt=function(e){"use strict";var t=[],n={},r={noMe:!0};return{addFrame:function(i,o,a){var s=e.request("adProxy").getAll(),u=new tt(i,o,s,a);return t.push(u),n[u.id]=u,u.isMe&&(r=u),u},getFrame:function(e){return n[e]},list:t,dictionary:n,getMe:function(){return r}}},rt=function(t,n){"use strict";var r=function(e,t){var r=t.adProxies,a="";if(t.isValidForMapping())return a+=n?o(r,t.getStringifiedPosition()):i(r,t)},i=function(e,t){var n="";return n+=t.getStringifiedPosition(),n+=t.isMe?"*":"",n+=e.length?"."+e[0].tagId:""},o=function(e,t){var n="";return e.length?n+=d(e).stringify((function(e,n){return a(n,t)}),"|"):n+=t,n},a=function(t,n){return n+(e.asid===t.adSafeId?"*":"")+"."+t.tagId};return{output:function(){var e=t.request("frameCollection"),n=d(e.list).stringify(r,"|");return d.toBase(e.getMe().unifiedId,62)+"+"+n}}},it=function(t){"use strict";var n=t.request("frameCollection").getMe().getStringifiedPosition(),r=e.contextNode.parentNode,i=t.request("interFrameQuerySelector",r),o=function(e){var t=!1,o=!ue.embedded,a="BODY"!==le.getNodeName(r)&&"HEAD"!==le.getNodeName(r),s=e.srcIsEmbedded&&!function(e){var t="0.1"!==e.version,n=e.nodeSelector&&-1===e.nodeSelector.indexOf(l.AD_IDENTIFIER);return t?n:!e.srcIsFriendly}(e);return t=o&&a&&!s?!!function(e){return i.queryFor(e.nodeSelector)}(e):!!function(e){var t=e.positionStr,r=e.srcIsEmbedded&&ue.embedded,i=0===n.indexOf(t)||0===t.indexOf(n);return r&&i}(e),t};return{output:function(){var r,i,a=n+"*";return(i=t.request("adTalkMessageCollection").map((function(t,n){var r;return t!==e.asid&&o(n)&&(r=function(e){return e.positionStr+"."+e.srcAsid+"."+e.transferDuration+"_"+e.srcTagId}(n)),r}))).push(a),r=i.join("|"),r.length>120&&(r=function(e){return e&&e.substr(0,120)+".of"+e.length}(r),f.getAggregator().trigger("stopAdTalk")),r},isCandidateForMyIdMap:o}},ot=function(e){"use strict";var t=new P,n=function(e,t){return le.querySelector(function(e){var t=e,n="IFRAME"===le.getNodeName(e),r=le.isWindow(e);return n?t=e.contentWindow.document:r&&(t=e.document),t}(e),t)};return{queryFor:function(r){var i=null;return r&&(i=function(r,i){var o,a,s;try{(a=n(r,i))||(o=t.getFrames(!0,e),d(o).findFirst((function(e,t){return s=n(t,i)})))}catch(e){}return a||s||null}(e,r)),i}}},at=function(t){"use strict";var n,r,i=!1,o=f.getAggregator().request("features");r=o.on("swapids")?e.oid:e.asid;var a=function(n){var i=r.split("-")[2],o=!t.request("adTalkMessageCollection").has(n)&&n.srcAsid!==e.asid;return n.hasOwnProperty("messageContent")&&i===n.iasCommonId&&o},s=function(){var e=t.request("frameCollection").getMe(),n={self:e,unifiedId:e.unifiedId};return t.request("adTalkMessage",n)},u=function(){var e=l.DT_CODES.ADTALK;t.request("frameCollection");i||(i=!0),f.getAggregator().trigger("sendDt",e)},c=function(e,n,r){var o,a,s,c,g,p,m;try{o=t.request("frameCollection"),a=t.request("adTalkMessageCollection"),s=n.messageContent.self,a.add(n),p=o.getMe(),m=s,p.unifiedId>m.unifiedId&&(p.unifiedId=m.unifiedId),n.transferDuration=function(e){return Ne.now()-e.sentTime}(n),c=o.getFrame(s.id),g=c,d.isUndef(g)||d.isUndef(g.selfDescription)?((c=c||o.addFrame(e.source,s.id.split("-"),n)).addInformationFromSrc(n,s),r()):c.addInformationFromSrc(n,s),i&&t.request("idMapModule").isCandidateForMyIdMap(n)&&u()}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.ADTALK_DUBIOUS)}};return{sendAdTalkCall:u,sendToKnownFrames:function(){(new U).send(s)},startListening:function(){(n=new W).listen(a,c,s)},stopListening:function(){n&&n.stop()},validateMessage:a,processMessage:c,createMessage:s}},st=function(){"use strict";var e=f.getAggregator().request("ids"),t=e.getAsid();return{tagId:e.getFwId(),adSafeId:t}},ut=function(){"use strict";var e,t=[],n=function(e){var n=new st(e);return t.push(n),n};return e=n(),{createNew:n,getAll:function(){return t},myIdCard:e}},ct=function(e,t){"use strict";var n,r,i=l.NA,o=i,a=!1,s=!1,u=!1,c=!t,g=f.getAggregator().request("browser"),p=function(e,t){(function(e){var t=f.getAggregator().request("mobileApp");return(e.browserIs(l.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(l.BROWSERS.WEBKIT)||e.browserIs(l.BROWSERS.MSEDGE))&&!t.isMobileAppEnvironment()&&e.hasResizeObserver()})(g)&&Ne.getResizeObserver((function(n,r){var i=n.pop();i.contentRect.height*i.contentRect.width>0&&(t.unobserve(e),t.observe(e),r.disconnect())})).observe(e)},m=function(){var t=Ne.getIntersectionObserver((function(e,t){var r=e.pop(),a=r.intersectionRect.width*r.intersectionRect.height/(r.boundingClientRect.width*r.boundingClientRect.height)*100;isNaN(a)&&(p(r.target,t),a=0),i=Math.min(a,100),n=r.boundingClientRect,i!==o&&Ne.execAtEndOfThread((function(){f.getAggregator().trigger("IOPivChange",i)})),o=i}),{threshold:l.VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER});c&&Ne.execAtEndOfThread((function(){i===l.NA&&(i=0)})),t.observe(h(e)),c&&Ne.execAtEndOfThread((function(){ue.isBustedIframe()||f.getAggregator().trigger("delayedViewabilityReady")})),a=!0},h=function(t){if(!d.isUndef(t)){if(u){var n=e.document,i=n.createElement("div");d(i.style).mixin({position:"absolute",width:"100%",opacity:"0",height:"100%",zIndex:-999,top:"0px",left:"0px"}),i[l.IAS_DETECTOR]=!0,n.body.appendChild(i),t=i}return r=t,t}};return{start:function(){var t=function(){var t;try{e.document&&(u=!0,t={bodyElement:e.document.body,document:e.document})}catch(e){s=!0}return t}();t&&null!==t.bodyElement?m():t&&t.document?ce.whenReady(m,t.document):s?f.getAggregator().request("errors").add(l.ERROR_CODES.BUSTED_IFRAME_IN_IO):m()},isReady:function(){return i!==l.NA},isStarted:function(){return a},getAdNodeDimensions:function(){var e;return n&&(e=fe({scrX:void 0,scrY:void 0,width:n.width,height:n.height})),e},getObservedNode:function(){return r},getPiv:function(){return i}}},dt=function(){"use strict";var e=!1;return ce.whenReady((function(){f.getAggregator().trigger("startViewabilityLoop"),e=!0})),{loopStarted:function(){return e}}},gt={name:"loopDelay",dependencies:[],creator:dt,settings:{applies:function(e,t,n){"use strict";return e.bootstrapOn("allowViewability")},tier:l.TIERS.VIEWABILITY}},ft=function(){"use strict";return{start:function(e){f.getAggregator().on("measurable",(function(){e()}))},isApplicable:function(e,t){return!t.browserIs(l.BROWSERS.WEBKIT)||!e.isImmediatelyMeasurable()}}},lt=function(){"use strict";return{start:function(e){e()},isApplicable:function(e){return e.isImmediatelyMeasurable()}}},pt=function(t,n,r){"use strict";var i=!1,o=function(){try{n.impressionIsIdentifiable()&&!i?(i=!0,f.getAggregator().trigger("notify",e._onMeasurable)):n.impressionIsIdentifiable()||__IntegralASDiagnosticCall("rtsmeas_imp_not_iden",{},e)}catch(t){__IntegralASDiagnosticCall("rtsmeas_send_noti_error",t,e)}};return{start:function(){try{var n,i=[ht(),mt(),lt(),ft()];(n=d(i).findFirst((function(e,n){return n.isApplicable(r,t)})))?n.start(o):__IntegralASDiagnosticCall("rtsmeas_no_chosen_strategy",{},e)}catch(t){__IntegralASDiagnosticCall("rtsmeas_start_error",t,e)}},isApplicable:function(t){return t.bootstrapOn("useViewabilityNotification")&&d.isDef(e._onMeasurable)}}},mt=function(){"use strict";return{start:function(e){var t,n;(t=f.getAggregator(),n=["adImpression","measurable"],{onAll:function(e){var r={};d(n).each((function(i,o){t.on(o,(function(){r[o]=1,d(r).keys().length===n.length&&(r={},e())}))}))}}).onAll((function(){e()}))},isApplicable:function(e,t){var n=t.getIOSVersion()>=9;return(!t.browserIs(l.BROWSERS.WEBKIT)||n)&&ue.isVideo()}}},ht=function(){"use strict";return{start:function(e){f.getAggregator().once("adImpression",(function(){e()}))},isApplicable:function(e){return e.isImmediatelyMeasurable()&&ue.isVideo()}}},vt=function(e,t,n){"use strict";var r=["rjss","jss","jload"];return{accepts:function(){var e=d.isDef(d(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(l.MEDIA_TYPE.DISPLAY)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){}}},Et=function(t){"use strict";var n=Ne.getWindow(),r=n&&n.omid3p,i=f.getAggregator().request("omidAdSessionContext"),o=!!(t&&t.isSupported&&t.isSupported()),a=!!(r&&d.isFunction(r.registerSessionObserver)&&d.isFunction(r.addEventListener));return{accepts:function(){return(o||a)&&!e.videoId},isMediaType:function(e){return e===i.mediaType},supportsAdContainerGeometry:function(){return!0}}},It=function(e,t,n){"use strict";var r,i=f.getAggregator().request("omidAdSessionContext"),o=i.isHtml&&i.isWeb,a=Ne.getWindow(),s=a&&a.omid3p,u=!!(s&&d.isFunction(s.registerSessionObserver)&&d.isFunction(s.addEventListener))?s:e;r=o?["rjss","jss","jload","jsvid","fwjsvid"]:["rjss","jss","jload"];return{accepts:function(){var e=d.isDef(d(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(l.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){u.addEventListener("start",(function(e){f.getAggregator().trigger("adImpression")}))}}},At=function(e){"use strict";return{resolve:function(){return d(e).findFirst((function(e,t){return t.environment.accepts()}))}}},St=function(n){"use strict";var r=!1,i=!1,o=!1,a=!1,s=f.getAggregator().request("omidAdSessionContext");s.queuedOutputItems=[],s.cachedEvents=[],s.cachedGeometryEventsReceived=!1,s.cachedVideoEventsReceived=!1,s.recoveredTime=-1;var u=new er,g=f.getAggregator().request("omidAdSessionVerificationParameters"),l=f.getAggregator().request("features"),p=Ne.getWindow(),m=p&&p.omid3p,h=!!(m&&d.isFunction(m.registerSessionObserver)&&d.isFunction(m.addEventListener))?m:n,v=!1;s.omidEarlyExit=!1,s.mediaType="display";var E=!1,I=function(e,t){s.queuedOutputItems.push({code:e,value:t})},A=function(e,t,n){f.getAggregator().trigger(e,t,n)},S=function(e){f.getAggregator().trigger(e)},T=function(){r&&i&&(!a||o)&&(t.omidSupported=!0,s.hasOwnProperty("impressionType")&&I("oiet",s.impressionType),s.hasOwnProperty("creativeType")&&I("oct",s.creativeType),s.underEvaluation&&I("oef",!0),s.exitedOASRS=!0,v=!0,c(g&&g.IAS&&Object.keys(g.IAS).length>0?g.IAS:g))},D=function(t){function n(){return ue.isOmidForWeb()||t.data.hasOwnProperty("supportsLoadedEvent")&&("true"===t.data.supportsLoadedEvent||!0===t.data.supportsLoadedEvent)&&"string"==typeof t.data.creativeType&&""!==t.data.creativeType}var u="0";if("sessionStart"===t.type){s.adSessionType=t.data.context.adSessionType,s.environment=t.data.context.environment,s.accessMode=t.data.context.accessMode,s.omidNativeInfo=t.data.context.omidNativeInfo,s.omidJsInfo=t.data.context.omidJsInfo,s.deviceInfo=t.data.context.deviceInfo,s.app=t.data.context.app,s.supports=t.data.context.supports,s.app&&"string"==typeof s.app.appId&&s.app.appId.toLowerCase().indexOf("pandora")>-1&&(s.ignoreDivAsCandidate=!0),t.data.hasOwnProperty("contentUrl")&&(s.contentUrl=t.data.contentUrl),t.data.context.hasOwnProperty("underEvaluation")&&(s.underEvaluation=t.data.context.underEvaluation),s.isJavaScript="javascript"===s.adSessionType,s.isNative="native"===s.adSessionType||"javascript"===s.adSessionType,s.isLimitedSandbox="app"===s.environment?ue.embedded:"full"!==t.data.context.accessMode,s.isHtml="html"===t.data.context.adSessionType,s.isWeb="web"===t.data.context.environment,s.partnerName=s.omidNativeInfo&&s.omidNativeInfo.partnerName&&s.omidNativeInfo.partnerName.toLowerCase(),g=t.data.verificationParameters,s.isOmidForWebEnvironment=s.isHtml&&s.isWeb,s.element=t.data.context.videoElement||t.data.context.slotElement||null,n()?(a=!0,s.useOMID13Logic=!0,I("ohand","13"),h.addEventListener("video",y),h.addEventListener("media",y)):I("ohand","12"),s.isOmidForWebEnvironment||(s.integratedBlocking=e&&e.isResolved&&ue.integratedBlockingApplies(e.mobFwUrl),s.integratedBlocking&&l&&l.on("exitOASRSEarly")&&(s.omidEarlyExit=!0,u="1",s.omidEarlyExit&&e.mobFwUrl.indexOf("xmtp=v")>-1&&(s.mediaType="video")),!t.data.mediaType||"display"!==t.data.mediaType&&"video"!==t.data.mediaType||(s.mediaType=t.data.mediaType)),s.omidEarlyExit&&(i=!0,I("omtp",s.mediaType),n()&&(o=!0),"video"===s.mediaType&&(s.isVideo=!0),s.isNativeVideo=s.isNative&&s.isVideo,s.isDisplay="display"===s.mediaType),"audio"===t.data.creativeType&&(s.accessMode="limited",s.isLimitedSandbox=!0);for(var c,d,f,p=[{root:"omidNativeInfo",code:"onpn",field:"partnerName"},{root:"omidNativeInfo",code:"onpv",field:"partnerVersion"},{root:"omidJsInfo",code:"ojpn",field:"partnerName"},{root:"omidJsInfo",code:"ojpv",field:"partnerVersion"},{root:"omidJsInfo",code:"osev",field:"serviceVersion"},{root:"omidJsInfo",code:"oscv",field:"sessionClientVersion"},{root:"app",code:"applv",field:"libraryVersion"},{root:"app",code:"appid",field:"appId"},{root:"deviceInfo",code:"dty",field:"deviceType"},{root:"deviceInfo",code:"osn",field:"os"},{root:"deviceInfo",code:"osv",field:"osVersion"}],m=0;m<p.length;m++)c=p[m].root,d=p[m].field,f=p[m].code,"object"==typeof s[c]&&void 0!==s[c][d]&&I(f,s[c][d]);I("oast",s.adSessionType),I("oacm",s.accessMode),I("oenv",s.environment),s.hasOwnProperty("contentUrl")&&I("ocon",encodeURIComponent(s.contentUrl||"")),I("oerl",u),I("oses",ue.getTagTime()),r=!0,T()}if("sessionError"===t.type){var E="string"==typeof t.data.errorType?t.data.errorType:"NoErrType",S="string"==typeof t.data.message?t.data.message:"NoMessage",D=E+"_"+encodeURIComponent(S);v?A("addOutputItem",{output:D},"oser"):I("oser",D)}},O=function(e){"impression"===e.type&&(s.omidImpressionArrived=!0,S("omidimpressionarrived"),s.mediaType="web"===s.environment?e.data.mediaType||"video":e.data.mediaType,I("omtp",s.mediaType),"audio"===e.data.creativeType&&(s.accessMode="limited",s.isLimitedSandbox=!0),I("oimp",ue.getTagTime()),"video"===e.data.mediaType&&(s.isVideo=!0),function(e){return e.data.adView&&(e.data.viewport||s.isWeb)}(e)&&(s.impressionViewabilityMeasurement={type:"geometryChange",data:{viewport:e.data.viewport,adView:e.data.adView},timestamp:e.timestamp},void 0===s.geometryArrived&&u.checkForViewAttachmentBasedOnAdSessionType(s,e.data.adView)&&(s.geometryArrived=!0,S("omidrendgeoupdate"))),e.data.hasOwnProperty("impressionType")&&!o&&(s.impressionType=e.data.impressionType),s.isNativeVideo=s.isNative&&"video"===e.data.mediaType,s.isDisplay="display"===e.data.mediaType,i=!0,T())},y=function(e){if(e&&"start"===e.type)return s.videoStartArrived=!0,void S("omidrendvideostart");"loaded"!==e.type||s.omidLoadedArrived||(I("oloa",ue.getTagTime()),o=!0,s.omidLoadedArrived=!0,S("omidloadedarrived"),e.data.hasOwnProperty("creativeType")&&(s.creativeType=e.data.creativeType),"audio"===s.creativeType&&(s.accessMode="limited",s.isLimitedSandbox=!0),e.data.hasOwnProperty("impressionType")&&(s.impressionType=e.data.impressionType),!0===s.omidEarlyExit&&(E||(A("addThrottledOutputItem","oiet",s.impressionType),A("addThrottledOutputItem","oct",s.creativeType),E=!0)),T())};return{start:function(){h.registerSessionObserver(D,"IAS"),h.addEventListener("impression",O)}}},Tt=function(){"use strict";return{accepts:function(){return!0}}},Dt=function(){"use strict";var e=f.getAggregator().request("omidAdSessionContext"),t=f.getAggregator().request("omidVerificationClient"),n=new Et(t),r=e.isHtml&&e.isWeb;return{accepts:function(){return n.accepts()&&r}}},Ot=function(){"use strict";return{start:function(){c(e.contextNode&&(e.contextNode.dataset.iasParameters||e.iasParameters))}}},yt=function(n,r){"use strict";var i="videoPlaybackEvent",o=[],a=(new Date).getTime(),s=0,u=1,c=0,g=!1,p=new Oe,m=f.getAggregator().request("omidAdSessionContext"),h=Ne.getWindow(),v=h&&h.omid3p,E=!!(v&&d.isFunction(v.registerSessionObserver)&&d.isFunction(v.addEventListener))?v:n,I=!1,A=!1,S={isEmpty:function(){return 0===o.length},toString:function(){for(var e="{vEventCount:"+o.length+",vEvents:[",t=0;t<o.length;t++){var n=o[t];e+=(t>0?",{":"{")+"t:"+n.t+",rt:"+n.rt+",tp:"+n.tp+",sl:"+n.sl+",ad_duration:"+n.ad_duration+",volume:"+n.volume+",devol:"+n.devol+"}"}return e+="]}"}},T=function(){g=!0},D=function(n){var p,h,v,E="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish",S="complete|pause|bufferStart|skipped";if(-1!==("|"+E+"|"+S+"|playerStateChange|loaded|volumeChange|").indexOf("|"+n.type+"|"))try{var T,D="",O=n.hasOwnProperty("timestamp")?n.timestamp:(new Date).getTime(),y=O-(e.birthdate||O+1),w="n",N=!1;switch(n.type){case"start":D="adVideoStart",m.videoStartArrived=!0,f.getAggregator().trigger("omidrendvideostart"),a=O,(c=n.data.duration)>1e3&&(c/=1e3),s=void 0!==n.data.mediaPlayerVolume?n.data.mediaPlayerVolume:n.data.videoPlayerVolume,u=void 0!==n.data.deviceVolume?n.data.deviceVolume:1;break;case"volumeChange":D="volumeChanged",s=void 0!==n.data.mediaPlayerVolume?n.data.mediaPlayerVolume:n.data.videoPlayerVolume,u=void 0!==n.data.deviceVolume?n.data.deviceVolume:1;break;case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":D="adVideo"+n.type.substring(0,1).toUpperCase()+n.type.substring(1),N=!0,f.getAggregator().trigger("videoQuartileEvent",n);break;case"pause":case"bufferStart":D="pauseAd";break;case"resume":case"bufferFinish":D="resumeAd";break;case"skipped":D="adSkipped"}if(s=s>0&&s<.1?.1:parseInt(10*s)/10,u=u>0&&u<.1?.1:parseInt(10*u)/10,""!==D){var _=f.getAggregator().request("mScreenEvents");_&&(w=_.getCurrentLoc()),o.push({t:O-a,rt:y,tp:D,sl:w,ad_duration:c,volume:s,devol:u})}if("loaded"===n.type&&d.isDef(n.data)){var R=["preroll","midroll","postroll","standalone"].indexOf(n.data.position),b=-1!==R?R+1:void 0,C=[];!0===n.data.autoPlay?C.push("autoplayed"):C.push("clicktoplay"),!0===n.data.skippable&&C.push("skippable"),"fullscreen"===n.data.state&&C.push("fullscreen");var M=C.join(".");!0===g?(d.isDef(b)&&f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.ENVIRONMENT,"vbp",b),f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.ENVIRONMENT,"vps",M)):(d.isDef(b)&&f.getAggregator().trigger("addOutputItem",{output:b},"vbp",{type:l.IMPRESSION_EVENT}),f.getAggregator().trigger("addOutputItem",{output:M},"vps",{type:l.IMPRESSION_EVENT}))}if("start"===n.type&&(f.getAggregator().trigger("omidAdDuration",{ad_duration:c}),m.adDuration=c),"playerStateChange"===n.type?T="fullscreen"===n.data.state?"AdEnteredFullscreen":"AdExitedFullscreen":-1!==E.indexOf(n.type)?(T="AdPlaying",A=!0):-1!==S.indexOf(n.type)&&(T="AdPaused",A=!1),"audio"===m.creativeType&&""!==D){var V=(p=l.RENDER.WIDTH_THRESHOLD,h=l.RENDER.HEIGHT_THRESHOLD,(v={type:"geometryChange",timestamp:O,internallyGenerated:!0,treatAsCached:I,data:{viewport:{width:p,height:h},adView:{measuringElement:!1,percentageInView:100,geometry:{x:0,y:0,width:p,height:h,obstructions:[],reasons:[]},reasons:[]}}}).data.adView.onScreenGeometry=v.data.adView.containerGeometry=v.data.adView.onScreenContainerGeometry=v.data.adView.geometry,v);A&&0!==u&&0!==s||(V.data.adView.geometry.width=V.data.adView.geometry.height=0,V.data.adView.percentageInView=0),f.getAggregator().trigger("internallyGeneratedGeometryEvent",V)}I&&"loaded"!==n.type&&(m.cachedVideoEventsReceived=!0,"start"===n.type&&(m.cachedStartEventIndex=m.cachedEvents.length),m.cachedEvents.push(n)),d.isDef(T)&&r.trigger(i,{eventType:T,eventData:null}),N&&f.getAggregator().trigger("sendDt",l.DT_CODES.VIDEO_EVENTS)}catch(e){__IntegralASDiagnosticCall("omidvideo",e,t.bootstrapper)}};return{start:function(){f.getAggregator().on("impressionsent",T),f.getAggregator().provide({omidVideoEventsString:S}),I=!0,"audio"===m.creativeType?E.addEventListener("media",D):E.addEventListener("video",D),I=!1,m.cachedVideoEventsChecked=!0,m.cachedVideoEventsReceived&&m.processCachedEvents(),p.init()},addVideoPlaybackEventListener:function(e){r.on(i,e)}}},wt=function(e,t){"use strict";var n="measurementChanged",r=!1,i=function(e){return e>=50},o=function(e){var o=e.percentageInView;r=!0,e.viewState=function(e){return i(e)?l.IN_VIEW:l.OUT_OF_VIEW}(o),e.outOfViewReason=i(o)?"":l.OUT_OF_VIEW_REASONS.GEOM,t.trigger(n,e)};return{start:function(){f.getAggregator().trigger("addOutputItem",{output:l.MEDIA_TYPE.DISPLAY_CODE},l.MEDIA_TYPE_CODE,{type:l.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(o),e.start()},getStrategyName:function(){return l.MEASUREMENT_STRATEGY.DISPLAY},addMeasurementChangedListener:function(e){t.on(n,e)},isMeasurable:function(){return r}}},Nt=function(e,t,n){"use strict";var r=d.isDef(e)?e.environment:void 0,i=d.isDef(e)?e.measurementStrategy:void 0,o=function(){return d.isDef(i)};d.isDef(t)&&t.start();return{hasMeasurementStrategy:o,getScreenLocationInfo:function(e){return t.create(e)},isImmediate:function(){return!o()||r.isImmediate()},isMeasurable:function(){return!!o()&&i.isMeasurable()},isMediaType:function(e){return!!o()&&r.isMediaType(e)},supportsAdContainerGeometry:function(){return e.environment.supportsAdContainerGeometry()},start:function(){o()&&r.start()},requiresDelayedViewabilityEvent:function(){o()&&t.requiresDelayedViewabilityEvent()}}},_t=function(e,t,n){"use strict";var r=f.getAggregator().request("mobileApp");return{create:function(){var t=[];t=(t=t.concat(e.getOmidMeasurementStrategies())).concat(e.getMraidMeasurementStrategies());var n=new bt(t).resolve();n||f.getAggregator().trigger("addOutputItem",{output:"0"},"oam",{type:"impression"});var i=new Ct(n);return new Nt(n,i,r.isMobileAppEnvironment())}}},Rt=function(t){"use strict";var n=f.getAggregator().request("mobileApp");return{getOmidMeasurementStrategies:function(){var t=f.getAggregator().request("omidVerificationClient"),n=new Et(t),r=[];if(n.accepts()){var i=new Ut,o=new Bt,a=new Dt,s=f.getAggregator().request("omidAdSessionContext"),u=new Wt(t,new F),c=[{environment:i,measurementStrategy:new Gt(t,new F)},{environment:a,measurementStrategy:new Ht(new vn,Ne.getWindow(),new F)},{environment:o,measurementStrategy:new jt(new yn,Ne.getWindow(),new F)}],d=new bt(c).resolve(),g=d?d.measurementStrategy:{},l=new Pt(new xt(new zn),new zn,s.isHtml),p=new vt(t,n,e.mode),m=new Lt(u,g,new F,l),h=new It(t,n,e.mode),v=new kt(u,g,new yt(t,new F),new F,l);r.push({environment:p,measurementStrategy:m}),r.push({environment:h,measurementStrategy:v})}return r},getMraidMeasurementStrategies:function(){var e=[],t=n.isSafeToInjectMraid(),r=new qt(Ne.getWindow(),t,n.isMobileAppEnvironment());if(r.accepts()){var i,o=f.getAggregator().request("context"),a=new Vt(Ne.getWindow(),o),s=new Yt(Ne.getWindow(),new F);if(a.accepts()){var u=new Ft(Ne.getWindow(),new F);i={environment:a,measurementStrategy:new Mt(s,u,new F)}}else{i={environment:r,measurementStrategy:new wt(s,new F)}}e.push(i)}return e}}},bt=function(e){"use strict";return{resolve:function(){var t=d(e).findFirst((function(e,t){return t.environment.accepts()}));if(d.isDef(t))return t}}},Ct=function(e){"use strict";var t,n=!1,r={winDimensions:fe({scrX:0,scrY:0,width:0,height:0}),adDimensions:fe({scrX:0,scrY:0,width:0,height:0}),containerDimensions:fe({scrX:0,scrY:0,width:0,height:0}),method:l.NA,viewState:l.NA,percentInView:l.PIV_NA,reason:"",obstructed:l.NA,isHidden:l.NA,tabHidden:l.NA,posViewState:l.NA,adCompCount:1},i=function(e){return e?new fe({scrX:e.x,scrY:e.y,width:e.width,height:e.height}):fe({scrX:0,scrY:0,width:0,height:0})},o=function(e){t={winDimensions:i(e.windowDimensions),adDimensions:i(e.adDimensions),containerDimensions:i(e.containerDimensions),method:e.detectionMethod||l.NA,viewState:e.viewState||l.NA,percentInView:d.isDef(e.percentageInView)?e.percentageInView:l.PIV_NA,reason:e.outOfViewReason||"",obstructed:d.stringifyTriState(e.isObstructed),isHidden:l.NA,tabHidden:l.NA,posViewState:e.viewState||l.NA,adCompCount:1,shouldDelegateToDomBasedViewability:e.shouldDelegateToDomBasedViewability,sliceStatus:e.sliceStatus,isVideoPlaying:e.isVideoPlaying,isVideoPlayingInFullscreen:e.isVideoPlayingInFullscreen,isSoundOn:e.isSoundOn};var r=e.omidObstructions;d.isDef(r)&&""!==r&&(t.omidObstructions=r),e.isMeasurable&&(!0,n&&(n=!1,f.getAggregator().trigger("delayedViewabilityReady")))};return{create:function(n){var i=r;return d.isDef(t)&&(e.environment.supportsAdContainerGeometry()?i=t:t.shouldDelegateToDomBasedViewability?(i=n).method=t.method:(0===t.percentInView||t.percentInView>=75)&&(i=t)),i},start:function(){var t;d.isDef(e)&&d.isDef(e.measurementStrategy)&&((t=e.measurementStrategy).addMeasurementChangedListener(o),t.start())},requiresDelayedViewabilityEvent:function(){n=!0}}},Mt=function(e,t,n){"use strict";var r,i,o,a,s="measurementChanged",u=!1,c=!1,g=!1,p=function(e){return e<50},m=function(){if(!d.isUndef(i)){var e,t,f=[];u?(c?(t=!1,e=100):(t=a,e=o),p(e)&&f.push(l.OUT_OF_VIEW_REASONS.GEOM)):(t=!1,e=0,f.push(l.OUT_OF_VIEW_REASONS.VIDEO)),g=!0,i.shouldDelegateToDomBasedViewability=t,i.percentageInView=e,i.viewState=function(e){return p(e)?l.OUT_OF_VIEW:l.IN_VIEW}(e),i.outOfViewReason=f.join("."),r=i,n.trigger(s,r)}},h=function(e){i=e,o=e.percentageInView,a=e.shouldDelegateToDomBasedViewability,m()},v=function(e){var t=e.eventType;"AdEnteredFullscreen"===t?c=!0:"AdExitedFullscreen"===t?c=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?u=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped".indexOf(t)&&(u=!1),m()};return{start:function(){f.getAggregator().trigger("addOutputItem",{output:l.MEDIA_TYPE.VIDEO_CODE},l.MEDIA_TYPE_CODE,{type:l.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(h),e.start(),t.addVideoPlaybackEventListener(v),t.start()},getStrategyName:function(){return l.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){n.on(s,e)},isMeasurable:function(){return g}}},Vt=function(e,t){"use strict";return{accepts:function(){return t.isInMobiMraidVideo()},isImmediate:function(){return!1},supportsAdContainerGeometry:function(){return!1},start:function(){try{var t;e.inmobi.IASDocumentVideoBuffer.addVideoEventListener((function(e){"AdVideoStart"!==e.type||t||(t=!0,f.getAggregator().trigger("adImpression"))}))}catch(e){}}}},Ft=function(e,t){"use strict";var n="inMobiMraidVideoPlaybackEvent",r=function(e){try{var r=e.type;t.trigger(n,{eventType:r})}catch(e){}};return{start:function(){try{e.inmobi.IASDocumentVideoBuffer.addVideoEventListener(r)}catch(e){}},addVideoPlaybackEventListener:function(e){t.on(n,e)}}},Pt=function(e,t,n){"use strict";var r=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},i=function(e,t,n){var i=r(t,e);return r(n,{x:0,y:0,width:i.width,height:i.height})},o=function(e,t){var n=ue.isOmidForWeb(),r=!ue.isOmidSandboxedEnvironment(),i=n&&r;return{x:i?t.x:e.x+t.x,y:i?t.y:e.y+t.y,width:t.width,height:t.height}},a=function(e,t){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}};function s(e,t,n){var r=a(t,n),o=i(e,t,r);return o.width*o.height}var u=function(e){return c(e)?l.IN_VIEW:l.OUT_OF_VIEW},c=function(e){return e>=50};return{calculateGeometricMeasurement:function(r,g){if(d.isDef(r)&&d.isDef(g)){var f,p,m=r.viewport,h=r.computedAdContainer,v=h.obstructions,E=r.omidObstructions,I=v&&v.length>0,A=r.originalAdContainer,S=g.adGeometry,T=g.adFound,D=r.detectionMethod,O=0,y={x:0,y:0,width:m.width,height:m.height},w=o(A,S),N=r.outOfViewReason,_=0,R=0,b=I||!1,C=S.width*S.height<=1;return n&&C&&(N=function(e,t){var n=e||"";return t||-1!==n.indexOf(l.OUT_OF_VIEW_REASONS.GEOM)||(n=l.OUT_OF_VIEW_REASONS.GEOM+(""!==n?"."+n:"")),n}(N,T=!1)),T&&r.percentageInView>0?(_=s(y,h,w),R=I?function(t,n,r,s){var u=a(n,r),c=i(t,n,u),d=o(n,c);return e.calculateObstructedArea(d,s)}(y,h,w,v):0,O=Math.round((_-R)/(w.width*w.height)*100),I&&0===R&&(b=!1),p=function(n,r,i,o){var a,u,c,d,g=0,f=t.getConfig(i).numberOfSlices,l=Ne.floor(i.height/f)||1,p=[],m=o?e.getObstructionStatusBySlice(f):[];for(g=0;g<f;g++)d=i.y+l*g,g==f-1&&(l=i.y+i.height-d),u=s(n,r,a={x:i.x,y:d,width:i.width,height:l})/(a.width*a.height)==1,p.push(u);if(o)for(c=Ne.min(m.length,f),g=0;g<c;g++)p[g]=p[g]&&!m[g];return p}(y,h,new fe(w).getRoundedGeometry(),b)):p=t.getConfig(S).defaultSliceArray,f={windowDimensions:y,containerDimensions:A,adDimensions:w,percentageInView:O,viewState:u(O),outOfViewReason:c(O)?"":N||l.OUT_OF_VIEW_REASONS.GEOM,detectionMethod:D,isObstructed:b,sliceStatus:p},d.isDef(E)&&""!==E&&(f.omidObstructions=E),f}}}},Lt=function(e,t,n,r){"use strict";var i,o,a,s="geometryMeasurementChanged",u=function(){if(d.isDef(i)&&d.isDef(o)){var e=r.calculateGeometricMeasurement(i,o);e.isMeasurable=!0,a=!0,n.trigger(s,e)}},c=function(e){i=e,u()},g=function(e){o=e,u()};return{start:function(){f.getAggregator().trigger("addOutputItem",{output:l.MEDIA_TYPE.DISPLAY_CODE},l.MEDIA_TYPE_CODE,{type:l.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(c),e.start(),t.addAdGeometryMeasurementChangedListener(g),t.start()},addMeasurementChangedListener:function(e){n.on(s,e)},getStrategyName:function(){return l.MEASUREMENT_STRATEGY.DISPLAY},isMeasurable:function(){return a}}},xt=function(e){"use strict";var t,n=[],r=function(e,t){for(var n=o(e,t),r=n.x-e.x,i=n.y-e.y,a=r+n.width,s=i+n.height,u=Math.round(r);u<Math.round(a);u++)for(var c=Math.round(i);c<Math.round(s);c++)void 0!==e.matrix[u]&&void 0===e.matrix[u][c]&&(e.matrix[u][c]=1,e.obscuredPixelCount+=1);return e},i=function(e){for(var t=Math.round(e.width),n=Math.round(e.height),r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);return{matrix:r,obscuredPixelCount:0,x:Math.round(e.x),y:Math.round(e.y),width:t,height:n}},o=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},a=function(e,t,n){return e+(t-n)},s=function(e,t,n,r){return e==t||n===r-1},u=function(t){if(d.isUndef(t.matrix)||0===t.matrix.length)return[];for(var n=0,r=!1,i=t.matrix[0].length,o=t.matrix.length,u=e.getConfig({height:i}).numberOfSlices,c=Ne.floor(i/u)||1,g=[],f=0;f<i;f++){r=!1;for(var l=0;l<o;l++)if(1===t.matrix[l][f]){r=!0;break}n++,r&&(f=a(f,c,n),n=c),s(n,c,f,i)&&(g.push(r),n=0,r=!1)}return g};return{calculateObstructedArea:function(e,o){var a,s=o&&o.length>0,c=s?i(e):{},d=0,g=0;if(s){for(;d<o.length;d++)a=o[d],c=r(c,a);g=c.obscuredPixelCount,t=u(c)}else t=n;return g},getObstructionStatusBySlice:function(){return t}}},Wt=function(t,n){"use strict";var r=f.getAggregator().request("omidAdSessionContext");r.geometryChangeEvents=[];var i=null,o=!1,a=Ne.getWindow(),s=a&&a.omid3p,u=!!(s&&d.isFunction(s.registerSessionObserver)&&d.isFunction(s.addEventListener))?s:t,c=new er,g=!1,p=!1,m=function(){var t=Ne.getDoc().getElementById("iasbi"+e.asid);t&&t.hasAttribute("CreativeLoaded")?(r.delayingViewabilityEvents=!1,o=!1,i&&(h(i),i=null)):Ne.setTimeout(m,50)},h=function(t){if(t&&"geometryChange"===t.type&&t.data&&t.data.adView&&("audio"!==r.creativeType||t.internallyGenerated)){var a=g||t.treatAsCached;a&&(r.cachedGeometryEventsReceived||(r.cachedFirstGeometricIndex=r.cachedEvents.length),r.cachedGeometryEventsReceived=!0,r.cachedEvents.push(t));var s=t.data.adView,u=!!(s.measuringElement&&s.containerGeometry&&s.onScreenContainerGeometry),p=r.cachedStartEventIndex;if(!a&&r.unrecoveredPlayTime&&p>-1&&s.percentageInView>=50&&"audio"!==r.creativeType){var h=Ne.now()-r.cachedEvents[p].timestamp,E=f.getAggregator().request("mScreenEvents");E&&E.setRecoveredTimeInSlTimes&&E.setRecoveredTimeInSlTimes(h)}if(r.geometryChangeEvents.length<10&&(r.geometryChangeEvents.push(t.timestamp-e.birthdate+"."+s.percentageInView),f.getAggregator().trigger("addOutputItem",{output:r.geometryChangeEvents.join("_")},"og")),r.delayingViewabilityEvents)i=t,o||(o=!0,m());else{var I=[];s.onScreenGeometry&&s.onScreenGeometry.obstructions&&s.onScreenGeometry.obstructions.length>0&&(u&&(s.onScreenContainerGeometry.obstructions=s.onScreenGeometry.obstructions),s.reasons&&s.reasons.indexOf("obstructed")>-1&&s.percentageInView<100&&(s.onScreenGeometry.obstructions=s.onScreenGeometry.obstructions.slice(0,4),d(s.onScreenGeometry.obstructions).each((function(e,t){I.push(Math.round(t.x)+"."+Math.round(t.y)+"."+Math.round(t.width)+"."+Math.round(t.height))}))));var A=ue.isOmidForWeb()?le.calcWinDims():{width:0,height:0},S=new fe(t.data.viewport||A),T=new fe(u?s.containerGeometry:s.geometry||{x:0,y:0,width:0,height:0}),D=new fe(u?s.onScreenContainerGeometry:s.onScreenGeometry||{x:0,y:0,width:0,height:0}),O={viewport:S.getRoundedGeometry(),originalAdContainer:T.getRoundedGeometry(),computedAdContainer:D.getRoundedGeometry(),percentageInView:s.percentageInView,detectionMethod:l.DETECTION_METHODS.OMID,outOfViewReason:v(s.reasons),omidObstructions:I.join("_")};void 0===r.geometryArrived&&c.checkForViewAttachmentBasedOnAdSessionType(r,t.data.adView)&&(r.geometryArrived=!0,f.getAggregator().trigger("omidrendgeoupdate")),n.trigger(l.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,O)}}},v=function(e){var t={inactive:l.OUT_OF_VIEW_REASONS.FOCUS,viewport:l.OUT_OF_VIEW_REASONS.GEOM,clipped:l.OUT_OF_VIEW_REASONS.GEOM,obstructed:l.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:l.OUT_OF_VIEW_REASONS.FOCUS,notFound:l.OUT_OF_VIEW_REASONS.HIDDEN,hidden:l.OUT_OF_VIEW_REASONS.HIDDEN,noWindowFocus:l.OUT_OF_VIEW_REASONS.WINDOW},n=[];return e?(d(e).each((function(e,r){var i=t[r];i&&n.indexOf(n)<0&&n.push(i)})),n.join(".")):""};r.processCachedEvents=function(){if(!p){var e="video"===r.mediaType,t=r.supports&&r.supports.join().indexOf("clid")>-1,n="limited"===r.accessMode,i="full"===r.accessMode,o=n||i&&t,a=!e||r.cachedVideoEventsChecked,s=r.cachedGeometryEventsChecked;if(o&&s&&a&&r.cachedEvents.length>0){var u="o",c="o",d=0,g=0,l=0,m=!e,h=!1,v=Ne.now();if(e){var E=r.cachedStartEventIndex,I=r.cachedFirstGeometricIndex,A=r.cachedEvents[I],S=r.cachedEvents[E];A&&S&&A.timestamp>S.timestamp&&(A.timestamp=S.timestamp)}for(var T=0;T<r.cachedEvents.length;T++){for(var D=v,O=-1,y=0;y<r.cachedEvents.length;y++)!r.cachedEvents[y].alreadyOrdered&&r.cachedEvents[y].timestamp<D&&(D=r.cachedEvents[y].timestamp,O=y);if(-1!==O){var w=r.cachedEvents[O];w.alreadyOrdered=!0,"geometryChange"===w.type&&w.data&&w.data.adView?(d=w.data.adView.percentageInView,h=!0):m="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish".indexOf(w.type)>-1,c=d&&d>=50&&m?"i":"o","o"===u&&"i"===c?g=w.timestamp:"i"===u&&"o"===c?l+=w.timestamp-g:"i"===u&&"i"===c&&(l+=w.timestamp-g,g=w.timestamp),u=c}}if(p=!0,"i"===u?l+=v-g:e&&!h&&r.cachedStartEventIndex>-1&&(r.unrecoveredPlayTime=!0),l>0){"audio"===r.creativeType&&(l=Math.min(l,v-A.timestamp)),r.recoveredTime=l;var N=f.getAggregator().request("mScreenEvents");N&&N.setRecoveredTimeInSlTimes&&(N.setRecoveredTimeInSlTimes(l),r.recoveredTime=-1)}}}};return{start:function(){g=!0,void 0!==r.impressionViewabilityMeasurement&&h(r.impressionViewabilityMeasurement),u.addEventListener("geometryChange",h),g=!1,r.cachedGeometryEventsChecked=!0,r.cachedGeometryEventsReceived&&r.processCachedEvents(),f.getAggregator().on("internallyGeneratedGeometryEvent",h)},addAdContainerGeometryMeasurementChangedListener:function(e){n.on(l.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateOmidOutOfViewReasons:v}},Ut=function(){"use strict";var e=f.getAggregator().request("omidAdSessionContext");return{accepts:function(){return e&&(e.isNative||e.isLimitedSandbox)}}},Gt=function(t,n){"use strict";var r=f.getAggregator().request("omidAdSessionContext"),i=null,o=!1,a=Ne.getWindow(),s=a&&a.omid3p,u=!!(s&&d.isFunction(s.registerSessionObserver)&&d.isFunction(s.addEventListener))?s:t,c=new er,g=function(){var t=Ne.getDoc().getElementById("iasbi"+e.asid);t&&t.hasAttribute("CreativeLoaded")?(r.delayingViewabilityEvents=!1,o=!1,i&&(p(i),i=null)):Ne.setTimeout(g,50)},p=function(e){if(e&&"geometryChange"===e.type&&e.data&&e.data.adView&&("audio"!==r.creativeType||e.internallyGenerated))if(r.delayingViewabilityEvents)i=e,o||(o=!0,g());else{var t=e.data.adView.geometry,a=e.data.adView.containerGeometry,s=!!t,u=e.data.adView.measuringElement&&!!a,d=new fe({x:s&&u?t.x-a.x:0,y:s&&u?t.y-a.y:0,width:s?t.width:0,height:s?t.height:0}).getRoundedGeometry();d,void 0===r.geometryArrived&&c.checkForViewAttachmentBasedOnAdSessionType(r,e.data.adView)&&(r.geometryArrived=!0,f.getAggregator().trigger("omidrendgeoupdate")),n.trigger(l.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:d,adFound:s})}};return{start:function(){void 0!==r.impressionViewabilityMeasurement&&p(r.impressionViewabilityMeasurement),u.addEventListener("geometryChange",p),f.getAggregator().on("internallyGeneratedGeometryEvent",p)},addAdGeometryMeasurementChangedListener:function(e){n.on(l.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},Bt=function(){"use strict";var e=f.getAggregator().request("omidAdSessionContext");return{accepts:function(){return e&&!e.isNative}}},Ht=function(e,t,n){"use strict";var r;var i=function(){var t,i,o,a=e.find(),s=!1;d.isDef(a)&&null!==a?(o=!0,t={x:(i=a.getBoundingClientRect()).x||i.left,y:i.y||i.top,width:i.width,height:i.height},a.hasOwnProperty("adWasClipped")&&(t.adWasClipped=!0)):(r&&(s=!0,t={x:0,y:0,width:0,height:0}),o=!1),(o&&function(e){return!d.isDef(r)||!1!==d(e).compareTo(r)}(t)||s)&&(r=t,n.trigger(l.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:t,adFound:o}))};return{start:function(){i(),t.setInterval(i,50)},addAdGeometryMeasurementChangedListener:function(e){n.on(l.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},kt=function(e,t,n,r,i){"use strict";var o,a,s,u,c,g="videoGeometryMeasurementChanged",p=!1,m=!1,h=function(){if(!(d.isUndef(a)||d.isUndef(s)||d.isUndef(u))){c=!0;var e=i.calculateGeometricMeasurement(a,s),t=p&&m,n=p&&e.percentageInView>=50,f={windowDimensions:e.windowDimensions,containerDimensions:e.containerDimensions,adDimensions:e.adDimensions,percentageInView:e.percentageInView,detectionMethod:e.detectionMethod,isMeasurable:!0,isObstructed:e.isObstructed,sliceStatus:e.sliceStatus,isVideoPlaying:p,isVideoPlayingInFullscreen:t,isSoundOn:!0},h=e.omidObstructions;d.isDef(h)&&""!==h&&(f.omidObstructions=h),t&&(f.percentageInView=100),t||n?f.viewState=l.IN_VIEW:(f.viewState=l.OUT_OF_VIEW,f.outOfViewReason=e.outOfViewReason||l.OUT_OF_VIEW_REASONS.VIDEO),o=f,r.trigger(g,o)}},v=function(e){a=e,h()},E=function(e){s=e,h()},I=function(e){u=e;var t=e.eventType;"AdEnteredFullscreen"===t?m=!0:"AdExitedFullscreen"===t?m=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?p=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped|AdError".indexOf(t)&&(p=!1),h()};return{start:function(){f.getAggregator().trigger("addOutputItem",{output:l.MEDIA_TYPE.VIDEO_CODE},l.MEDIA_TYPE_CODE,{type:l.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(v),e.start(),t.addAdGeometryMeasurementChangedListener(E),t.start(),n.addVideoPlaybackEventListener(I),n.start()},getStrategyName:function(){return l.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){r.on(g,e)},isMeasurable:function(){return c}}},jt=function(e,t,n){"use strict";var r;var i=function(){var t,i,o,a=e.find(),s=!1;d.isDef(a)?(o=!0,t={x:(i=a.getBoundingClientRect()).left,y:i.top,width:i.width,height:i.height},a.hasOwnProperty("adWasClipped")&&(t.adWasClipped=!0)):(r&&(s=!0,t={x:0,y:0,width:0,height:0}),o=!1),(o&&function(e){return!d.isDef(r)||!1!==d(e).compareTo(r)}(t)||s)&&(r=t,n.trigger(l.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:t,adFound:o}))};return{start:function(){i(),t.setInterval(i,50)},addAdGeometryMeasurementChangedListener:function(e){n.on(l.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},qt=function(e,t,n){"use strict";return{accepts:function(){var r=d(e.mraid).isObj();return n&&(r||t)},isImmediate:function(){return!0},supportsAdContainerGeometry:function(){return!1},start:function(){}}},Yt=function(e,t){"use strict";var n="mraidScreenLocationChanged",r="mraid.js",i=!1,o=function(){var r,i,o;try{r=e.mraid.isViewable()?100:0;var a={x:0,y:0,width:0,height:0};o=100===r?[!0]:[!1],i={windowDimensions:a,adDimensions:a,containerDimensions:a,shouldDelegateToDomBasedViewability:!1,isMeasurable:!0,isObstructed:!1,isHidden:!1,percentageInView:r,detectionMethod:l.DETECTION_METHODS.MRAID,sliceStatus:o},t.trigger(n,i)}catch(e){}},a=function(){var t=e.mraid;!0,o(),t.addEventListener("viewableChange",o)},s=function(){var t=e.mraid;(function(){var t=e.mraid;return d(t).isObj()&&d.isFunction(t.isViewable)})()&&(i=!0,"loading"===t.getState()?t.addEventListener("ready",(function(){a()})):a())},u=function(){i||s()};return{start:function(){var t;t=!0,(d.isDef(e.mraid)||le.containsScriptTagWithSrc(r))&&(t=!1),f.getAggregator().trigger("addOutputItem",{output:d.stringifyTriState(t)},"mi",{type:"impression"}),t?f.getAggregator().trigger("exec",r,u):s()},addScreenLocationChangedListener:function(e){t.on(n,e)}}},Kt=function(e,t,n){"use strict";var r={};return n&&d(n).map((function(n,i){var o,a;r[n]=(o=i,a=d.noop,t.bootstrapOn("useViewabilityNotification")&&(a=function(){e.skipAsFraudulent()||f.getAggregator().trigger("notify",o)}),a)})),{getCallbacks:function(){return r}}},zt=function(){"use strict";var t=new en({tiv:[1e4]}),n=d([l.IN_VIEW,l.PARTIAL_VIEW_PLUS]);return{timeInViewThresholds:t,type:l.DT_CODES.FULLY_INVIEW,rts:{},isInView:function(e){var t=Ne.max(e.fullPercentInView||0,e.percentInView);return n.contains(e.viewState)&&100===t},applies:function(t,n){return t.on("abcAudit")&&925955==e.anId&&n.usesIASFullyInViewCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},Xt=function(t,n){"use strict";var r,i,o,a=t.on("everySecond"),s=n.isVideo(),u=[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3],c=[1e3,5e3,15e3,3e4,45e3,6e4,9e4],d=[2e3,5e3,15e3],g=function(e,t){var n=t?"viewStateIgnoringRender":"viewState";return-1!==(l.IN_VIEW+"|"+l.PARTIAL_VIEW_PLUS).indexOf(e[n])};return a?(r=new en({tiv:u}),i=u[0]):s?(r=new en({tiv:d}),i=d[0]):(r=new en({tiv:c}),i=c[0]),(o={5e3:e._onInViewMRC5,15e3:e._onInViewMRC15})[i]=e._onInViewMRC,{timeInViewThresholds:r,type:l.DT_CODES.PING,rts:o,isInView:g,isInViewIgnoringRender:function(e){return g(e,!0)},applies:!0,minUnit:1e3,shouldIncludeSound:!1,sendOtherwiseInViewSignal:!0}},Jt=function(e,t){"use strict";var n,r=e.on("everySecond"),i=t.isVideo(),o=t.usesIASFullyInViewCustomMetric(),a=function(e){var t=Ne.max(e.fullPercentInView||0,e.percentInView);return-1!==(l.IN_VIEW+"|"+l.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t};return n=new en(r?{tiv:[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3]}:i?{tiv:[2e3,5e3,15e3]}:{tiv:[1e3,5e3,15e3]}),f.getAggregator().provide("isFullyInViewProvider",{isFullyInView:a}),{timeInViewThresholds:n,type:l.DT_CODES.FULLY_INVIEW,isInView:a,applies:function(){return o},minUnit:1e3,shouldIncludeSound:!1}},Qt=function(t,n){"use strict";return{timeInViewThresholds:new en({tiv:[0]}),type:l.DT_CODES.FULLY_INVIEW,rts:{0:e._onInViewFull},isInView:function(e){var t=Ne.max(e.fullPercentInView||0,e.percentInView);return-1!==(l.IN_VIEW+"|"+l.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t},applies:function(){return n.usesGroupMCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},Zt=function(t,n){"use strict";var r,i,o,a,s,u,c=Ne.getMaxNumber(),g=n.isVideo(),f=t.id,p=t.sound&&"on"===t.sound,m=!(t.soundExcl&&"groupm_native"===t.soundExcl&&e.groupm_native_publisher)&&p,h=function(e,n){if(!e.adDimensions)return!1;var r,i,o,a,s=n?"percentInViewIgnoringRender":"percentInView",u=e.adDimensions.area(),f=1===e.tabHidden,p=Ne.max(e.fullPercentInView||0,e[s]);return r=d(t.thresholds).findFirst((function(e,t){if(i=t.lb||0,o=t.ub||c,u>=i&&u<=o)return!0})),a=!f&&p>=r.piv,function(e){return e.method==l.DETECTION_METHODS.AD_PLACEHOLDER}(e)&&function(e){return 0===e.tiv}(t)&&(a=!1),g&&(a=a&&e.isVideoPlaying,m&&(a=a&&e.isSoundOn)),a};return r=new en(t),i=t.qiv,o={},d.isDef(e.rts)&&d.isDef(e.rts[f])&&(s=r&&d.isFunction(r.getTimeThresholds)&&r.getTimeThresholds()[0],u=d.isDef(s)?d.isFunction(s.getTimeInViewForRts)&&s.getTimeInViewForRts():l.RTS_KEY_FOR_VQ,o[u]=e.rts[f]),a=t.minunit?1e3*t.minunit:1e3,{timeInViewThresholds:r,qivThreshold:i,type:l.DT_CODES.CUSTOM,rts:o,isInView:h,isInViewIgnoringRender:function(e){return h(e,!0)},metricId:f,minUnit:a,thresholdType:t.thresholdType,shouldIncludeSound:m,sendOtherwiseInViewSignal:!0}},$t=function(e,t,n){"use strict";var r="groupmCM",i=t.isVideo()?"video":"display",o=t.isMobileApp()?"app":"web",a=t.isDeviceTypeGroupMobile()?"mobile":"desktop",s=d(e.customViewability).isArray()&&e.customViewability.length>0,u=n.on("customMetric"),c=n.on(r),g=function(e,t){var n,s,u,g;return n=d(t.mediaTypes).contains(i),s=d(t.distributionChannels).contains(o),u=!d.isDef(t.deviceGroups)||d(t.deviceGroups).contains(a),g=!Le.contains(t.id,"fiv"),Le.contains(t.id,r)&&(g=c),g&&n&&s&&u};return{resolve:function(){var t,n=[];return u&&s&&(t=d(e.customViewability).filter(g),d(t).each((function(e,t){n.push(t)}))),n}}},en=function(e){"use strict";var t=[];if(d(e.tiv).isArray())d(e.tiv).each((function(e,n){t.push(new nn(n))}));else if("string"==typeof e.tiv){var n=e.tiv.split("|"),r=new tn;t.push(new rn(r,parseInt(n[1].replace("%")))),t.push(new nn(1e3*parseInt(n[0])))}else d.isDef(e.tiv)&&t.push(new nn(1e3*e.tiv));return{getTimeThresholds:function(){return t}}},tn=function(){"use strict";var e=f.getAggregator().request("omidAdSessionContext").adDuration||-1,t=function(t){if(!n()){var r=d.isDef(t.ad_duration)?t.ad_duration:t.adRemainingTime;(function(e){return void 0!==e&&e>0})(r)&&(e=Math.ceil(r))}},n=function(){return e>0};return f.getAggregator().on({omidAdDuration:t,adVideoStart:t,adDurationChange:t}),{getAdDuration:function(){return e},isVideoDurationResolved:n}},nn=function(e){"use strict";var t,n=0;return e>0&&(n=e/1e3),t=1e3*n,{getTimeInViewInSeconds:function(){return n},getTimeInViewForRts:function(){return t}}},rn=function(e,t){"use strict";var n=0,r=!1,i=function(e){n=0,t>0&&e>0&&(n=Ne.ceil(e*(t/100)))};return i(15),{getTimeInViewInSeconds:function(){return!r&&e.isVideoDurationResolved()&&(r=!0,i(e.getAdDuration())),n},getTimeInViewForRts:function(){return 0}}},on=function(e,t,n,r){"use strict";var i=r?"isInViewIgnoringRender":"isInView",o=function(r){e[i](r)?(t.mark(),n.doEligibleJobs(t.getTotalTime())):t.stop()};return{start:function(){e.addMeasurementChangedListener(o)}}},an=function(e,t,n,r){"use strict";var i,o,a,s,u,c,g=function(e,t){return!t&&e},l=function(e,t,n,r){return!!r||!t&&(e||r)&&n},p=function(e){var g,f=0,p=1===e.tabHidden,h=e.isVideoPlaying,v=e.isSoundOn,E=e.isVideoPlayingInFullscreen;d(e.sliceStatus).each((function(e,t){a(t,p,h,E)?i[e].mark():i[e].stop(),s[e]=i[e].getTotalTime()})),m("slcVt",s),r&&(d(e.sliceStatus).each((function(e,t){!function(e,t,n,r,i){return l(e,t,n,r)&&i}(t,p,h,E,v)?o[e].stop():o[e].mark(),u[e]=o[e].getTotalTime()})),m("slcVtVol",u)),c=r&&t&&t.shouldIncludeSound?u:s,g=d(c).findFirst((function(e,t){return f=Math.max(f,t),t<=0})),d.isUndef(g)&&n.doEligibleJobs(f)},m=function(e,t){var n={};n[e]=t,f.getAggregator().trigger("addOutputItem",{output:n},{minDt:!1})},h=function(e){d.isUndef(e.sliceStatus)||(i||function(e){!i&&e.sliceStatus&&(i=[],o=[],s=[],u=[],d(e.sliceStatus).each((function(e){i.push(new z(1)),s.push(0),r&&(o.push(new z(1)),u.push(0))})))}(e),p(e))};return{start:function(){a=r?l:g,e.addMeasurementChangedListener(h)}}},sn=function(e,t,n){"use strict";return{isInView:e.isInView,isInViewIgnoringRender:e.isInViewIgnoringRender,addMeasurementChangedListener:function(e){t.addMeasurementChangedListener(e,n)}}},un=function(e,t,n,r,i,o,a,s,u,c){"use strict";var d="measurementChanged",g=!1,f=ue.isVideo(),p=o.request("mobileApp"),m=b().applies(n,i),h=n.browserIs(l.BROWSERS.GECKO)||m,v=ue.xDomainIframe&&!h,E=new Y(10),I=function(){i.on("viewabilityready")&&!g&&(r.send(l.DT_CODES.VIEWABILITY_READY),o.trigger("measurable"),g=!0)};o.on("delayedViewabilityReady",(function(){A(),I()})),o.on("delayedViewabilityReadyCallOnly",I);var A=function(n){n=n||!1;try{var r,i;E.start(),t.hasMeasurementStrategy()?i=(p.isMobileAppEnvironment()||ue.isOmidNative())&&t.supportsAdContainerGeometry()?t.getScreenLocationInfo({},n):t.getScreenLocationInfo(s.collect(),n):(i=s.collect(),p.isMobileAppEnvironment()?(i.viewState=l.NA,i.method=l.NA,i.percentInView=l.NA):v&&(i.viewState=l.NA,i.percentInView=l.PIV_NA),f&&c.setVideoSpecificScreenEventFields(i)),r=u.registerLocation(i),n||e.trigger(d,i),E.stop();var g=Ne.round(E.getTime()/E.getCount());return a.addItem({output:g},"lt",{type:l.DT_CODES.UNLOAD}),r}catch(e){o.trigger("error",l.ERROR_CODES.CHECK_SCREEN_LOC)}};return{checkScreenLoc:A,stringifyPingTimes:function(){return i.on("everySecond")?"1-2-3-4-5-6-7-8-9-10-11-12-13-14-15":f?"2-5-15":"1-5-15"},isImmediatelyMeasurable:function(){var e=ue.xDomainIframe,r=e&&n.browserIs(l.BROWSERS.WEBKIT),i=e&&n.browserIs(l.BROWSERS.MSEDGE),o=!r&&!i&&!(e&&m);return p.isMobileAppEnvironment()?t.isMeasurable():o},requiresDelayedViewabilityEvent:function(){p.isMobileAppEnvironment()&&t.hasMeasurementStrategy()&&t.requiresDelayedViewabilityEvent()},addMeasurementChangedListener:function(t){e.on(d,t)}}},cn={name:"viewabilityLoopLifecycle",dependencies:["viewability","features","context","browser"],creator:function(n,r,i,o){"use strict";var a,s=dn(i),u=[new fn,new gn(s)],c=function(e){"sessionFinish"===e.type&&(f.getAggregator().trigger("addOutputItem",{output:ue.getTagTime()},"osef"),f.getAggregator().trigger("adSessionComplete"))},g=function(){var e,t=f.getAggregator().request("mobileApp").isMobileAppEnvironment();f.getAggregator().request("ids").impressionIsIdentifiable()&&(a=function(e,t){var n,r=t,i=function(t){n||(t&&e(),n=Ne.setInterval(e,r))},o=function(t){n&&(t&&e(),Ne.clearInterval(n),n=null)};return{start:i,stop:o,updateFrequency:function(e,t){r=e,n&&(o(),i(t))}}}(n.checkScreenLoc,s.getPollingFrequency()),(e=d(u).findFirst((function(e,t){return t.applies(o,r,i)?t:void 0})))?e.start(a):a.start(!0),ue.isOmid()?f.getAggregator().request("omidVerificationClient").registerSessionObserver(c,"IAS"):p(t?"MOBILE_APP_TEST_EVENT_AD_SESSION_COMPLETE":"beforeunload"))},p=function(e){ce.addEvent(t,e,(function(){f.getAggregator().trigger("adSessionComplete")}),!1)},m=function(){i.isVideo()&&!i.isOmid()&&h(),f.getAggregator().trigger("unload"),a&&a.stop(),f.getAggregator().trigger("endAdSession"),f.getAggregator().trigger("stopAdTalk")},h=function(){var t=new de(l.DT_CODES.VIDEO_EVENTS);f.getAggregator().trigger("sendDt",t.callType,t.enumerator,(function(){var t={id:e.videoId,msg:"unloadComplete",messageType:"misc"};Ne.getWindow().postMessage(JSON.stringify(t),"*")}))};f.getAggregator().once("startViewabilityLoop",g),f.getAggregator().once("adSessionComplete",m)},settings:{tier:l.TIERS.VIEWABILITY}},dn=function(e){"use strict";return{getPollingFrequency:function(){return e.isVideo()?200:100},getOptimizedPollingFrequency:function(){return 1e3}}},gn=function(e){"use strict";var t,n,r,i,o,a=!0,s=function(u){if(r&&!o&&u<1)return o=!0,void Ne.setTimeout((function(){s(u)}),1e3);i=u<1,!n&&i?(n=!0,t.updateFrequency(e.getOptimizedPollingFrequency(),a)):n&&!i&&(n=!1,t.updateFrequency(e.getPollingFrequency(),a))},u=function(e){s(e.percentInView)};return{applies:function(e,t,n){var i=t.on("viewabilityOptimization");return r=n.usesZeroPivCustomMetric(),i},start:function(e){(t=e).start(a),f.getAggregator().on("IOPivChange",s),f.getAggregator().on("newScreenEvent",u)}}},fn=function(){"use strict";var e,t,n,r=!0,i=!1,o=function(a){return n&&!i&&a<1?(i=!0,void Ne.setTimeout((function(){o(a)}),1e3)):(a<1?(e||t.stop(r),e=!0):e&&(e=!1,t.start(r)),e)},a=function(){t.start(r)};return{applies:function(e,t,r){n=r.usesZeroPivCustomMetric();var i=b();return t.on("viewabilityOptimization")&&i.applies(e,t,r)&&r.isDeviceTypeGroupMobile()},start:function(e){(t=e).start(r),f.getAggregator().on("IOPivChange",o),f.getAggregator().on("nodesAdded",a)}}},ln=function(r,i,o,a,s,u){"use strict";var c,g,p,m,h,v,E,I,A,S,T=le.getElementsWindow(i),D=(le.getElementsDocument(i),f.getAggregator().provide("iframeCalculatorHelper",Ln(T)),Cn(i,a)),O=l.AD_IDENTIFIER+"-"+e.asid,y=!1,w=fe({}),N=ue.isDeviceTypeGroupMobile(),_=ue.usesGroupMCustomMetricMobilePassThru(),R=function(){return c||(c=D.calcDims(i,a,p),e.autotagSizeSet&&e.adWidth>1&&e.adHeight>1&&(c.set("width",e.adWidth),c.set("height",e.adHeight)),C()?M(c):o===l.DETECTION_METHODS.AD_PLACEHOLDER&&c.treatAsPlaceholder()),c},C=function(){return o===l.DETECTION_METHODS.VIDEO&&ue.embedded},M=function(e){var t=new fe(i).getRounded();try{e.set("width",t.width),e.set("height",t.height)}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.VIDEO_IN_IFRAME_DIMS_CALC)}},V=function(){return!1},F=function(){var e,n=x(),i=D.getClippedDims&&(C()||ue.isCeltra());return n?g=p.getPiv():d.isUndef(g)&&(e=!N&&(ue.friendly||d.isDef(t.mozInnerScreenX))&&s.on("offscreen"),I=R(),E=new fe(le.calcWinDims()),v=new fe(e?le.calcMonDims():{}),A=i?D.getClippedDims():w,g=r.calcPercentInView(I,E,v,A)),g},P=function(){return r.calcInitialViewState(F())},L=function(){return i!==t&&R().isHidden()},x=function(){var e=ue.xDomainIframe&&y,t=N&&y&&p.isReady();return e||t};return function(){var e=Ne.getWindow(),t=Ne.getDoc(),n=i===e,a=t.body,s=f.getAggregator(),u=new b,c=s.request("browser"),d=s.request("features"),g=s.request("context"),v=!ue.xDomainIframe,E=n&&a?t.body:i;if(S=ue.friendlyIframe?e.frameElement:E,ce.addEvent(E,"click",(function(){f.getAggregator().trigger("adComponentClicked")})),ce.addEvent(E,"mouseover",(function(){f.getAggregator().trigger("adComponentMousedOver")})),u.applies(c,d,g)){if((p=ct(i,v)).start(),y=!0,_&&o!==l.DETECTION_METHODS.AD_PLACEHOLDER){var I=new Kn(R().getRounded()),A=new Zn,T=new $n(p.getObservedNode(),A);m=new Xn(I.getSlices(),T)}}else _&&(h=new Jn(r))}(),{mark:function(){le.setAttributeOf(S,O,"")},cleanup:function(){le.removeAttributeOf(S,O)},isNode:function(e){return i===e},isHidden:L,isObstructed:V,getDims:R,getPercentInView:F,getLocationState:P,getOnPageViewability:function(){return L()?l.OUT_OF_VIEW:P()},getDetectionMethod:function(){return o},getContainerDims:function(){return D.allowsOptimization?c:fe(a)},refresh:function(){c=void 0,g=void 0,v=void 0,E=void 0,I=void 0,A=void 0,u&&function(){var e,r;if(!ue.isDomless()&&(r=i.parentNode)){for(;i!==t&&r&&r!==n&&!e;)e=r===a,r=r.parentNode;e||(a=i.parentNode)}}()},getAdNode:function(){return i},getSliceStatus:function(){var e;return m&&m.isReadyToMeasure()?e=m.getSliceStatus():ue.friendly&&h&&d.isDef(I)&&(e=h.getSliceStatus(I,E,v,A)),e}}},pn=function(e,t){"use strict";var n,r=[],i=d([]),o=function(){return r[0]&&r[0].getDetectionMethod()===l.DETECTION_METHODS.AD_PLACEHOLDER},a=function(a,s,u,c){var g,p=o()||0===r.length,m=ln(e,a,s,u,t,c);o()&&(g=r.shift(),i=d(r),g.cleanup(),n=void 0),r.push(m),i=d(r),p&&m.mark(),p&&s!==l.DETECTION_METHODS.AD_PLACEHOLDER&&f.getAggregator().trigger("primaryadfound",m)},s=function(){if(n)return n;var e,t=!1,r=0,o=0;return i.each((function(n,i){var a,s=i.getDims();s.hasValidDims()&&(e=i.getPercentInView(),t=e!==l.NA,a=s.area(),r+=a,o+=e/100*a)})),n={totalArea:r,totalInView:o,hasMeasurement:t}},u=function(e){var t=f.getAggregator().request("adRenderStatus");return!e&&!t},c=function(e){var t,n=s();return t=n.hasMeasurement?Ne.round(n.totalInView/n.totalArea*100):l.PIV_NA,(isNaN(t)||u(e))&&(t=0),t},g=function(n){var r=t.bootstrapOn("mobOrTab"),i=s().totalArea>=l.MRC_LARGE_AD_SIZE&&t.on("largeAd")&&!r&&!ue.isVideo();return e.calcInitialViewState(c(n),i)},p=function(e){var t=-1;return i.each((function(n,r){r.isNode(e)&&(t=n)})),t},m=function(e){return function(){return r[0]&&r[0][e]()}};return f.getAggregator().on("adComponentAdded",(function(e){d(e).each((function(e,t){-1===p(t)&&a(t,l.DETECTION_METHODS.MUTATION)}))})),f.getAggregator().on("adComponentRemoved",(function(e){d(e).each((function(e,t){var n=p(t);n>-1&&r.splice(n,1)}))})),{getDims:m("getDims"),isObstructed:m("isObstructed"),getDetectionMethod:m("getDetectionMethod"),getContainerDims:m("getContainerDims"),getViewState:g,getViewStateIgnoringRender:function(){return g(!0)},getPercentInView:c,getPercentInViewIgnoringRender:function(){return c(!0)},isHidden:m("isHidden"),isUsingPlaceholder:o,hasAd:function(){return!!r.length},refresh:function(){n=void 0,i.each((function(e,t){t.refresh()}))},addAdComponent:a,clearCollection:function(){i.each((function(e,t){t.cleanup()})),r=[],i=d([]),n=void 0},getOutOfViewReasons:function(e){var t,i=[],o=r[0],a=l.OUT_OF_VIEW_REASONS;return o&&(t=n||g(),u(e)?i.push(a.RENDER):t!==l.OUT_OF_VIEW&&t!==l.PARTIAL_VIEW_MINUS||i.push(a.GEOM),o.isHidden()&&i.push(a.HIDDEN),o.isObstructed()&&i.push(a.OBSTRUCTION)),i},getComponentCount:function(){return r.length},getComponents:function(){return r},getSliceStatus:m("getSliceStatus")}},mn=function(){"use strict";var e,t,n,r=function(e){e?e&&n&&(Ne.execAtEndOfThread((function(){f.getAggregator().trigger("delayedViewabilityReadyCallOnly")})),n=!1):n=!0};return{detectionMethod:function(){return t&&t.detectionMethod},isApplicable:function(e){return e.isBustedIframe()},find:function(){t=t||Tn();var n=le.crossQuerySelector(Tn().getCssSelector(),!0);return e=n?n.parentNode:e,r(n),n},getAdContainer:function(){return e},allowForAdContainerChange:!0}},hn=function(t,n){"use strict";var r,i=t||e.contextNode.parentNode,o=le.findChildWithLargestContent(i,n);return le.getNodeArea(o)>1&&!o[l.IAS_DETECTOR]&&(r=o),r},vn=function(){"use strict";var e=f.getAggregator().request("omidAdSessionContext");return{usePlaceholder:!0,detectionMethod:l.DETECTION_METHODS.OMID,isApplicable:function(){return ue.isOmidForWeb()&&!ue.isOmidNative()},find:function(){return e.element||e.queuedOutputItems.push({code:"oea",value:!0}),e.element},getAdContainer:function(){return e.element&&e.element.parentNode},allowForAdContainerChange:!0}},En=function(){"use strict";return{detectionMethod:l.DETECTION_METHODS.IFRAME,find:function(){return t},isApplicable:function(){return ue.embedded},getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},In=function(){"use strict";var e,t=Ne.getDoc().scripts,n=function(){return e||(e=d(t).findFirst((function(e,t){return Le.contains(t.src,"servedby.flashtalking")}))),e};return{detectionMethod:l.DETECTION_METHODS.BUSTED_IFRAME_FLASHTALKING,isApplicable:function(e,t){return t.on("bustediframe")&&e.embedded&&void 0!==n()},getCssSelector:function(){var t,r=function(){var t,r=e||n();return r&&r.src&&(t=r.src.match(/;(\d+);/)[1]),t}(),i="#ftdiv"+r,o="#ftframe"+r;try{t=d([i,o]).findFirst((function(e,t){return le.crossQuerySelector(t,true)}))}catch(e){}return t}}},An=function(){"use strict";var e="_tpi";return{isApplicable:function(t,n){var r;try{r=le.getFrameId()}catch(e){}return n.on("yieldmo")&&r&&Le.contains(r,e)&&le.crossQuerySelector("[data-href*='ads.yieldmo.com']",!0)},getCssSelector:function(){return"[id='"+le.getFrameId().replace(e,"")+"']"},detectionMethod:l.DETECTION_METHODS.BUSTED_IFRAME_YIELDMO}},Sn=function(){"use strict";var e,t,n=Ne.getDoc(),r=function(){var t,r,i="ebDiv";return e||(r=(t=le.querySelector(n,"div[id*='ebDiv']"))&&t.id,e=r&&r.split(i)[1]),e},i=function(){var e=le.crossQuerySelector("iframe[id*='ebAd'][id$='"+r()+"']",!0);return e&&e.id},o=function(){var e,n;return t||(e=i()?i():(n=le.crossQuerySelector("iframe[id*='ebBannerIFrame_'][id$='"+r()+"']",!0))&&n.id,t=e&&"#"+e),t};return{detectionMethod:l.DETECTION_METHODS.BUSTED_IFRAME_SIZMEK,isApplicable:function(e,t){var n,i,a=Ne.getWindow(),s=e.friendlyIframe&&Ne.getWindow().frameElement,u=s&&fe(s).isOneByOne(),c=(n=["bs.serving-sys.com/BurstingPipe/adServer","secure-ds.serving-sys.com/BurstingCachedScripts"],i=Ne.getDoc().scripts,d(i).findFirst((function(e,t){return d(n).findFirst((function(e,n){return Le.contains(t.src,n)}))}))),g=a.EBG&&a.EBG.ads&&!d(a.EBG.ads).isEmpty();return t.on("sizmek")&&c&&g&&u&&r()&&o()},getCssSelector:o}},Tn=function(){"use strict";var e,t=f.getAggregator().request("features");return e||(e=[Sn(),An(),In()]),d(e).findFirst((function(e,n){return n.isApplicable(ue,t)}))},Dn=function(){"use strict";var e,t=function(){Ne.execAtEndOfThread((function(){f.getAggregator().trigger("delayedViewabilityReadyCallOnly")}))};return{usePlaceholder:!1,detectionMethod:l.DETECTION_METHODS.VENDOR_CELTRA,isApplicable:function(e,t){return t.on("celtra")&&e.isCeltra()},find:function(){var n,r=On().find();return r&&r.celtra&&r.celtra.loaded&&(n=r.celtra.viewabilityObservee,e=le.getElementsWindow(n).frameElement||n.parentNode,t()),n},getAdContainer:function(){return e},allowForAdContainerChange:!1}},On=function(){"use strict";var t,n="celtra-ad-v3",r="celtra-ad-v4",i=function(){var i,o=e.contextNode.parentNode;return o&&(Le.contains(o.className,n)||Le.contains(o.className,r))?t=o:(i=o&&(le.querySelector(o,".celtra-ad-v3")||le.querySelector(o,".celtra-ad-v4")))&&(t=i),t};return{find:i,isApplicable:function(){return void 0!==i()}}},yn=function(){"use strict";var t=f.getAggregator().request("mobileApp");return{usePlaceholder:!0,detectionMethod:l.DETECTION_METHODS.AD_HUNT,isApplicable:t.isMobileAppEnvironment,find:function(){return(e=le.findChildWithLargestContent(Ne.getDoc().body))&&e.hasValidSizeForMobileApp&&!e[l.IAS_DETECTOR]?e:void 0;var e},getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}};const wn=new class{constructor(){this.cachedIsFoundOnPage=!1}getDocument(){let e;try{e=Ne.getDoc()}catch(e){}return e}get isIE11(){const e=this.getDocument();return e&&e.documentMode}hasBrowserSupport(){let e=!1;const t=this.getDocument(),n=!ue.isDomless(),r=!(this.isIE11||!t||"function"!=typeof t.body.attachShadow);return n&&r&&(e=!0),e}isFoundOnPage(e){const t=Ne.getDoc(),n=e||t.body;let r=!1;if(this.cachedIsFoundOnPage)r=!0;else if(this.hasBrowserSupport())if(n.shadowRoot)r=!0,this.cachedIsFoundOnPage=!0;else{const e=n.querySelectorAll("*");for(let t=0;t<e.length;t++){const n=e[t];if(n&&n.shadowRoot){r=!0,this.cachedIsFoundOnPage=!0;break}}}else r=!1;return r}querySelector({customRootElement:e,selector:t}){const n=Ne.getDoc(),r=e||n.body;let i;const o=e=>{const n=t&&t.replace("#","");if(!i)for(let t=0;t<e.length;t++){const r=e[t];r&&r.id===n&&(i=r),r&&r.shadowRoot&&o(r.shadowRoot.querySelectorAll("*"))}};return r.shadowRoot&&o(r.shadowRoot.querySelectorAll("*")),o(r.querySelectorAll("*")),i}};var Nn=function(){"use strict";var t,n=function(e){var t=d.isFunction(e.contextNode.getAttribute)&&e.contextNode.getAttribute("data-ias-container");return t&&"#"+t||e._cl_adpath},r=function(){var t=f.getAggregator().request("features"),n=e&&4===e.integration;return!t.on("forceKeepGoogleAdNode")||!n};return{getAdSelectorId:n,detectionMethod:l.DETECTION_METHODS.SPECIFIED_AD,isApplicable:function(){return ue.isSpecifiedAd()},find:function(){var i=n(e),o=le.crossQuerySelector(i),a=ue.isPageOnShadowDomWhitelist(),s=function(e){return r()&&le.getNodeArea(e)<1}(o);return o?(t=le.getParent(o),s&&(t=o,o=le.findElementsWithSize(o))):a&&wn.isFoundOnPage()&&(o=wn.querySelector({selector:i}),t=le.getParent(o)),o},getAdContainer:function(){return t},allowForAdContainerChange:!0,shouldValidateAdNode:r}},_n=function(){"use strict";var t;return{detectionMethod:l.DETECTION_METHODS.SPECIFIED_AD_COMPOUND,isApplicable:function(){return ue.isCompoundAd()},find:function(){var n,r,i=[];return(n=e._cl_adpath,/\[(.*)\]/.exec(n)[1].split(",")).forEach((function(e){(r=le.crossQuerySelector(e))&&(t=le.getParent(r),le.getNodeArea(r)<1&&(t=r,r=le.findElementsWithSize(r))),i.push(r)})),i},getAdContainer:function(){return t},allowForAdContainerChange:!0}},Rn=function(){"use strict";return{usePlaceholder:!0,detectionMethod:l.DETECTION_METHODS.AD_HUNT,isApplicable:function(){return!0},find:hn,getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},bn=function(){"use strict";return{detectionMethod:l.DETECTION_METHODS.VIDEO,find:f.getAggregator().request("video").findAdNode,isApplicable:ue.isVideo,getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},Cn=function(e,t){"use strict";var n,r,i=[Fn(),Vn(),Mn()];return r=d(i).findFirst((function(n,r){return r.isApplicable(e,t)})),(n=Pn()).isApplicable(t)&&(n.setBaseStrategy(r),r=n),r},Mn=function(){"use strict";return{calcDims:function(e,t){var n,r,i=new fe(e);return le.isClippable(e,t)&&(n=le.getClippedDimensions(e,t),r=i.getRounded(),i.set("height",n.height<r.height?n.height:r.height||1),i.set("width",n.width<r.width?n.width:r.width||1)),i},allowsOptimization:!1,isApplicable:function(e){var t=(ue.isSpecifiedAd()||ue.isBustedIframe())&&le.nodeIsInWindow(e,Ne.getTop()),n=!le.elementIsEmbedded(e);return t||n}}},Vn=function(){"use strict";var e=f.getAggregator().request("iframeCalculatorHelper");return{calcDims:e.calcDims,getClippedDims:e.getClippedDims,allowsOptimization:!0,isApplicable:function(e){return!(ue.isSpecifiedAd()||ue.isBustedIframe())&&le.elementIsEmbedded(e)}}},Fn=function(){"use strict";var e=f.getAggregator().request("iframeCalculatorHelper");return{calcDims:function(t){var n=e.calcDims(),r=new fe(t).getRounded();return n.set("height",r.height),n.set("width",r.width),n},getClippedDims:e.getClippedDims,allowsOptimization:!1,isApplicable:function(e,t){var n=(ue.isSpecifiedAd()||ue.isBustedIframe())&&ue.embedded&&!le.nodeIsInWindow(t,Ne.getTop()),r=ue.isCeltra()&&le.elementIsEmbedded(e);return n||r}}},Pn=function(){"use strict";var e;return{calcDims:function(t,n,r){var i=d.isDef(r)?r.getAdNodeDimensions():void 0;return e&&d.isUndef(i)&&(i=e.calcDims(t,n)),i},isApplicable:function(e){var t=b(),n=f.getAggregator(),r=n.request("browser"),i=n.request("features"),o=n.request("context");return o.isDeviceTypeGroupMobile()&&t.applies(r,i,o)},allowsOptimization:!1,setBaseStrategy:function(t){e=t}}},Ln=function(e){"use strict";e=e||Ne.getWindow();var t=function(n,r){n=n||e,r=r||{top:0,left:0,width:Ne.getMaxNumber(),height:Ne.getMaxNumber()};for(var i,o=n.parent.frames,a=!1,s=0,u=o.length;s<u;s++)if(o[s]==n){i=o[s],a=!0;break}if(a){var c=le.getRect(i.frameElement);r.left+=c.left,r.top+=c.top;try{r.width=Ne.min(r.width,c.width),r.height=Ne.min(r.height,c.height)}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.GET_AD_DIMENSIONS)}n!==Ne.getTop()&&t(n.parent,r)}return r},n=function(){var n,r,i,o,a,s,u,c,g,p,m,h={};try{p=Ne.getMaxNumber(),m=Ne.getMaxNumber(),ue.friendly?(s=(o=t()).left,u=o.top,p=o.width,m=o.height,c=(a=le.browserWindowPosition()).scrX+s,g=a.scrY+u):d.isDef(e.mozInnerScreenX)&&(c=Ne.round(e.mozInnerScreenX),g=Ne.round(e.mozInnerScreenY)),h={scrX:c,scrY:g,iFrameClippingWidth:p,iFrameClippingHeight:m},d.isDef(e.innerWidth)?(r=e.innerWidth,i=e.innerHeight):e.frameElement&&d.isDef(e.frameElement.clientWidth)&&(r=e.frameElement.clientWidth,i=e.frameElement.clientHeight),n={width:r,height:i},h.height=n.height,h.width=n.width}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.GET_AD_DIMENSIONS)}return h};return{calcDims:function(){return new fe(n())},getClippedDims:function(){var e=n();return new fe({scrX:e.scrX,scrY:e.scrY,width:e.iFrameClippingWidth,height:e.iFrameClippingHeight})}}},xn=function(){"use strict";return{createInstance:function(e,t,n){return ue.isDomless()?new Un:new Wn(e,t,n)}}},Wn=function(r,i,o){"use strict";var a,s,u=f.getAggregator().request("browser"),c=e&&e.contextNode&&e.contextNode.parentNode?e.contextNode.parentNode:null,g=pn(i,o),p=function(){var e,t,n,r;a=a||function(e,t){var n=[_n(),Nn()],r=[vn(),yn(),bn(),mn(),Dn(),En(),Rn()],i=n.concat(r);return d(i).findFirst((function(n,r){return r.isApplicable(e,t)}))}(ue,o),e=a.find(),ue.friendlyIframe&&ue.isBlockingSizmekTag()&&I(e),!e&&a.usePlaceholder?(m(),v()):e&&(n=d(e).isArray()?e:[e],t=a.getAdContainer(),r=a.allowForAdContainerChange,d(n).each((function(e,n){g.addAdComponent(n,d.resolve(a.detectionMethod),t,r)})))},m=function(){var t;g.hasAd()||(t=le.getPlaceholderSpan(),c.insertBefore(t,e.contextNode.nextSibling),g.addAdComponent(t,l.DETECTION_METHODS.AD_PLACEHOLDER,le.getParent(t)))},h=function(e,t){var n=!1;d(e).each((function(e,t){t.addedNodes&&t.addedNodes.length>0&&(n=!0)})),n&&(f.getAggregator().trigger("nodesAdded"),t.disconnect())},v=function(){ue.isDeviceTypeGroupMobile()&&u.hasMutationObserver()&&Ne.getMutationObserver(h).observe(c,{childList:!0})},E=function(e,t){var n,r=!1;d(e).each((function(e,t){switch(t.type){case"childList":d(t.addedNodes).each((function(e,t){t.nodeName&&"script"===t.nodeName.toLowerCase()&&(r=!0)}));break;case"attributes":t.target.height*t.target.width<=1&&(r=!0)}})),r&&((n=Sn()).isApplicable(ue,o)&&(t.disconnect(),a=mn(),g.clearCollection(),f.getAggregator().trigger("nodesAdded")),setTimeout((function(){n.isApplicable(ue,o)&&(t.disconnect(),a=mn(),g.clearCollection(),f.getAggregator().trigger("nodesAdded"))}),0))},I=function(e){var t,n;if(!s&&u.hasMutationObserver()&&le.isWindow(e))try{s=Ne.getMutationObserver(E),t=e&&e.frameElement,n=e&&e.document&&e.document.body,s.observe(t,{attributes:!0,attributeFilter:["height","width"]}),s.observe(n,{childList:!0,subtree:!0})}catch(e){}};return function(e){var r=!1;if(!d.isUndef(t.MutationObserver)){var i=new t.MutationObserver((function(e){Ne.execAtEndOfThread((function(){r&&d(e).each((function(e,t){t.addedNodes.length&&f.getAggregator().trigger("adComponentAdded",t.addedNodes),t.removedNodes.length&&f.getAggregator().trigger("adComponentRemoved",t.removedNodes)}))}))})),o=function(){r=!0,Ne.setTimeout((function(){r=!1}),40)};f.getAggregator().on("adComponentClicked",o),f.getAggregator().on("adComponentMousedOver",o),ce.whenReady((function(){try{i.observe(n.body,{attributes:!0,childList:!0,characterData:!0})}catch(t){e.add(l.ERROR_CODES.AC_WATCHER)}}),Ne.getDoc())}}(r),{find:function(){return g.isUsingPlaceholder()||!g.hasAd()?p():g.refresh(),g},getDetectionMethod:function(){}}},Un=function(){"use strict";var e=function(){return null};return{find:e,getDetectionMethod:e}},Gn=function(e){"use strict";var t=new jn,n=new qn,r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=function(){var e,t=["FBAN","FBAV","Twitter","Instagram","Flipboard","Snapchat","LinkedInApp","Pinterest"],n=!1;for(e=0;e<t.length;e++)if(r.indexOf(t[e].toLowerCase())>-1){n=!0,f.getAggregator().trigger("addOutputItem",{output:t[e].substring(0,2)},"xlu",{type:"impression"});break}return n};return function(){var r="",o=f.getAggregator().request("omidAdSessionContext"),a=ue.isDomless()||o&&"app"===o.environment,s=o&&"web"===o.environment;try{a||!s&&e.bootstrapOn("mobOrTab")&&e.bootstrapOn("mobAppWebview")&&!i()?(r=t.detect(),t.hasDetectedMobileApp()&&("s_serv"!==r&&"u_cars"!==r||(Yn[Yn.length-1].detectionRules.userAgent[0]="/"),n.detect(),f.getAggregator().trigger("addOutputItem",{output:"1"},"mapp",{type:"impression"}),f.getAggregator().trigger("addOutputItem",{output:r},"drul",{type:"impression"}))):s&&f.getAggregator().trigger("addOutputItem",{output:"a_oweb"},"drul",{type:"impression"})}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.MOBILE_APP)}}(),{excludedByUserAgent:i,isMobileAppEnvironment:function(){return t.hasDetectedMobileApp()},isSafeToInjectMraid:function(){return n.isSafeToInjectMraid()}}};const Bn={url:{STRINGIFIED_METHOD:"u",detect:function(r){"use strict";if(ue.isDomless())return!1;const i=Ne.getWindow().location.href,o=[i];try{o.push(top.location.href)}catch(e){}try{o.push(parent.location.href)}catch(e){}if(ue.embedded){try{o.push(parent.document.referrer)}catch(e){}try{o.push(n.referrer)}catch(e){}}try{"jsi"!==e.mode&&o.push(t.location.href)}catch(e){}try{o.push(e.jsref)}catch(e){}return o.sort((function(e,t){return e.length>t.length?1:e.length<t.length?-1:0})),!!d(r).findFirst((function(e,t){let n,r,a=!1;const s="mobfox"===t?o:[i];for(r=0;r<s.length;r++){n=s[r];const e="string"==typeof t?[t]:t;if(d(e).isArray()&&e)for(let t=0;t<e.length&&(a=n.indexOf(e[t])>-1,!1!==a);t++);if(a)break}return a}))}},userAgent:{STRINGIFIED_METHOD:"a",detect:function(e){"use strict";return!ue.isDomless()&&!!d(e).findFirst((function(e,t){let n,r=!1;const i=Ne.getWindow();return d.isDef(i.navigator)&&d.isDef(i.navigator.userAgent)&&(n=i.navigator.userAgent,r=n&&-1!==n.indexOf(t)),r}))}},javascript:{STRINGIFIED_METHOD:"j",detect:function(e){"use strict";return!!d(e).findFirst((function(e,t){let n=!1;return n=d.isDef(Le.stringToProp(t)),n}))}},scriptSrc:{STRINGIFIED_METHOD:"s",detect:function(e){"use strict";return!ue.isDomless()&&!!d(e).findFirst((function(e,t){return le.containsScriptTagWithSrc((function(e){let n=!1;return n=d.isDef(e)&&-1!==e.indexOf(t),n}))}))}}},Hn=function(){"use strict";const e=function(e,t){let n;const r=Bn[e];return r.detect(t)&&(n=r.STRINGIFIED_METHOD),n};return{process:function(t){return d(t).map(e).join("")}}};var kn=[{STRINGIFIED_APPDET:"omid",detectionRules:{javascript:["omidSupported"]}},{STRINGIFIED_APPDET:"file",detectionRules:{url:["file:"],scriptSrc:["file:"]}},{STRINGIFIED_APPDET:"cont",detectionRules:{url:["content:"]}},{STRINGIFIED_APPDET:"appl",detectionRules:{url:["applewebdata:"]}},{STRINGIFIED_APPDET:"adma",detectionRules:{javascript:["ADMARVEL"]}},{STRINGIFIED_APPDET:"admb",detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_APPDET:"imbi",detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_APPDET:"mopb",detectionRules:{url:["ads.mopub.com"],javascript:["mopubFinishLoad"]}},{STRINGIFIED_APPDET:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_APPDET:"sads",detectionRules:{javascript:["mraid.sasSendMessage"]}},{STRINGIFIED_APPDET:"ogry",detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_APPDET:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_APPDET:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_APPDET:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_APPDET:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_APPDET:"aers",detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_APPDET:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_APPDET:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_APPDET:"cars",safeToInjectMraid:!0,detectionRules:{url:[["carsales",".android"],["carsales",".ios"]]}}],jn=function(){"use strict";var t,n=function(e,t){var n,r=Hn().process(t.detectionRules);return r&&(n=r+"_"+t.STRINGIFIED_APPDET),n};return{detect:function(){return""===(t=(t=d(kn).map(n)).length>0?t[0]:"")&&e.hasOwnProperty("serverSideAppDetection")&&0!==e.serverSideAppDetection.length&&(t="s_serv"),t},hasDetectedMobileApp:function(){return void 0!==t&&""!==t}}},qn=function(){"use strict";var e=[],t=[],n=function(t,n){var r,i=Hn().process(n.detectionRules);return i&&(e.push(n.STRINGIFIED_SDK+"*"+i),r=n),r};return{detect:function(){return(t=d(Yn).map(n)).length>0&&f.getAggregator().trigger("addOutputItem",{output:function(){return e.join(".")}},"sdk",{type:"impression"}),t.length>0},isSafeToInjectMraid:function(){return 1===t.length&&d.isDef(t[0].safeToInjectMraid)&&t[0].safeToInjectMraid}}},Yn=[{STRINGIFIED_SDK:"adma",safeToInjectMraid:!0,detectionRules:{javascript:["ADMARVEL"],url:["AdMarvel"]}},{STRINGIFIED_SDK:"admb",safeToInjectMraid:!0,detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_SDK:"imbi",safeToInjectMraid:!0,detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_SDK:"mmed",detectionRules:{url:["mmsdk"],scriptSrc:["mmsyscache"]}},{STRINGIFIED_SDK:"mopb",safeToInjectMraid:!0,detectionRules:{javascript:["mopubFinishLoad"],url:["ads.mopub.com"]}},{STRINGIFIED_SDK:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_SDK:"ambe",safeToInjectMraid:!0,detectionRules:{url:["amobee"]}},{STRINGIFIED_SDK:"smat",safeToInjectMraid:!0,detectionRules:{javascript:["smaato_bridge"]}},{STRINGIFIED_SDK:"afrm",safeToInjectMraid:!0,detectionRules:{javascript:["Adform"]}},{STRINGIFIED_SDK:"vrve",safeToInjectMraid:!0,detectionRules:{javascript:["vrvsdk"]}},{STRINGIFIED_SDK:"sads",detectionRules:{javascript:["mraid.sasSendMessage"],url:["smartadserver.com"]}},{STRINGIFIED_SDK:"ogry",safeToInjectMraid:!0,detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_SDK:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_SDK:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_SDK:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_SDK:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_SDK:"aers",safeToInjectMraid:!0,detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_SDK:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_SDK:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_SDK:"mrad",safeToInjectMraid:!0,detectionRules:{userAgent:["unmatchabledetectionstring"]}}],Kn=function(e){"use strict";var t=[],n=function(e,t,n){return new Qn(0,e,n,n+t)};return function(){if(e.height<10)t.push({geometry:new Qn(0,e.width,0,e.height),percentageInViewContribution:100,isInView:!1});else for(var r,i=Math.floor(e.height),o=i%10,a=(i-o)/10,s=0;s<10;s++){var u=s<o?a+1:a,c={geometry:n(e.width,u,r||0),percentageInViewContribution:10,isInView:!1};t.push(c),r=c.geometry.value().bottomY}}(),{getSlices:function(){return t}}},zn=function(){"use strict";var e,t=l.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID.length,n=l.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID,r=[];return{getConfig:function(i){if(e)return e;i.height<t&&(t=1,n=[100]);for(var o=0;o<t;o++)r.push(!1);return e={numberOfSlices:t,defaultSliceArray:r,percentInViewSliceArray:n}}}},Xn=function(e,t){"use strict";var n={mbrd:!1,mbvs:[],mbe:"n",mbv:9,mbs:[],mbm:1,mbivs:[]},r=function(e,t){var n,r=0,i=function(e,t){var n=[],r=e.geometry.value();return d(t).each((function(t,i){if(e.geometry.doesIntersect(i)){var o=i.value(),a=Math.max(r.leftX,o.leftX),s=Math.min(r.rightX,o.rightX),u=Math.max(r.topY,o.topY),c=Math.min(r.bottomY,o.bottomY);n.push(new Qn(a,s,u,c))}})),n}(e,t);return d(i).each((function(e,t){n=t.value(),r+=n.area})),r},i=function(t){d(e).each((function(e,n){n.isInView=r(n,t)>=n.geometry.value().area}))};return t.addListener(i),{getPercentInView:function(){var t=function(){var t=0;return n.mbs=[],d(e).each((function(e,r){n.mbs.push(r.isInView),r.isInView&&(t+=r.percentageInViewContribution)})),t}();return n.mbrd=1,t!==n.mbp&&n.mbivs.push([ue.getTagTime(),t]),n.mbp=t,t},removePixels:function(){void 0!==t&&t.stop()},getPixelStateForDebug:function(){return n.mbm=1,n.mbpr=[],n.mbir=[],d(e).each((function(e,t){n.mbpr.push(l.NA),n.mbir.push(!1)})),n},isReadyToMeasure:function(){return!0},getSliceStatus:function(){var t=[];return d(e).each((function(e,n){t.push(n.isInView)})),t}}},Jn=function(e){"use strict";var t=zn();return{getSliceStatus:function(n,r,i,o){var a,s=[],u=n.getRounded(),c=u.height,d=u.scrY,g=new fe({scrX:u.scrX,width:u.width}),f=t.getConfig(u).numberOfSlices;g.set("height",Ne.floor(c/f));for(var l=0;l<f;l++)g.set("scrY",Ne.ceil(d+c/f*l)),a=100===e.calcPercentInView(g,r,i,o),s.push(a);return s}}},Qn=function(e,t,n,r){"use strict";var i=Math.ceil(e),o=Math.ceil(t),a=Math.ceil(n),s=Math.ceil(r),u=o-i,c=s-a,d=u*c,g=function(){return{leftX:i,rightX:o,topY:a,bottomY:s,width:u,height:c,area:d}};return{value:g,doesIntersect:function(e){var t=g(),n=e.value();return n.leftX<t.rightX&&n.rightX>t.leftX&&n.topY<t.bottomY&&n.bottomY>t.topY}}},Zn=function(){"use strict";return{createInstance:function(e,t){return new IntersectionObserver(e,t)}}},$n=function(e,t){"use strict";var n,r=[],i=[],o=function(e,t){-1===e.indexOf(t)&&e.push(t)},a=function(e){var t,n=function(){var e=[];return d(i).each((function(t,n){var r=n.value();o(e,r.topY),o(e,r.bottomY)})),e=e.sort((function(e,t){return e-t}))}();i=[];for(var r=0;n.length>r&&(t=r,n.length!==t+1);r++){var a=n[r],s=n[r+1];i.push(new Qn(0,e,a,s))}},s=function(e,t){i.push(e),a(t),d(r).each((function(e,t){t(i)}))},u=function(){n.unobserve(e),n.disconnect()};return(n=t.createInstance((function(e){var t,n,r,i,o,a,c=e.pop(),d=c.boundingClientRect,g=d.width,f=c.intersectionRatio,l=c.intersectionRect,p=(t=d,r=(n=l).left-t.left,i=r+n.width,o=n.top-t.top,a=o+n.height,new Qn(r,i,o,a));s(p,g),1===f&&u()}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})).observe(e),{addListener:function(e){r.push(e)}}},er=function(){"use strict";var e=function(e){var t=!1;return tr.forEach((function(n){e===n.PARTNER_NAME&&(t=!0)})),t},t=function(t,r){return t.omidNativeInfo&&t.omidNativeInfo.partnerName&&e(t.omidNativeInfo.partnerName)?r&&n(r.onScreenContainerGeometry):r&&n(r.onScreenGeometry)},n=function(e){return e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("width")&&e.hasOwnProperty("height")};return{detect:e,checkAdViewGeometryBasedOnWhitelist:t,checkGeometryObject:n,checkForViewAttachmentBasedOnAdSessionType:function(e,n){if(n&&n.reasons&&n.reasons.indexOf("notFound")<0&&e.adSessionType&&(e.adSessionType.indexOf("native")>-1||e.adSessionType.indexOf("javascript")>-1||e.adSessionType.indexOf("html")>-1&&t(e,n)))return!0}}},tr=[{PARTNER_NAME:"IAB"},{PARTNER_NAME:"IAS"},{PARTNER_NAME:"com.integralads.omid.iassdk"}],nr=function(){"use strict";return{listenForResult:function(){f.getAggregator().on("videoBlockResult",(function(t){var n=f.getAggregator().request("adNode"),r=!1,i="blockAd"+e.videoId;"failed"===t.action&&(r=!0),n&&d.isDef(n.blockAd)?n.blockAd(r):n&&d.isDef(n[i])&&n[i](r)}))}}};const rr=function(){"use strict";const t=[];return{registerEvent:(n,r)=>{const i=function(t,n){const r=f.getAggregator().request("videoTranslator").translate(t.messageType),i=(e=>{const t=e.eventData||{},n=d({}).mixin(t);return n.ext_passthrough&&delete n.ext_passthrough,n})(t),o=(e=>{let t;const n=e.eventData&&e.eventData.ext_passthrough,r=(e,t)=>{const n={};return n[`x_${e}`]=t,n};return n&&(t=d(n).mapToObj(r)),t})(t),a={t:t.time-e.birthdate,tp:r,sl:n};d(a).mixin(i),d(a).mixin(o);const s=d({indicatesPlaying:()=>-1!=="showAd|adImpression|adVideoStart|resumeAd".indexOf(r),indicatesNotPlaying:()=>-1!=="adVideoComplete|adStopped|stopAd|pauseAd".indexOf(r),indicatesFullscreen:()=>{const e=Ne.getWindow();return!("resizeAd"!==r&&"initAd"!==r||"fullscreen"!==i.viewMode&&i.width!==e.screen.width)},indicatesNormalSize:()=>"resizeAd"===r&&"normal"===i.viewMode,indicatesQuartile:()=>-1!=="adVideoFirstQuartile|adVideoMidpoint|adVideoThirdQuartile|adVideoComplete".indexOf(r),indicatesCompletion:()=>-1!=="adStopped|adVideoComplete|adSkipped|adError".indexOf(r),getVolume:e=>e.getVolumeFromContext(i),updateScreenLoc:e=>{a.sl=e,s.sl=e},trigger:()=>{"adImpression"===r?f.getAggregator().persistentTrigger(r,i,o):f.getAggregator().trigger(r,i,o)},toString:()=>"{"+d(a).toParams()+"}"}).mixin(a);return s}(n,r);return t.push(i),i},toString:()=>"{"+d({vEventCount:t.length,vEvents:"["+t.join(",")+"]"}).toParams()+"}",isEmpty:()=>0===t.length}};var ir=function(){"use strict";var e,t,n,r=function(r){n=d.isDef(r)?0===r:n,t&&n&&e.addState({isFullyInView:function(){return!1}})},i=function(){e&&e.hasAlwaysBeen(!0)&&f.getAggregator().trigger("sendDt",l.DT_CODES.QUARTILE_FULLY_INVIEW)},o=function(){t=!0,r()},a=function(e){var t=(new ar).getVolumeFromContext(e);r(t)};return{isApplicable:function(e){return e.usesGroupMCustomMetric()},start:function(n){f.getAggregator().on({adVideoStart:o,adImpression:o,volumeChanged:a,adVideoMidpoint:i}),e=n.createViewabilityTracker("mpt",(function(e){var n=f.getAggregator().request("isFullyInViewProvider");return!t||n&&n.isFullyInView(e)}))}}},or=function(){"use strict";var e={AdPaused:"pauseAd",AdVolumeChange:"volumeChanged",AdPlaying:"resumeAd"};return{translate:function(t){var n=t.charAt(0).toLowerCase()+t.slice(1);return t in e&&(n=e[t]),n}}};const ar=function(){"use strict";return{getVolumeFromContext:e=>{let t,n=-1;return d.isDef(e)&&(d.isDef(e.volume)?n=e.volume:d.isDef(e.adVolume)&&(n=e.adVolume)),-1!==n&&(t=n),t}}};var sr=function(t,n,r){"use strict";var i,o,a,s="IASid"+t,u="getIasVidBridgeVersion"+t,c=[],g=l.OUT_OF_VIEW,p=!1,m=!1,h=!1,v=!0,E=new rr,I=ir(),A=new nr,S=new ar,T=new Oe,D=function(e){var t;return p=!0,t=O(e),c.push(t),a&&_(),t},O=function(e){var n,i,o={};try{o=JSON.parse(unescape(e&&e.data?e.data:e))}catch(e){o={}}return o.id==t&&((n=E.registerEvent(o,r.getCurrentLoc())).indicatesPlaying()?(m=!0,g=!!h&&l.IN_VIEW):n.indicatesNotPlaying()?(m=!1,g=l.OUT_OF_VIEW):n.indicatesFullscreen()?(h=!0,g=m?l.IN_VIEW:l.OUT_OF_VIEW):n.indicatesNormalSize()&&(h=!1,g=!m&&l.OUT_OF_VIEW),(i=parseFloat(n.getVolume(S)))>0?v=!0:0===i&&(v=!1)),n},y=function(){i||(d(["*[data-integralas-vid-"+t+"]",".integral-vid-"+t,"ias-ad","object","embed"]).findFirst((function(e,t){var n=Ne.getDoc().querySelectorAll(t);return i=function(e){return d(d(e).toArray()).findFirst((function(e,t){return d.isFunction(t[s])}))}(n),i})),!i&&n.on("novidnodeerr")&&Math.random()<.1&&__IntegralASDiagnosticCall("novidnode",{message:"node not found*10"},e));return i},w=function(){var n=y();return n&&!p&&function(n){var r,i,o=ye().wrapToGlobal(D);try{i=n[u]||n.getIasVidBridgeVersion,r=d.isFunction(i)&&"2"===i.call(n)?unescape(n[s].call(n,t,o)):unescape(n[s].call(n,t)),p=!0,function(e){d.isStr(e)&&(f.getAggregator().provide("vc",(function(){return e})),f.getAggregator().trigger("addOutputItem",{output:e},"vc",{type:"impression"}))}(r||"n")}catch(t){__IntegralASDiagnosticCall("handshakefailure",t,e)}}(n),n},N=function(e){var t=S.getVolumeFromContext(e);v=!!d.isDef(t)&&t>0},_=function(){T.init(),d(c).each((function(e,t){t&&(d.isUndef(t.sl)&&t.updateScreenLoc(r.getCurrentLoc()),t.trigger(),t.indicatesCompletion()&&f.getAggregator().trigger("adSessionComplete"),t.indicatesQuartile()&&("adVideoComplete"!==t.tp&&f.getAggregator().trigger("sendDt",l.DT_CODES.VIDEO_EVENTS),f.getAggregator().trigger("videoQuartileEvent",t)))})),c=[],a=!0},R=function(){return h&&m};return ce.addEvent(Ne.getWindow(),"message",(function(e){D(e)})),f.getAggregator().on({volumeChanged:N}),f.getAggregator().provide({videoEventsString:E,videoVersion:function(){var e,t=w();try{e=t.getVersion()}catch(t){e=-1,f.getAggregator().trigger("error",l.ERROR_CODES.NO_VIDEO_AD_INTERFACE)}return e},videoTranslator:function(){return o=o||new or},adNode:w}),w(),A.listenForResult(),I.isApplicable(ue)&&I.start(r),{findAdNode:w,getViewStateOverride:function(){return g},isHandshakeComplete:function(){return p},triggerInitializationEvents:_,setVideoSpecificScreenEventFields:function(e){var t=e.viewState===l.NA;if(e.isVideoPlaying=!0,e.isSoundOn=v,e.isVideoPlayingInFullscreen=!1,g){if(g===l.OUT_OF_VIEW){var n=e.reason?e.reason.split("."):[];n[n.length]=l.OUT_OF_VIEW_REASONS.VIDEO,e.reason=n.join(".")}e.viewState=t?e.viewState:g,e.isVideoPlaying=g===l.IN_VIEW}R()&&(e.percentInView=100,e.isVideoPlayingInFullscreen=!0)}}},ur=function(){"use strict";var e=l.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.COUNT;return new lr(l.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.TYPE,e)},cr=function(){"use strict";var e,t,n={},r=0,i=function(n){(n||e)&&(r+=5,t.onTick(r,(function(){e?i():f.getAggregator().trigger("sendDt",l.DT_CODES.PERFORMANCE)})),e=!1)},o=function(){t=new K,r=0,i(!0),t.start()},a=function(r,i,a,s){var u=n[r];s?(d.isDef(u[i])||(u[i]=[]),u[i].push(a)):u[i]=a,t&&t.isActive()||o(),e=!0},s=function(n,r,i){f.getAggregator().trigger("addOutputItem",{output:r},n,i),t&&t.isActive()||o(),e=!0},u=function(t){d(n).each((function(r,i){!function(t,r){var i=n[t],o={type:r,oneTime:!0,minDt:!0,asION:!0};d(i).isEmpty()||(f.getAggregator().trigger("addOutputItem",{output:i},t,o),n[t]={}),e=!1}(r,t)}))};return{start:function(){f.getAggregator().on("preSendDt",(function(e){u(e),t&&t.kill()})),f.getAggregator().on("addThrottledProp",a),f.getAggregator().on("addThrottledOutputItem",s)},addFieldTypes:function(e){d(e).each((function(e,t){n[t]={}}))}}},dr=function(){"use strict";var t={},n=function(n){return!t[n]&&(t[n]=new Y(1,e.birthdate)),t[n]},r=function(e){n(e).start()},i=function(e){var t=n(e);t.stop(),f.getAggregator().trigger("addThrottledProp","im",e,t.getTime())};return{start:function(){f.getAggregator().on({markTime:r,measureTime:i})},isApplicable:function(e){return e.on("pIntervals")}}},gr=function(){"use strict";var e=l.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.COUNT;return new lr(l.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.TYPE,e)},fr=function(e){"use strict";var t={},n=e instanceof Array&&e.length>0;return n&&(d(e).each((function(e,n){var r;t[(r=n).getType()]=r})),f.getAggregator().on("perfCheckpoint",(function(e){var n=t[e.type];if(n)try{n.addPoint(e),n.isFinished()&&f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.IM,"pci",n.toString())}catch(e){}}))),f.getAggregator().provide("perfActive",(function(){return n})),{isActive:n}},lr=function(e,t){"use strict";var n=0,r=[],i=function(){var e,t={};return r.sort((function(e,t){return e.timestamp-t.timestamp})),d(r).each((function(r,i){e&&(t[i.code]=i.timestamp-e),i.timestamp,r===n&&(e=i.timestamp)})),t};return{addPoint:function(e){r.push(e)},toString:function(){return d(i()).toION()},getType:function(){return e},setBaseOrdinal:function(e){n=e},isFinished:function(){return r.length===t}}},pr=function(){"use strict";function e(){}return e.build=function(){var e,t=[];t.push((e=l.PERF_TIMELINE_TRACKER_CONFIG.RENDER.COUNT,new lr(l.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,e)));var n,r=(n=f.getAggregator().request("vc"))?{jv3:mr,av3:mr,jvw:gr,avw:ur}[n]:void 0;return r&&t.push(r()),t},e}(),mr=function(){"use strict";var e=l.PERF_TIMELINE_TRACKER_CONFIG.VANS.COUNT;return new lr(l.PERF_TIMELINE_TRACKER_CONFIG.VANS.TYPE,e)},hr={IDS:{BLOCK_TIME:"pBlk",ON_LOAD:"pLoad",IN_BROWSER_DELAY:"pWait"},recordBlockingTime:function(){"use strict";f.getAggregator().trigger("measureTime",hr.IDS.BLOCK_TIME)},setupOnLoadTracking:function(){"use strict";ce.addEvent(t,"load",(function(){f.getAggregator().trigger("measureTime",hr.IDS.ON_LOAD)}))},setupBrowserDelayTracking:function(){"use strict";var e=new K;e.onTick({4:function(){f.getAggregator().trigger("markTime",hr.IDS.IN_BROWSER_DELAY)},5:function(){f.getAggregator().trigger("measureTime",hr.IDS.IN_BROWSER_DELAY)}}),e.start()}},vr={isFrameworkAvailable:function(e,t){var n,r,i=Ne.getTop(),o=Ne.getWindow();try{n=i[e]}catch(e){for(;!r;){try{o.frames[t]&&(r=o.frames[t].parent)}catch(e){}if(o===i)break;o=o.parent}}return n||r},getMessageHandler:function(e,t){var n=vr.getCallId(),r=function(i){try{i&&i.data&&i.data[e]&&i.data[e].callId===n&&i.data[e].returnValue&&(t(i.data[e].returnValue),ce.removeEvent(Ne.getWindow(),"message",r))}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.GDPR)}};return r},getCallId:function(){return"ias_"+e.asid},send:function(e,t){f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.ENVIRONMENT,e,t)}},Er={name:"CCPAConsentDetector",dependencies:[],creator:function(){"use strict";var e;function t(e){e&&vr.send("ccd",d(e).toION())}e=vr.isFrameworkAvailable("__uspapi","__uspapiLocator"),vr.send("cca",!!e),e&&function(e){var n,r;d.isFunction(e)?e("getUSPData",1,t):(n={__uspapiCall:{command:"getUSPData",version:1,callId:vr.getCallId()}},r=vr.getMessageHandler("__uspapiReturn",t),ce.addEvent(Ne.getWindow(),"message",r),e.postMessage(n,"*"))}(e)},settings:{tier:l.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return t.hasPostMessage()&&!n.isDomless()}}},Ir={name:"GDPRConsentDetector",dependencies:[],creator:function(){"use strict";var e,t=278;function n(e){var t=d.isDef(e)&&d.isDef(e.vendorConsents)&&d.isDef(e.vendorConsents[278])?e.vendorConsents[278]:void 0,n={appl:d.stringifyTriState(e.gdprApplies),cnst:d.stringifyTriState(t),glbl:d.stringifyTriState(e.hasGlobalScope),mtdt:encodeURIComponent(e.metadata)},r=e&&e.tcString;f.getAggregator().provide("tcString",(function(){return r})),vr.send("gcd",d(n).toION())}e=vr.isFrameworkAvailable("__cmp","__cmpLocator"),vr.send("gca",!!e),e&&function(e){var r,i;d.isFunction(e)?e("getVendorConsents",[t],n):(r={__cmpCall:{command:"getVendorConsents",parameter:[t],callId:vr.getCallId()}},i=vr.getMessageHandler("__cmpReturn",n),ce.addEvent(Ne.getWindow(),"message",i),e.postMessage(r,"*"))}(e)},settings:{tier:l.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return t.hasPostMessage()&&!n.isDomless()}}},Ar={name:"GDPRV2ConsentDetector",dependencies:[],creator:function(){"use strict";var e;function t(e){var t=d.isDef(e)&&d.isDef(e.vendor)&&d.isDef(e.vendor.consents)&&d.isDef(e.vendor.consents[278])?e.vendor.consents[278]:void 0,n={appl:d.stringifyTriState(e.gdprApplies),cnst:d.stringifyTriState(t)};vr.send("gcd2",d(n).toION())}e=vr.isFrameworkAvailable("__tcfapi","__tcfapiLocator"),vr.send("gca2",!!e),e&&function(e){var n,r;d.isFunction(e)?e("getTCData",2,t):(n={__tcfapiCall:{command:"getTCData",parameter:[278],callId:vr.getCallId(),version:2}},r=vr.getMessageHandler("__tcfapiReturn",t),ce.addEvent(Ne.getWindow(),"message",r),e.postMessage(n,"*"))}(e)},settings:{tier:l.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return t.hasPostMessage()&&!n.isDomless()}}},Sr={name:"postMessageDetector",dependencies:[],creator:function(){"use strict";var t,n=!1,r="pmdetector"+e.asid,i=function(e){(e&&e.data)===r&&(n=!0)};t=Ne.getWindow(),ce.addEvent(t,"message",i),t.postMessage(r,"*"),Ne.execAtEndOfThread((function(){f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.IM,"pom",d.stringifyTriState(n)),ce.removeEvent(t,"message",i)}))},settings:{tier:l.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return e.on("pmdetect")&&t.hasPostMessage()}}},Tr={name:"safeFrameDetector",dependencies:[],creator:function(){"use strict";f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.IM,"sf",d.stringifyTriState(ue.isSafeFrame()))},settings:{tier:l.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return e.on("sfdetect")}}},Dr=function(t,n,r,i,o,a,s){"use strict";var u="adsafe_jsinfo=",c=function(e,t){return isNaN(e)||e<0||""===e?t:e},g=function(e){return"&"===e.slice(-1)?"":"&"},p=function(p){var m=i.baseUrl,h=c(e.sp_imp_maxLength,2e3);if(ue.integratedBlockingApplies(m)&&(m=function(t){var n=f.getAggregator().request("mobileApp"),r=n&&n.isMobileAppEnvironment&&n.isMobileAppEnvironment(),i=t+"adContainerId="+e.contextNode.getAttribute("data-ias-container")+"&cbFunctionName="+e.contextNode.getAttribute("data-ias-callback");i=r?i.replace("monitoring","blocking"):i.replace("skeleton.js",e.integration+".js");var o=e.protocol+":"+e.staticServer+e.integration+"a.js",a=e.protocol+":"+e.staticServer+e.integration+".js";return i+"&true_pb="+encodeURIComponent(e.passback)+(r?"&redirectUrl="+encodeURIComponent(a):"")+(r?"&passback=":"&adsafe_pb=")+encodeURIComponent(o)+"&"}(m)),m=m.replace(l.UNIQUE_ID_TOKEN,e.asid),m+=function(r,i,o){var a,s=c(e.sp_imp_jsInfo_minLength,0),d="";try{(a=i-r-s)>0&&(d+=_r(o,a,u.length,n.on("partialUrls")).join("&"))}catch(e){t.add(l.ERROR_CODES.IMPRESSION_URLS)}return d}(m.length,h,p),m+=g(m),m+=function(e,i){var c="";try{c+=yr(i-e,u,t,n,r,o,a,s,i)}catch(e){t.add(l.ERROR_CODES.JSINFO),c+="adsafe_jsinfo=e:"+t.toString()}return c}(m.length,h),i.macroUrl&&(m+=g(m),m+=i.macroUrl),e.staticFwjsMacros&&(m+=g(m),m+=e.staticFwjsMacros),ue.isAMZN()&&-1===m.indexOf("gdpr_consent")){var v=f.getAggregator().request("tcString");d.isDef(v)&&(m+=g(m),m+="gdpr_consent="+v)}return m};return{send:function(t){try{var n=p(t);e.impUrl=n,i.sendImpression(n),f.getAggregator().trigger("impressionsent")}catch(t){__IntegralASDiagnosticCall("impsend",t,e)}}}},Or=function(){try{var n,r,i,o,a,s,u=e.perf;u.markEnd("ec"),n=u.getEnd("ec"),r=t.performance&&"function"==typeof t.performance.getEntriesByName&&t.performance.getEntriesByName(e.impUrl)[0],i=function(t){var n=u.getStart("bd"),r=u.getStart(T);return e.jsDoSplit?Math.round(t-n):Math.round(t-r)}(n),o=function(e){return Math.round(e&&e.duration)}(r),a=function(e,t){var n=t&&t.responseEnd;return Math.round(e-n)}(n,r),d.isNumeric(i)&&d.isNumeric(o)&&d.isNumeric(a)&&(s={ttecl:i,ecd:o,tsecr:a},f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.IM,"imprf",d(s).toION()))}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.IMPRESSION_PERFORMANCE)}},yr=function(t,n,r,i,o,a,s,u,c){"use strict";var g,p,m,h,v;return function(r){var i=d.encodeInvalidUrlChars(r.primary.join(","),e.encodeInvalidUrlChars),a=n,s=0,u=function(e){return a.length+e.length+5<=t},c=function(e){if(e)return","+e};return u(i)?(a+=c(i),o.impressionIsIdentifiable(!0),d(r.secondary).each((function(t,n){var r=d.encodeInvalidUrlChars(n,e.encodeInvalidUrlChars);u(r)?a+=c(r):s+=1}))):s+=r.primary.length,a+=",ov:"+s}((h={viewState:l.NA},v=h,ue.isDomless()?v=u.checkScreenLoc(!0)||h:i.on("impFailSafe")?Ne.getDoc().body&&(v=u.checkScreenLoc(!0)||h):d.isDef(Ne.getDoc().body)&&(v=u.checkScreenLoc(!0)),u.isImmediatelyMeasurable()||u.requiresDelayedViewabilityEvent(),g=wr((m=v).viewState,o,i),p=Nr(m,r,i,o,a,s,u,c),f.getAggregator().trigger("eligiblerender"),{primary:g,secondary:p}))},wr=function(t,n,r){"use strict";var i=f.getAggregator().request("mPage");return["id:"+e.asid,"c:"+n.getCacheBustId(),"sl:"+t,"em:"+ue.embedded,"fr:"+ue.friendly,"thd:"+d.stringifyTriState(i.supportsVisAPI())]},Nr=function(t,n,r,i,o,a,s,u){"use strict";var c,g="NotFound",f=[];return f.push("mn:"+e.mn),f.push("rg:"+e.region),e.iasProxyPartnerDomain&&f.push("ipp:"+encodeURIComponent(e.iasProxyPartnerDomain)),f.push("pt:"+function(){var e=s.stringifyPingTimes();return t.viewState!==l.NA&&(e+=t.details),e}()),f.push("mu:"+u),f.push(d(a.params()).toParams()),r.on("mrcAudit")&&!ue.isDomless()&&f.push("dvs:"+Ne.getDoc().visibilityState),o.iterate((function(e,t){var n=!t.props||d.isUndef(t.props.type),r=!t.props||t.props.type===l.IMPRESSION_EVENT;(n||r)&&f.push(e+":"+t.output())})),n.toString()&&f.push("e:"+n.toString()),f.push(r.output()),f.push("tt:"+e.mode),f.push("et:"+(Ne.now()-e.birthdate)),e.perf.mark("si"),r.on("swapids")?f.push("oid:"+e.oid):f.push("uid:"+i.unq),f.push("v:19.8.343"),f.push("sp:"+(e.isSplitMode?1:0)),f.push("st:"+(e.staticMode?1:0)),f.push("fwm:"+("true"===e.fwMonitoring?1:0)),r.on("resolution")&&(f.push("wr:"+d(le.windowSize()).toArray().join(".")),f.push("sr:"+d(le.screenSize()).toArray().join("."))),c=function(){var t,n="ias_xpc",r=String(e.scriptUrl).toLowerCase(),i=r.indexOf(n);if(i>-1){var o=r.substring(i+n.length+1),a=o.indexOf("&");t=a>-1?o.substring(0,a):o}else t=g;return t||""}(),g!==c&&f.push("x_xpc:"+c),f},_r=function(e,t,n,r){"use strict";var i,o,a="adsafe_url=",s="&adsafe_type=",u=[],c=function(e){return-1!==e.key.indexOf("q")||-1!==e.key.indexOf("g")},g=function(e){var i,o,c,d=e.val,g=e.key,f=(o=g,c=a.length+s.length+u.join("&").length+o.length+n,t-c);r&&f<d.length&&f>0&&(d=d.substr(0,f)),(d.length||""===e.val||""===e.type)&&function(e){var n=u.join("&").length;return e.length+n<=t}(i=a+d+s+g)&&u.push(i)};return e&&e.length&&(i=d(e).map((function(e,t){if(c(t))return t})),o=d(e).map((function(e,t){if(!c(t))return t})),d(i.concat(o)).each((function(e,t){g(t)}))),u},Rr=function(){"use strict";return{isApplicable:function(e){var t=Ne.getWindow();return!(!t.navigator||!t.navigator.plugins)},start:function(e){var t,n,r,i=Ne.getWindow(),o=Vr(i.navigator.plugins),a=o.hash();n=a.join("."),f.getAggregator().trigger("addOutputItem",{output:n},"pl",{type:l.IMPRESSION_EVENT}),a.length&&(t=o.decode(a),r=t.join("."),f.getAggregator().trigger("addOutputItem",{output:r},"pd",{type:l.DT_CODES.ADTALK}))}}},br=function(e,t){"use strict";return{start:function(){try{var n=Cr(),r=n.getMethodName(e),i=new X(t.getEnabledScriptUrl(e));new Fr((o=Ne.getDoc()).body||o.head||o.documentElement,i).getWindow()[r]=n.getMethod(t)}catch(e){f.getAggregator().trigger("error",l.ERROR_CODES.FEATURE_SCRIPT)}var o}}},Cr=function(){"use strict";var t=function(t,n,r){t===e.asid&&(r.unshift(n),f.getAggregator().trigger.apply(null,r))};return{getMethod:function(n){return function(r){var i={asid:e.asid,constant:l,features:n,context:ue,dtBaseURL:e.dtBaseURL,spg:Pr};"function"==typeof r&&r(t,i)}},getMethodName:function(e){return"register_"+e}}},Mr=function(){"use strict";return{start:function(e,t){d(e).each((function(e,n){t.getEnabledScriptUrl(n)&&br(n,t).start()}))}}},Vr=function(e){"use strict";var t=function(e){return e.filename.replace(/\.plugin$/,"")};return{hash:function(){for(var n,r,i,o=0,a=e.length,s=[];o<a;o++)r=t(e[o]),i=Le.hashCode(r),n=d.toBase(i,62).slice(-4),s.push(n);return s},decode:function(n){var r,i;return r=Ne.floor(Ne.random()*n.length),i=encodeURIComponent(t(e[r])),[n[r],i]}}},Fr=function(t,n){"use strict";var r,i=function(){return"about:blank"};return function(n){var o;(r=le.createHiddenIframe()).setAttribute("src",i()),r.setAttribute("class","_ntnrjf7826-hj"),(t||e.contextNode.parentNode).appendChild(r),o=function(e){return e.contentWindow.document}(r);var a=["<head></head>",'<body onload="',"var d = document;","var s = d.createElement('script');","d.getElementsByTagName('head')[0].","appendChild(s).src","='"+n+"'\">"].join("");o.open().write(a),o.close()}(n),{getWindow:function(){return r.contentWindow}}},Pr=function(t){"use strict";var n=new W;n.listen((function(n){return n&&n.scaInfoOriginatorASID&&n.scaInfoOriginatorASID!==e.asid&&n.cache&&t.allExpectedKeysPresent(n.cache)}),(function(e,r){n.stop(),Ne.setTimeout((function(){t.isDtCallAlreadySent()||(f.getAggregator().trigger("addThrottledProp",l.DT_SLOT.FF,"spg",r.scaInfoOriginatorASID),d(r.cache).each((function(e,n){t.addToCache(e,n)})))}),Ne.round(1e3*Ne.random()))})),f.getAggregator().on("addToSpg",(function(e,n){t.addToCache(n,e),t.isFull()&&(t.sendToOtherTags(),Ne.setTimeout(t.sendToOtherTags,1300),Ne.setTimeout(t.sendToOtherTags,3200))}))},Lr={name:"spg",dependencies:["spgCache"],creator:Pr,settings:{tier:l.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){"use strict";return e.on("spg")}}},xr={name:"spgCache",dependencies:[],creator:function(){"use strict";var t=["asp","ch","fsc","mvn","no","sd"],n={},r=!1,i=function(){return o(n)},o=function(e){return d(e).keys().sort().toString()===t.toString()},a=function(){r||(r=!0,d(n).each((function(e,t){f.getAggregator().trigger("addOutputItem",t,e,{type:l.DT_CODES.SCA,minDt:!0,sendOnce:!0})})),f.getAggregator().trigger("sendMinDt",l.DT_CODES.SCA))};return{allExpectedKeysPresent:o,isDtCallAlreadySent:function(){return r},addToCache:function(e,t){t&&t.output&&!i()&&(n[e]=t),i()&&a()},isFull:i,sendToOtherTags:function(){(new U).send({scaInfoOriginatorASID:e.asid,cache:n})}}},settings:{}},Wr=function(){for(var e=[Ir,Er,Ar,ze,Ke,He,ke,Ue,qe,je,Ge,Sr,Tr,Q,gt,cn,xr,Lr],t=0;t<e.length;t+=1)f(e[t].name,e[t].dependencies,e[t].creator,e[t].settings)};try{!function(){"use strict";var t,n,r,i,o,a,s;e.mainBirthdate=e.hasOwnProperty("birthdate")?(new Date).getTime()-e.birthdate:-1,e.perf.markStart(p),Wr(),f.startSystem();var u=f.getAggregator();i={},o={},u.provide({omidAdSessionContext:i}),u.provide({omidAdSessionVerificationParameters:o}),e.isResolved&&u.provide("features",Ee()),t=pe(),n=ye(),r=(new ie).createInstance(t,n),u.provide({mErrors:t,mJsonp:n,mComm:r}),a=__IASOmidVerificationClient,u.provide({omidVerificationClient:a}),s=[{environment:Et(a),adSessionReadyStrategy:St(a)},{environment:Tt(),adSessionReadyStrategy:Ot()}],new At(s).resolve().adSessionReadyStrategy.start(),e.perf.markEnd(p)}()}catch(t){__IntegralASDiagnosticCall("main",t,e)}};try{!function(){var e=__IntegralASConfig.useFIF?__IASScope.parent:__IASScope;try{top.__IntegralASAdPush=function(t){(t||top.isSingleIASInstance&&top.iasAdSlots).forEach((function(t){__IntegralASConfig._cl_adpath=t.adSelector,__IntegralASConfig.iasParameters=t.iasParameters,__IntegralASConfig.initialize(__IntegralASConfig,e,e.document)}))},top.isSingleIASInstance&&top.iasAdSlots?top.__IntegralASAdPush():__IntegralASConfig.initialize(__IntegralASConfig,e,e.document)}catch(t){__IntegralASConfig.initialize(__IntegralASConfig,e,e.document)}}()}catch(e){__IntegralASDiagnosticCall("initialize",e,__IntegralASConfig)}
